{"version":3,"names":["EDITOR","_virtualInternal253AconstantsJs","_coreDataDecoratorsIndexJs","ccclass","editable","range","serializable","type","visible","_defineJs","CLASS_NAME_PREFIX_ANIM","_poseNodeJs","PoseTransformSpaceRequirement","_decoratorInputJs","input","_coreIndexJs","approx","ccenum","error","Quat","Vec3","_decoratorNodeJs","poseGraphNodeAppearance","poseGraphNodeCategory","_menuCommonJs","POSE_GRAPH_NODE_MENU_PREFIX_POSE","_intensitySpecificationJs","IntensitySpecification","_modifyPoseBaseJs","PoseNodeModifyPoseBase","_foundationTypeSystemJs","PoseGraphType","_transformSpaceJs","TransformSpace","_coreTransformJs","Transform","execute","TransformOperation","_export","APPLY_INTENSITY_EPSILON","cacheTransform","PoseNodeApplyTransform","_dec","_dec2","_dec3","themeColor","_dec4","_dec5","VEC3","_dec6","positionOperation","LEAVE_UNCHANGED","_dec7","_dec8","QUAT","_dec9","rotationOperation","_dec10","_dec11","_dec12","FLOAT","_class","_class2","constructor","args","node","_initializer","_initializer2","_initializerDefineProperty","_descriptor","_initializer3","_descriptor2","intensity","_initializer4","transformSpace","_initializer5","_transformHandle","intensityValue","value","bind","context","nodeName","transformHandle","bindTransformByName","getPoseTransformSpaceRequirement","NO","modifyPose","inputPose","modificationQueue","evaluate","fullIntensity","index","transformIndex","nodeTransform","transforms","getTransform","rotation","rotationSpace","_convertPoseSpaceTransformToTargetSpace","REPLACE","replaceRotation","ADD","addRotation","_convertTransformToPoseTransformSpace","position","positionSpace","replacePosition","addPosition","push","_applyDecoratedInitializer","prototype","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer","WORLD","Object","getOwnPropertyDescriptor","replace","add","cacheInput","cacheResult","transform","inputPosition","copy","lerp","result","slerp","ZERO","inputRotation","resultRotation","IDENTITY","multiply","getTitle","undefined"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/animation/marionette/pose-graph/pose-nodes/apply-transform.ts"],"mappings":"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"}