{"version":3,"names":["BuiltinSharedBody","_class","m4_0","v3_0","v3_1","quat_0","_export","setters","_coreIndexJs","Mat4","Quat","Vec3","js","geometry","_objectBuiltinObjectJs","BuiltinObject","_frameworkIndexJs","PhysicsSystem","_frameworkPhysicsEnumJs","PhysicsGroup","execute","getSharedBody","node","wrappedWorld","wrappedBody","key","uuid","newSB","sharedBodesMap","has","get","g","DEFAULT","m","instance","collisionMatrix","collisionFilterGroup","collisionFilterMask","set","rigidBody","group","id","_id","enabled","v","index","world","bodies","length","addSharedBody","syncInitial","isRemove","shapes","removeSharedBody","reference","ref","destroy","constructor","idCounter","intersects","body","i","shapeA","j","shapeB","collider","needTriggerEvent","intersect","resolve","worldShape","shapeArr","push","addShape","shape","indexOf","removeShape","array","fastRemoveAt","syncSceneToPhysics","hasChangedFlags","getWorldMatrix","worldPosition","worldRotation","worldScale","transform","delete","Map"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/physics/cocos/builtin-shared-body.ts"],"mappings":";;;kFAyCaA,iBAAiB,EAAAC,MAAA,EAAAC,IAAA,EAAAC,IAAA,EAAAC,IAAA,EAAAC,MAAA;EAAAC,OAAA;EAAA;IAAAC,OAAA,aAAAC,YAAA;MAjBrBC,IAAI,GAAAD,YAAA,CAAJC,IAAI;MAAEC,IAAI,GAAAF,YAAA,CAAJE,IAAI;MAAEC,IAAI,GAAAH,YAAA,CAAJG,IAAI;MAAEC,EAAE,GAAAJ,YAAA,CAAFI,EAAE;MAAEC,QAAQ,GAAAL,YAAA,CAARK,QAAQ;IAAA,aAAAC,sBAAA;MAE9BC,aAAa,GAAAD,sBAAA,CAAbC,aAAa;IAAA,aAAAC,iBAAA;MAIbC,aAAa,GAAAD,iBAAA,CAAbC,aAAa;IAAA,aAAAC,uBAAA;MACbC,YAAY,GAAAD,uBAAA,CAAZC,YAAY;IAAA;IAAAC,OAAA,WAAAA,CAAA;MAEflB,IAAI,GAAG,IAAIO,IAAI,CAAC,CAAC;MACjBN,IAAI,GAAG,IAAIQ,IAAI,CAAC,CAAC;MACjBP,IAAI,GAAG,IAAIO,IAAI,CAAC,CAAC;MACjBN,MAAM,GAAG,IAAIK,IAAI,CAAC,CAAC;MAEzB;AACA;AACA;MAFAJ,OAAA,sBAGaN,iBAAiB,GAAvB,MAAMA,iBAAiB,SAASe,aAAa,CAAC;QAGjD,OAAOM,aAAaA,CAAEC,IAAU,EAAEC,YAA0B,EAAEC,WAA8B,EAAqB;UAC7G,MAAMC,GAAG,GAAGH,IAAI,CAACI,IAAI;UACrB,IAAIC,KAAwB;UAC5B,IAAI3B,iBAAiB,CAAC4B,cAAc,CAACC,GAAG,CAACJ,GAAG,CAAC,EAAE;YAC3CE,KAAK,GAAG3B,iBAAiB,CAAC4B,cAAc,CAACE,GAAG,CAACL,GAAG,CAAE;UACtD,CAAC,MAAM;YACHE,KAAK,GAAG,IAAI3B,iBAAiB,CAACsB,IAAI,EAAEC,YAAY,CAAC;YACjD,MAAMQ,CAAC,GAAGZ,YAAY,CAACa,OAAO;YAC9B,MAAMC,CAAC,GAAGhB,aAAa,CAACiB,QAAQ,CAACC,eAAe,CAACJ,CAAC,CAAC;YACnDJ,KAAK,CAACS,oBAAoB,GAAGL,CAAC;YAC9BJ,KAAK,CAACU,mBAAmB,GAAGJ,CAAC;YAC7BjC,iBAAiB,CAAC4B,cAAc,CAACU,GAAG,CAAChB,IAAI,CAACI,IAAI,EAAEC,KAAK,CAAC;UAC1D;UACA,IAAIH,WAAW,EAAE;YACbG,KAAK,CAACH,WAAW,GAAGA,WAAW;YAC/B,MAAMO,CAAC,GAAGP,WAAW,CAACe,SAAS,CAACC,KAAK;YACrC,MAAMP,CAAC,GAAGhB,aAAa,CAACiB,QAAQ,CAACC,eAAe,CAACJ,CAAC,CAAC;YACnDJ,KAAK,CAACS,oBAAoB,GAAGL,CAAC;YAC9BJ,KAAK,CAACU,mBAAmB,GAAGJ,CAAC;UACjC;UACA,OAAON,KAAK;QAChB;QAEA,IAAIc,EAAEA,CAAA,EAAY;UACd,OAAO,IAAI,CAACC,GAAG;QACnB;;QAEA;AACJ;AACA;AACA;AACA;QACI,IAAIC,OAAOA,CAAEC,CAAU,EAAE;UACrB,IAAIA,CAAC,EAAE;YACH,IAAI,IAAI,CAACC,KAAK,GAAG,CAAC,EAAE;cAChB,IAAI,CAACA,KAAK,GAAG,IAAI,CAACC,KAAK,CAACC,MAAM,CAACC,MAAM;cACrC,IAAI,CAACF,KAAK,CAACG,aAAa,CAAC,IAAI,CAAC;cAC9B,IAAI,CAACC,WAAW,CAAC,CAAC;YACtB;UACJ,CAAC,MAAM,IAAI,IAAI,CAACL,KAAK,IAAI,CAAC,EAAE;YACxB,MAAMM,QAAQ,GAAI,IAAI,CAACC,MAAM,CAACJ,MAAM,KAAK,CAAE;YAE3C,IAAIG,QAAQ,EAAE;cACV,IAAI,CAACN,KAAK,GAAG,CAAC,CAAC;cACf,IAAI,CAACC,KAAK,CAACO,gBAAgB,CAAC,IAAI,CAAC;YACrC;UACJ;QACJ;QAEA,IAAIC,SAASA,CAAEV,CAAU,EAAE;UACvB;UACAA,CAAC,GAAG,IAAI,CAACW,GAAG,EAAE,GAAG,IAAI,CAACA,GAAG,EAAE;UAC3B,IAAI,IAAI,CAACA,GAAG,KAAK,CAAC,EAAE;YAAE,IAAI,CAACC,OAAO,CAAC,CAAC;UAAE;QAC1C;;QAEA;;QAWQC,WAAWA,CAAEnC,IAAU,EAAEwB,KAAmB,EAAE;UAClD,KAAK,CAAC,CAAC;UAAC,KAVKJ,GAAG;UAAA,KACZG,KAAK,GAAG,CAAC,CAAC;UAAA,KACVU,GAAG,GAAG,CAAC;UAAA,KAENjC,IAAI;UAAA,KACJwB,KAAK;UAAA,KACLM,MAAM,GAAmB,EAAE;UAAA,KACpC5B,WAAW,GAA4B,IAAI;UAIvC,IAAI,CAACkB,GAAG,GAAG1C,iBAAiB,CAAC0D,SAAS,EAAE;UACxC,IAAI,CAACpC,IAAI,GAAGA,IAAI;UAChB,IAAI,CAACwB,KAAK,GAAGA,KAAK;QACtB;QAEAa,UAAUA,CAAEC,IAAuB,EAAQ;UACvC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACT,MAAM,CAACJ,MAAM,EAAEa,CAAC,EAAE,EAAE;YACzC,MAAMC,MAAM,GAAG,IAAI,CAACV,MAAM,CAACS,CAAC,CAAC;YAC7B,KAAK,IAAIE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,IAAI,CAACR,MAAM,CAACJ,MAAM,EAAEe,CAAC,EAAE,EAAE;cACzC,MAAMC,MAAM,GAAGJ,IAAI,CAACR,MAAM,CAACW,CAAC,CAAC;cAC7B,IAAID,MAAM,CAACG,QAAQ,CAACC,gBAAgB,IAAIF,MAAM,CAACC,QAAQ,CAACC,gBAAgB,EAAE;gBACtE,IAAIrD,QAAQ,CAACsD,SAAS,CAACC,OAAO,CAACN,MAAM,CAACO,UAAU,EAAEL,MAAM,CAACK,UAAU,CAAC,EAAE;kBAClE,IAAI,CAACvB,KAAK,CAACwB,QAAQ,CAACC,IAAI,CAACT,MAAM,CAAC;kBAChC,IAAI,CAAChB,KAAK,CAACwB,QAAQ,CAACC,IAAI,CAACP,MAAM,CAAC;gBACpC;cACJ;YACJ;UACJ;QACJ;QAEAQ,QAAQA,CAAEC,KAAmB,EAAQ;UACjC,MAAMZ,CAAC,GAAG,IAAI,CAACT,MAAM,CAACsB,OAAO,CAACD,KAAK,CAAC;UACpC,IAAIZ,CAAC,GAAG,CAAC,EAAE;YACP,IAAI,CAACT,MAAM,CAACmB,IAAI,CAACE,KAAK,CAAC;UAC3B;QACJ;QAEAE,WAAWA,CAAEF,KAAmB,EAAQ;UACpC,MAAMZ,CAAC,GAAG,IAAI,CAACT,MAAM,CAACsB,OAAO,CAACD,KAAK,CAAC;UACpC,IAAIZ,CAAC,IAAI,CAAC,EAAE;YACRjD,EAAE,CAACgE,KAAK,CAACC,YAAY,CAAC,IAAI,CAACzB,MAAM,EAAES,CAAC,CAAC;UACzC;QACJ;QAEAiB,kBAAkBA,CAAA,EAAU;UACxB,IAAI,IAAI,CAACxD,IAAI,CAACyD,eAAe,EAAE;YAC3B,IAAI,CAACzD,IAAI,CAAC0D,cAAc,CAAC9E,IAAI,CAAC;YAC9BC,IAAI,CAACmC,GAAG,CAAC,IAAI,CAAChB,IAAI,CAAC2D,aAAa,CAAC;YACjC5E,MAAM,CAACiC,GAAG,CAAC,IAAI,CAAChB,IAAI,CAAC4D,aAAa,CAAC;YACnC9E,IAAI,CAACkC,GAAG,CAAC,IAAI,CAAChB,IAAI,CAAC6D,UAAU,CAAC;YAC9B,KAAK,IAAItB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACT,MAAM,CAACJ,MAAM,EAAEa,CAAC,EAAE,EAAE;cACzC,IAAI,CAACT,MAAM,CAACS,CAAC,CAAC,CAACuB,SAAS,CAAClF,IAAI,EAAEC,IAAI,EAAEE,MAAM,EAAED,IAAI,CAAC;YACtD;UACJ;QACJ;QAEA8C,WAAWA,CAAA,EAAU;UACjB,IAAI,CAAC5B,IAAI,CAAC0D,cAAc,CAAC9E,IAAI,CAAC;UAC9BC,IAAI,CAACmC,GAAG,CAAC,IAAI,CAAChB,IAAI,CAAC2D,aAAa,CAAC;UACjC5E,MAAM,CAACiC,GAAG,CAAC,IAAI,CAAChB,IAAI,CAAC4D,aAAa,CAAC;UACnC9E,IAAI,CAACkC,GAAG,CAAC,IAAI,CAAChB,IAAI,CAAC6D,UAAU,CAAC;UAC9B,KAAK,IAAItB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACT,MAAM,CAACJ,MAAM,EAAEa,CAAC,EAAE,EAAE;YACzC,IAAI,CAACT,MAAM,CAACS,CAAC,CAAC,CAACuB,SAAS,CAAClF,IAAI,EAAEC,IAAI,EAAEE,MAAM,EAAED,IAAI,CAAC;UACtD;QACJ;QAEQoD,OAAOA,CAAA,EAAU;UACrBxD,iBAAiB,CAAC4B,cAAc,CAACyD,MAAM,CAAC,IAAI,CAAC/D,IAAI,CAACI,IAAI,CAAC;UACtD,IAAI,CAACJ,IAAI,GAAW,IAAI;UACxB,IAAI,CAACwB,KAAK,GAAW,IAAI;UACzB,IAAI,CAACM,MAAM,GAAW,IAAI;QAC/B;MACJ,CAAC;MAAAnD,MAAA,GArIYD,iBAAiB;MAAjBA,iBAAiB,CACF4B,cAAc,GAAG,IAAI0D,GAAG,CAA4B,CAAC;MADpEtF,iBAAiB,CA2DX0D,SAAS,GAAG,CAAC;IAAA;EAAA;AAAA"}