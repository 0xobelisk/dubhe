{"version":3,"names":["PhysXCharacterController","v3_0","v3_1","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","_export","setters","_coreIndexJs","error","Vec3","_frameworkIndexJs","PhysicsSystem","_physxAdapterJs","getWrapShape","PX","_coreUtilsMiscJs","degreesToRadians","_sceneGraphIndexJs","TransformBit","execute","isEnabled","_isEnabled","impl","_impl","characterController","_comp","filterData","_filterData","queryFilterCB","_queryFilterCB","constructor","_pxCollisionFlags","_word3","_overlapRecovery","id","idCounter","word0","word1","word2","word3","onComponentSet","create","updateScale","initialize","comp","PxQueryFilterCallback","implement","queryCallback","group","mask","instance","collisionMatrix","onEnable","setDetectCollisions","setOverlapRecovery","physicsWorld","addCCT","onDisable","removeCCT","onDestroy","onLoad","release","$$","IMPL_PTR","ptr","shapePtr","getShape","getPosition","out","copy","setPosition","syncPhysicsToScene","setContactOffset","setStepOffset","setSlopeLimit","Math","cos","setCollision","setQuery","onGround","syncSceneToPhysics","node","hasChangedFlags","SCALE","syncScale","POSITION","add","worldPosition","scaledCenter","subtract","setWorldPosition","multiply","center","worldScale","move","movement","minDist","elapsedTime","controllerManager","setOverlapRecoveryModule","setGroup","v","updateFilterData","getGroup","addGroup","removeGroup","setMask","getMask","addMask","removeMask","updateEventListener","setSimulationFilterData","preFilter","shape","_actor","_out","pxShape","QueryHitType","eNONE","collider","eBLOCK"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/physics/physx/character-controllers/physx-character-controller.ts"],"mappings":"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"}