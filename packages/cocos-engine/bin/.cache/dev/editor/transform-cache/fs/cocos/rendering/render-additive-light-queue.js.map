{"version":3,"names":["RenderAdditiveLightQueue","_lightPassPool","_v3","_vec4Array","_dynamicOffsets","_lightIndices","_matShadowView","_matShadowViewProj","_rangedDirLightBoundingBox","_tmpBoundingBox","phaseName","_phaseID","_lightPassIndices","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","cullSphereLight","light","model","worldBounds","geometry","intersect","aabbWithAABB","aabb","cullSpotLight","aabbFrustum","frustum","cullPointLight","cullRangedDirLight","AABB","transform","node","getWorldMatrix","getLightPassIndices","subModels","lightPassIndices","passLayout","r","cclegacy","rendering","isEnableEffect","getPhaseID","getPassID","length","hasValidLightPass","j","passes","lightPassIndex","k","enableEffectImport","phase","phaseID","push","_export","setters","_renderSceneCorePassJs","BatchingSchemes","_pipelineStateManagerJs","PipelineStateManager","_coreIndexJs","Vec3","nextPow2","Mat4","Color","Pool","_gfxIndexJs","BufferUsageBit","MemoryUsageBit","BufferInfo","BufferViewInfo","deviceManager","_renderInstancedQueueJs","RenderInstancedQueue","_passPhaseJs","_renderSceneSceneLightJs","LightType","_defineJs","SetIndex","UBOForwardLight","UBOShadow","UNIFORM_SHADOWMAP_BINDING","UNIFORM_SPOT_SHADOW_MAP_TEXTURE_BINDING","supportsR32FloatTexture","_renderSceneSceneShadowsJs","ShadowType","_pipelineUboJs","PipelineUBO","_customDefineJs","getDescBindingFromName","_coreGeometryIndexJs","execute","subModel","passIdx","dynamicOffsets","lights","Float32Array","constructor","pipeline","_pipeline","_device","_lightPasses","_instancedLightPassPool","alloc","_shadowUBO","COUNT","_lightBufferCount","_lightBufferStride","_lightBufferElementCount","_lightBuffer","_firstLightBufferView","_lightBufferData","_instancedQueues","_lightMeterScale","device","alignment","capabilities","uboOffsetAlignment","Math","ceil","SIZE","BYTES_PER_ELEMENT","createBuffer","UNIFORM","TRANSFER_DST","HOST","DEVICE","clear","forEach","instancedQueue","i","lp","freeArray","destroy","descriptorSetMap","globalDSManager","keys","descriptorSet","get","binding","BINDING","getBuffer","getTexture","delete","_bindForwardAddLight","validPunctualLights","renderObjects","pipelineSceneData","ro","_lightCulling","lightPassIdx","pass","isTransparent","blendState","targets","blend","bindBuffer","update","_addRenderQueue","gatherLightPasses","camera","cmdBuff","_updateUBOs","_updateLightDescriptorSet","l","uploadBuffers","recordCommandBuffer","renderPass","getOrCreateDescriptorSet","shader","shaders","ia","inputAssembler","pso","getOrCreatePipelineState","matDS","localDS","bindPipelineState","bindDescriptorSet","MATERIAL","bindInputAssembler","GLOBAL","LOCAL","draw","isCulled","type","SPHERE","SPOT","POINT","RANGED_DIRECTIONAL","batchingScheme","NONE","lightIdx","visibility","layer","INSTANCING","buffer","getInstancedBuffer","merge","queue","add","sceneData","shadowInfo","shadows","shadowFrameBufferMap","mainLight","scene","packing","cap","matShadowProj","matShadowInvProj","updatePlanarNormalAndDistance","SHADOW_WIDTH_HEIGHT_PCF_BIAS_INFO_OFFSET","size","x","y","SHADOW_LIGHT_PACKING_NBIAS_NULL_INFO_OFFSET","toArray","shadowColor","SHADOW_COLOR_OFFSET","spotLight","invert","perspective","angle","range","clipSpaceMinZ","clipSpaceSignY","clone","multiply","MAT_LIGHT_VIEW_OFFSET","MAT_LIGHT_VIEW_PROJ_OFFSET","SHADOW_NEAR_FAR_LINEAR_SATURATION_INFO_OFFSET","shadowPcf","shadowBias","shadowNormalBias","SHADOW_PROJ_DEPTH_INFO_OFFSET","m10","m14","m11","m15","SHADOW_INV_PROJ_DEPTH_INFO_OFFSET","SHADOW_PROJ_INFO_OFFSET","m00","m05","has","_shadowFrameBufferMap","texture","colorTextures","bindTexture","updateBuffer","exposure","isHDR","resize","gfxDevice","offset","position","set","LIGHT_POS_OFFSET","LIGHT_SIZE_RANGE_ANGLE_OFFSET","color","useColorTemperature","finalColor","z","luminance","LIGHT_COLOR_OFFSET","spotAngle","enabled","shadowEnabled","ShadowMap","direction","LIGHT_DIR_OFFSET","angleAttenuationStrength","LIGHT_BOUNDING_SIZE_VS_OFFSET","right","scale","illuminance"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/rendering/render-additive-light-queue.ts"],"mappings":"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"}