{"version":3,"names":["WebGL2CommandPool","WebGL2CommandAllocator","_export","setters","_coreIndexJs","CachedArray","_webgl2CommandsJs","WebGL2CmdBeginRenderPass","WebGL2CmdBindStates","WebGL2CmdBlitTexture","WebGL2CmdCopyBufferToTexture","WebGL2CmdDraw","WebGL2CmdUpdateBuffer","execute","constructor","Clazz","count","_frees","_freeIdx","_freeCmds","Array","i","alloc","size","length","temp","increase","j","cmd","refCount","free","push","freeCmds","cmds","array","release","clear","beginRenderPassCmdPool","bindStatesCmdPool","drawCmdPool","updateBufferCmdPool","copyBufferToTextureCmdPool","blitTextureCmdPool","clearCmds","cmdPackage","beginRenderPassCmds","bindStatesCmds","drawCmds","updateBufferCmds","copyBufferToTextureCmds","blitTextureCmds","releaseCmds"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/gfx/webgl2/webgl2-command-allocator.ts"],"mappings":"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"}