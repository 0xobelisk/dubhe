{"version":3,"names":["Shadows","ShadowSize","ShadowType","PCFType","CSMLevel","CSMOptimizationMode","SHADOW_TYPE_NONE","_export","setters","_virtualInternal253AconstantsJs","DEBUG","_assetAssetsMaterialJs","Material","_coreIndexJs","Color","Mat4","Vec3","Vec2","Enum","assert","geometry","cclegacy","execute","Low_256x256","Medium_512x512","High_1024x1024","Ultra_2048x2048","Planar","ShadowMap","HARD","SOFT","SOFT_2X","SOFT_4X","LEVEL_1","LEVEL_2","LEVEL_3","LEVEL_4","NONE","RemoveDuplicates","DisableRotationFix","constructor","fixedSphere","Sphere","maxReceived","_matLight","_material","_instancingMaterial","_enabled","_type","_distance","_planeBias","_normal","_shadowColor","_size","_shadowMapDirty","enabled","val","activate","type","normal","copy","distance","planeBias","shadowColor","color","size","set","shadowMapDirty","matLight","material","instancingMaterial","getPlanarShader","patches","initialize","effectName","passes","length","getShaderVariant","shadowsInfo","planeDirection","planeHeight","shadowMapSize","x","_updatePlanarInfo","root","director","pipeline","macros","CC_SHADOW_TYPE","onGlobalPipelineStateChanged","destroy","MAX_FAR","COEFFICIENT_OF_EXPANSION","Math","sqrt"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/render-scene/scene/shadows.ts"],"mappings":"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"}