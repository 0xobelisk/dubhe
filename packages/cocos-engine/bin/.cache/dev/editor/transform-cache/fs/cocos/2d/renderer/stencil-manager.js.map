{"version":3,"names":["StencilManager","Stage","StencilSharedBufferView","_export","setters","_gfxIndexJs","ComparisonFunc","StencilOp","DepthStencilState","execute","constructor","_maskStack","_stencilPattern","stencilTest","func","ALWAYS","stencilMask","writeMask","failOp","KEEP","zFailOp","passOp","ref","_stage","DISABLED","stencilStateMap","Map","stencilStateMapWithDepth","stage","val","pattern","pushMask","mask","push","clear","comp","isInverted","stencilStage","ENTER_LEVEL","CLEAR_INVERTED","CLEAR","enableMask","ENABLED","exitMask","length","pop","getWriteMask","getExitWriteMask","getStencilRef","result","i","getMaskStackSize","reset","destroy","forEach","value","key","getStencilStage","mat","depthTest","depthWrite","depthFunc","LESS","cacheMap","passes","pass","dss","depthStencilState","depthTestValue","depthWriteValue","has","get","setStateFromStage","set","getStencilHash","EQUAL","NEVER","ZERO","REPLACE","ENTER_LEVEL_INVERTED","sharedManager"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/2d/renderer/stencil-manager.ts"],"mappings":"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"}