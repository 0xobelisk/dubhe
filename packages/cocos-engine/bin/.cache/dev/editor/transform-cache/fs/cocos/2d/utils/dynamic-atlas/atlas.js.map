{"version":3,"names":["Atlas","DynamicAtlasTexture","space","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","_export","setters","_assetAssetsAssetEnumJs","PixelFormat","_assetAssetsTexture2dJs","Texture2D","_gfxIndexJs","BufferTextureCopy","_coreIndexJs","cclegacy","execute","constructor","width","height","_texture","_width","_height","_x","_y","_nexty","_innerTextureInfos","_innerSpriteFrames","_count","texture","initWithSize","insertSpriteFrame","spriteFrame","rect","info","getId","sx","x","sy","y","internal","dynamicAtlasManager","textureBleeding","drawTextureAt","image","frame","push","deleteInnerTexture","isEmpty","reset","frames","i","l","length","isValid","_resetDynamicAtlasFrame","destroy","format","RGBA8888","gfxTexture","getGFXTexture","gfxDevice","_getGFXDevice","console","warn","region","texOffset","texExtent","copyTexImagesToTexture","data"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/2d/utils/dynamic-atlas/atlas.ts"],"mappings":"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"}