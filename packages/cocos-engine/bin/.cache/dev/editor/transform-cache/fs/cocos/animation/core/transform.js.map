{"version":3,"names":["Transform","_class","CACHE_VECTOR_A","CACHE_VECTOR_B","CACHE_QUAT_A","CACHE_QUAT_B","__applyDeltaTransform","deltaQuat","ZERO_DELTA_TRANSFORM","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","invScaleOrZero","out","scale","epsilon","x","y","z","Vec3","set","Math","abs","__calculateDeltaTransform","target","base","subtract","position","rotation","_export","setters","_coreMathVec3Js","_coreMathQuatJs","Quat","_coreIndexJs","EPSILON","Mat4","execute","constructor","_position","_rotation","_scale","clone","ONE","copy","src","transform","setIdentity","ZERO","IDENTITY","equals","a","b","strictEquals","lerp","from","to","t","slerp","multiply","second","first","cacheRotation","cacheScale","cachePosition","transformQuat","add","invert","invRotation","invScale","invPosition","negate","fromMatrix","matrix","toSRT","toMatrix","fromSRT","freeze","calculateRelative","cacheInvRotation","cacheInvScale","invSecondRotation","cacheQuat","delta","alpha","scaleAndAdd","weightedDeltaRotation","quatMultiInvInverseCache","fromInv"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/animation/core/transform.ts"],"mappings":"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"}