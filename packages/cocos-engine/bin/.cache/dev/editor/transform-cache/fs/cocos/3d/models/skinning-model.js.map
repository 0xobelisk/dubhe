{"version":3,"names":["RealTimeJointTexture","SkinningModel","uniformPatches","texturePatches","v3_min","v3_max","v3_1","v3_2","m4_1","ab_1","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","getRelevantBuffers","outIndices","outBuffers","jointMaps","targetJoint","i","length","idxMap","index","j","push","_export","setters","_coreIndexJs","geometry","Mat4","Vec3","warnID","_gfxIndexJs","BufferUsageBit","MemoryUsageBit","BufferInfo","FormatFeatureBit","Format","_renderingDefineJs","UBOSkinning","UNIFORM_REALTIME_JOINT_TEXTURE_BINDING","_renderSceneSceneModelJs","ModelType","_skeletalAnimationSkeletalAnimationUtilsJs","uploadJointData","_morphModelJs","MorphModel","_animationSkeletalAnimationUtilsJs","deleteTransform","getTransform","getWorldMatrix","_renderSceneIndexJs","BatchingSchemes","_gameIndexJs","director","_assetAssetsAssetEnumJs","PixelFormat","_assetAssetsIndexJs","Texture2D","ImageAsset","execute","name","AABB","constructor","_format","RGBA32F","_textures","_buffers","WIDTH","HEIGHT","_dataArray","_joints","_bufferIndices","_realTimeJointTexture","_realTimeTextureMode","type","SKINNING","destroy","bindSkeleton","forEach","tex","uploadAnimation","skeleton","skinningRoot","mesh","target","JOINT_UNIFORM_CAPACITY","joints","transform","boneSpaceBounds","getBoneSpaceBounds","struct","_ensureEnoughBuffers","jointBufferIndices","_initRealTimeJointTexture","bound","getChildByPath","bindpose","bindposes","indices","buffers","updateTransform","stamp","root","hasChangedFlags","isTransformDirty","updateWorldTransform","_localDataUpdated","set","Infinity","worldMatrix","getBoundary","min","max","worldBounds","_worldBounds","_modelBounds","fromPoints","_mat","_pos","_rot","_scale","updateUBOs","multiply","world","b","_updateRealTimeJointTextureBuffer","update","initSubModel","idx","subMeshData","mat","original","vertexBuffers","iaInfo","jointMappedBuffers","getMacroPatches","subModelIndex","superMacroPatches","myPatches","concat","_updateLocalDescriptors","submodelIdx","descriptorSet","_bindRealTimeJointTexture","buffer","bindBuffer","BINDING","_updateInstancedAttributes","attributes","subModel","pass","passes","batchingScheme","NONE","node","getPathInHierarchy","count","_device","createBuffer","UNIFORM","TRANSFER_DST","HOST","DEVICE","SIZE","maxJoints","Float32Array","gfxDevice","device","width","height","hasFeatureFloatTexture","getFormatFeatures","SAMPLED_TEXTURE","RGBA8888","textures","pixelFormat","arrayBuffer","updateView","Uint8Array","image","_data","_compressed","format","texture","setFilters","Filter","NEAREST","setMipFilter","setWrapMode","WrapMode","CLAMP_TO_EDGE","jointTexture","gfxTexture","getGFXTexture","sampler","getGFXSampler","bindTexture","bindSampler","src","idxSrc","idxDst","uploadData"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/3d/models/skinning-model.ts"],"mappings":"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"}