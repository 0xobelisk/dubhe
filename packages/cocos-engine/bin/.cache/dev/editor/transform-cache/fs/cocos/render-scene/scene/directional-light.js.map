{"version":3,"names":["DirectionalLight","_forward","_v3","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","_export","setters","_coreIndexJs","Vec3","cclegacy","_ambientJs","Ambient","_lightJs","Light","LightType","_shadowsJs","CSMLevel","CSMOptimizationMode","PCFType","Shadows","execute","direction","dir","normalize","_dir","illuminance","isHDR","director","root","pipeline","pipelineSceneData","_illuminanceHDR","_illuminanceLDR","illuminanceHDR","illuminanceLDR","shadowEnabled","_shadowEnabled","val","activate","shadowPcf","_shadowPcf","shadowBias","_shadowBias","shadowNormalBias","_shadowNormalBias","shadowSaturation","_shadowSaturation","shadowDistance","_shadowDistance","Math","min","MAX_FAR","shadowInvisibleOcclusionRange","_shadowInvisibleOcclusionRange","csmLevel","_csmLevel","csmNeedUpdate","_csmNeedUpdate","csmLayerLambda","_csmLayerLambda","csmOptimizationMode","_csmOptimizationMode","shadowFixedArea","_shadowFixedArea","shadowNear","_shadowNear","shadowFar","_shadowFar","shadowOrthoSize","_shadowOrthoSize","csmLayersTransition","_csmLayersTransition","csmTransitionRange","_csmTransitionRange","constructor","SUN_ILLUM","HARD","LEVEL_4","DisableRotationFix","_type","DIRECTIONAL","initialize","update","_node","hasChangedFlags","transformQuat","worldRotation","csmSupported","macros","CC_DIR_LIGHT_SHADOW_TYPE","CC_CASCADED_LAYERS_TRANSITION","CC_DIR_SHADOW_PCF_TYPE","onGlobalPipelineStateChanged"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/render-scene/scene/directional-light.ts"],"mappings":"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"}