{"version":3,"names":["WebGLCommandBuffer","_export","setters","_baseCommandBufferJs","CommandBuffer","_webglCommandAllocatorJs","WebGLCommandAllocator","_baseDefineJs","BufferUsageBit","CommandBufferType","StencilFace","DynamicStates","_webglCommandsJs","WebGLCmd","WebGLCmdBeginRenderPass","WebGLCmdBindStates","WebGLCmdBlitTexture","WebGLCmdCopyBufferToTexture","WebGLCmdDraw","WebGLCmdPackage","WebGLCmdUpdateBuffer","_webglDefineJs","WebGLDeviceManager","execute","constructor","args","cmdPackage","_cmdAllocator","_isInRenderPass","_curGPUPipelineState","_curGPUInputAssembler","_curGPUDescriptorSets","_curDynamicOffsets","Array","fill","_curDynamicStates","_isStateInvalied","initialize","info","_type","type","_queue","queue","setCount","instance","bindingMappings","blockOffsets","length","i","push","destroy","clearCmds","begin","renderPass","subpass","frameBuffer","_numDrawCalls","_numInstances","_numTris","end","bindStates","beginRenderPass","framebuffer","renderArea","clearColors","clearDepth","clearStencil","cmd","beginRenderPassCmdPool","alloc","gpuRenderPass","gpuFramebuffer","copy","beginRenderPassCmds","cmds","BEGIN_RENDER_PASS","endRenderPass","bindPipelineState","pipelineState","gpuPipelineState","bindDescriptorSet","set","descriptorSet","dynamicOffsets","gpuDescriptorSet","_this$_curGPUPipeline","gpuPipelineLayout","offsets","idx","dynamicOffsetOffsets","bindInputAssembler","inputAssembler","gpuInputAssembler","setViewport","viewport","cache","left","top","width","height","minDepth","maxDepth","setScissor","scissor","x","y","setLineWidth","lineWidth","setDepthBias","depthBiasConstantFactor","depthBiasClamp","depthBiasSlopeFactor","depthBiasConstant","depthBiasSlope","setBlendConstants","blendConstants","blendConstant","z","w","setDepthBound","minDepthBounds","maxDepthBounds","depthMinBounds","depthMaxBounds","setStencilWriteMask","face","writeMask","front","stencilStatesFront","back","stencilStatesBack","FRONT","BACK","setStencilCompareMask","reference","compareMask","draw","infoOrAssembler","PRIMARY","SECONDARY","drawInfo","drawCmdPool","drawCmds","DRAW","instanceCount","indexCount","vertexCount","glPrimitive","Math","max","console","error","updateBuffer","buffer","data","size","gpuBuffer","updateBufferCmdPool","buffSize","buff","usage","INDIRECT","undefined","byteLength","offset","updateBufferCmds","UPDATE_BUFFER","copyBuffersToTexture","buffers","texture","regions","gpuTexture","copyBufferToTextureCmdPool","copyBufferToTextureCmds","COPY_BUFFER_TO_TEXTURE","cmdBuffs","count","webGLCmdBuff","c","array","refCount","bindStatesCmds","blitTextureCmds","concat","pipelineBarrier","GeneralBarrier","bufferBarriers","textureBarriers","textures","bindStatesCmd","bindStatesCmdPool","prototype","apply","gpuDescriptorSets","dynamicStates","BIND_STATES","blitTexture","srcTexture","dstTexture","filter","blitTextureCmd","blitTextureCmdPool","BLIT_TEXTURE"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/gfx/webgl/webgl-command-buffer.ts"],"mappings":"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"}