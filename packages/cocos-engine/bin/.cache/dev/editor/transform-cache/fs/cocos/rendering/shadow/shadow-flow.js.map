{"version":3,"names":["ccclass","_coreDataDecoratorsIndexJs","_defineJs","PIPELINE_FLOW_SHADOW","supportsR32FloatTexture","UBOCamera","UBOCSM","UBOGlobal","UBOShadow","_renderFlowJs","RenderFlow","_enumJs","ForwardFlowPriority","_shadowStageJs","ShadowStage","_gfxIndexJs","LoadOp","StoreOp","Format","TextureType","TextureUsageBit","ColorAttachment","DepthStencilAttachment","RenderPassInfo","TextureInfo","FramebufferInfo","API","_pipelineSerializationJs","RenderFlowTag","_renderSceneSceneShadowsJs","PCFType","ShadowType","_renderSceneSceneLightJs","LightType","execute","_validLights","_export","ShadowFlow","_dec","_class","_class2","constructor","args","_shadowRenderPass","initialize","info","_stages","length","shadowMapStage","initInfo","push","activate","pipeline","isRGBE","device","macros","CC_SHADOWMAP_FORMAT","isLinear","gfxAPI","WEBGL","CC_SHADOWMAP_USE_LINEAR_DEPTH","pipelineSceneData","csmSupported","capabilities","maxFragmentUniformVectors","COUNT","CC_SUPPORT_CASCADED_SHADOW_MAP","CC_SHADOW_TYPE","CC_DIR_SHADOW_PCF_TYPE","HARD","CC_DIR_LIGHT_SHADOW_TYPE","CC_CASCADED_LAYERS_TRANSITION","onGlobalPipelineStateChanged","render","camera","_pipeline","shadowInfo","shadows","csmLayers","shadowFrameBufferMap","castShadowObjects","validPunctualLights","enabled","type","ShadowMap","n","m","maxReceived","light","SPOT","spotLight","shadowEnabled","clearShadowMap","shadowMapDirty","resizeShadowMap","mainLight","scene","globalDS","descriptorSet","has","_initShadowFrameBuffer","window","swapchain","shadowFrameBuffer","get","shadowFixedArea","_renderStage","csmLevel","i","l","ds","globalDSManager","getOrCreateDescriptorSet","destroy","shadowFrameBuffers","Array","from","values","frameBuffer","renderTargets","colorTextures","j","renderTarget","depth","depthStencilTexture","clear","shadowMapSize","size","format","R32F","RGBA8","colorAttachment","loadOp","CLEAR","storeOp","STORE","sampleCount","depthStencilAttachment","DEPTH_STENCIL","depthLoadOp","depthStoreOp","DISCARD","stencilLoadOp","stencilStoreOp","renderPassInfo","createRenderPass","shadowRenderTargets","createTexture","TEX2D","COLOR_ATTACHMENT","SAMPLED","x","y","DEPTH_STENCIL_ATTACHMENT","createFramebuffer","set","level","shadowStage","setUsage","validLights","clearFramebuffer","key","keys","resize","shadowRenderPass","renderPass","newFrameBuffer","name","priority","SHADOW","tag","SCENE","stages"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/rendering/shadow/shadow-flow.ts"],"mappings":"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"}