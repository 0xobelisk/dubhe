{"version":3,"names":["HMDInputDevice","Pose","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","_export","setters","_cocosInputTypesEventEnumJs","InputEventType","_cocosCoreEventEventTargetJs","EventTarget","_cocosInputTypesIndexJs","EventHMD","_inputSourceJs","InputSourcePosition","InputSourceOrientation","_cocosCoreMathIndexJs","Vec3","Quat","_predefineJs","legacyCC","default","execute","viewLeftPosition","_viewLeftPosition","viewLeftOrientation","_viewLeftOrientation","viewRightPosition","_viewRightPosition","viewRightOrientation","_viewRightOrientation","headMiddlePosition","_headMiddlePosition","headMiddleOrientation","_headMiddleOrientation","constructor","_eventTarget","_intervalId","_webPoseState","VIEW_LEFT","position","ZERO","orientation","IDENTITY","VIEW_RIGHT","HEAD_MIDDLE","_initInputSource","_registerEvent","_ensureDirectorDefined","Promise","resolve","setInterval","director","Director","clearInterval","then","on","EVENT_BEGIN_FRAME","_scanHmd","catch","e","_globalThis$__globalX","infoList","globalThis","__globalXR","webxrHmdPoseInfos","i","length","info","_updateWebPoseState","emit","HMD_POSE_INPUT","_on","eventType","callback","target","code","x","y","z","w","getValue"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/pal/input/web/hmd-input.ts"],"mappings":"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"}