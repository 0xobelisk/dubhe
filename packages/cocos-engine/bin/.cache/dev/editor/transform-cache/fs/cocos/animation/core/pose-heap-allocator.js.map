{"version":3,"names":["PoseHeapAllocator","AllocationInfo","PosePage","MAX_POSE_PER_PAGE","allocationInfoTag","POSE_ALLOCATOR_DEBUG_FULL","POSE_INDEX_MASK","POSE_INDEX_BITS","isPagedPose","pose","findRightmostSetBit","bits","Infinity","Math","log2","_export","setters","_virtualInternal253AconstantsJs","TEST","_coreDataUtilsAssertsJs","assertIsTrue","_poseJs","Pose","_transformArrayJs","TransformArray","execute","Symbol","constructor","transformCount","metaValueCount","_transformCount","_metaValueCount","_pages","_allocatedCount","_foremostPossibleFreePage","allocatedCount","allocatePose","pages","nPages","length","iPage","page","freeCount","tryAllocate","pageIndex","_allocatePoseInNewPage","destroyPose","deallocate","push","_id","value","poseIndex","_capacity","_buffer","_idleFlags","_poses","_freeCount","byteLength","BYTES_PER_ELEMENT","Float64Array","ArrayBuffer","Array","fill","capacity","_poses$idlePoseIndex","poses","idleFlags","idlePoseIndex","_createPose","index","transformsByteLength","baseOffset","transforms","metaValues","_create"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/animation/core/pose-heap-allocator.ts"],"mappings":"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"}