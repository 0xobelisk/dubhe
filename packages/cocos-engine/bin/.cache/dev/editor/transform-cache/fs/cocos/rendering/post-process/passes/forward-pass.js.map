{"version":3,"names":["ForwardPass","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","_export","setters","_coreIndexJs","Vec4","_gfxIndexJs","ClearFlagBit","Format","_renderSceneSceneIndexJs","ShadowType","SKYBOX_FLAG","_customTypesJs","LightInfo","QueueHint","SceneFlags","_customDefineJs","getCameraUniqueID","_utilsPassContextJs","passContext","_basePassJs","BasePass","getRTFormatBeforeToneMapping","getShadowMapSampler","execute","constructor","args","name","outputNames","enableInAllEditorCamera","depthBufferShadingScale","calcDepthSlot","camera","depthSlotName","canUsePrevDepth","clearFlag","DEPTH_STENCIL","shadingScale","slotName","index","render","ppl","_camera$scene","COLOR","set","clearColor","clearDepthColor","clearDepth","clearStencil","slot0","slot1","cameraID","isOffScreen","updatePassViewPort","addRenderPass","addRasterView","version","pass","shadowPass","dirShadowName","mainLightShadows","containsResource","addTexture","spotShadowName","spotLightShadows","forwardQueue","addQueue","RENDER_OPAQUE","addSceneOfCamera","OPAQUE_OBJECT","CUTOUT_OBJECT","GEOMETRY","forwardAddQueue","RENDER_TRANSPARENT","addSceneLights","shadowInfo","pipelineSceneData","shadows","scene","mainLight","enabled","type","Planar","_camera$scene2","TRANSPARENT_OBJECT","SHADOW_CASTER","forwardPass"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/rendering/post-process/passes/forward-pass.ts"],"mappings":";;;0LAWaA,WAAW;EAAA,SAAAC,gBAAAC,GAAA,EAAAC,GAAA,EAAAC,KAAA,IAAAD,GAAA,GAAAE,cAAA,CAAAF,GAAA,OAAAA,GAAA,IAAAD,GAAA,IAAAI,MAAA,CAAAC,cAAA,CAAAL,GAAA,EAAAC,GAAA,IAAAC,KAAA,EAAAA,KAAA,EAAAI,UAAA,QAAAC,YAAA,QAAAC,QAAA,oBAAAR,GAAA,CAAAC,GAAA,IAAAC,KAAA,WAAAF,GAAA;EAAA,SAAAG,eAAAM,GAAA,QAAAR,GAAA,GAAAS,YAAA,CAAAD,GAAA,2BAAAR,GAAA,gBAAAA,GAAA,GAAAU,MAAA,CAAAV,GAAA;EAAA,SAAAS,aAAAE,KAAA,EAAAC,IAAA,eAAAD,KAAA,iBAAAA,KAAA,kBAAAA,KAAA,MAAAE,IAAA,GAAAF,KAAA,CAAAG,MAAA,CAAAC,WAAA,OAAAF,IAAA,KAAAG,SAAA,QAAAC,GAAA,GAAAJ,IAAA,CAAAK,IAAA,CAAAP,KAAA,EAAAC,IAAA,2BAAAK,GAAA,sBAAAA,GAAA,YAAAE,SAAA,4DAAAP,IAAA,gBAAAF,MAAA,GAAAU,MAAA,EAAAT,KAAA;EAAAU,OAAA;EAAA;IAAAC,OAAA,aAAAC,YAAA;MAXfC,IAAI,GAAAD,YAAA,CAAJC,IAAI;IAAA,aAAAC,WAAA;MAEJC,YAAY,GAAAD,WAAA,CAAZC,YAAY;MAAEC,MAAM,GAAAF,WAAA,CAANE,MAAM;IAAA,aAAAC,wBAAA;MACZC,UAAU,GAAAD,wBAAA,CAAVC,UAAU;MAAEC,WAAW,GAAAF,wBAAA,CAAXE,WAAW;IAAA,aAAAC,cAAA;MAC/BC,SAAS,GAAAD,cAAA,CAATC,SAAS;MAAEC,SAAS,GAAAF,cAAA,CAATE,SAAS;MAAEC,UAAU,GAAAH,cAAA,CAAVG,UAAU;IAAA,aAAAC,eAAA;MAChCC,iBAAiB,GAAAD,eAAA,CAAjBC,iBAAiB;IAAA,aAAAC,mBAAA;MAEjBC,WAAW,GAAAD,mBAAA,CAAXC,WAAW;IAAA,aAAAC,WAAA;MACXC,QAAQ,GAAAD,WAAA,CAARC,QAAQ;MAAEC,4BAA4B,GAAAF,WAAA,CAA5BE,4BAA4B;MAAEC,mBAAmB,GAAAH,WAAA,CAAnBG,mBAAmB;IAAA;IAAAC,OAAA,WAAAA,CAAA;MAAAtB,OAAA,gBAGvDxB,WAAW,GAAjB,MAAMA,WAAW,SAAS2C,QAAQ,CAAC;QAAAI,YAAA,GAAAC,IAAA;UAAA,SAAAA,IAAA;UAAA,KACtCC,IAAI,GAAG,aAAa;UAAA,KACpBC,WAAW,GAAG,CAAC,cAAc,EAAE,WAAW,CAAC;UAAA,KAE3CC,uBAAuB,GAAG,IAAI;UAAA,KAC9BC,uBAAuB,GAAG,CAAC;QAAA;QAE3BC,aAAaA,CAAEC,MAAc,EAAQ;UACjC,MAAMC,aAAa,GAAG,CAAC,CAACd,WAAW,CAACc,aAAa;UACjD,IAAIC,eAAe,GAAG,EAAEF,MAAM,CAACG,SAAS,GAAG5B,YAAY,CAAC6B,aAAa,CAAC;UACtEF,eAAe,GAAGA,eAAe,IAAIf,WAAW,CAACkB,YAAY,KAAK,IAAI,CAACP,uBAAuB;UAC9F,IAAII,eAAe,EAAE;YACjB,IAAI,CAACD,aAAa,EAAEd,WAAW,CAACc,aAAa,GAAG,KAAK,CAACK,QAAQ,CAACN,MAAM,EAAE,CAAC,CAAC;YACzE;UACJ;UACA,IAAI,CAACF,uBAAuB,GAAGX,WAAW,CAACkB,YAAY;UAEvDlB,WAAW,CAACc,aAAa,GAAG,KAAK,CAACK,QAAQ,CAACN,MAAM,EAAE,CAAC,CAAC;QACzD;QAEAM,QAAQA,CAAEN,MAAc,EAAEO,KAAK,GAAG,CAAC,EAAU;UACzC,IAAIA,KAAK,KAAK,CAAC,EAAE;YACb,OAAOpB,WAAW,CAACc,aAAa;UACpC;UAEA,OAAO,KAAK,CAACK,QAAQ,CAACN,MAAM,EAAEO,KAAK,CAAC;QACxC;QAEOC,MAAMA,CAAER,MAAc,EAAES,GAAa,EAAQ;UAAA,IAAAC,aAAA;UAChDvB,WAAW,CAACgB,SAAS,GAAG5B,YAAY,CAACoC,KAAK,GAAIX,MAAM,CAACG,SAAS,GAAG5B,YAAY,CAAC6B,aAAc,GAAIJ,MAAM,CAACG,SAAS,GAAGxB,WAAY;UAC/HN,IAAI,CAACuC,GAAG,CAACzB,WAAW,CAAC0B,UAAU,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;UAC5CxC,IAAI,CAACuC,GAAG,CAACzB,WAAW,CAAC2B,eAAe,EAAEd,MAAM,CAACe,UAAU,EAAEf,MAAM,CAACgB,YAAY,EAAE,CAAC,EAAE,CAAC,CAAC;UAEnF,IAAI,CAACjB,aAAa,CAACC,MAAM,CAAC;UAE1B,MAAMiB,KAAK,GAAG,IAAI,CAACX,QAAQ,CAACN,MAAM,EAAE,CAAC,CAAC;UACtC,MAAMkB,KAAK,GAAG,IAAI,CAACZ,QAAQ,CAACN,MAAM,EAAE,CAAC,CAAC;UAEtC,MAAMmB,QAAQ,GAAGlC,iBAAiB,CAACe,MAAM,CAAC;UAC1C,MAAMoB,WAAW,GAAG,IAAI;UACxBjC,WAAW,CACNkC,kBAAkB,CAAC,CAAC,CACpBC,aAAa,CAAC,SAAS,EAAG,GAAE,IAAI,CAAC3B,IAAK,IAAGwB,QAAS,EAAC,CAAC,CACpDI,aAAa,CAACN,KAAK,EAAE3B,4BAA4B,CAACmB,GAAG,CAAC,EAAEW,WAAW,CAAC,CACpEG,aAAa,CAACL,KAAK,EAAE1C,MAAM,CAAC4B,aAAa,EAAEgB,WAAW,CAAC,CACvDI,OAAO,CAAC,CAAC;UAEd,MAAMC,IAAI,GAAGtC,WAAW,CAACsC,IAAK;UAC9B,MAAMC,UAAU,GAAGvC,WAAW,CAACuC,UAAwB;UACvD,IAAIA,UAAU,EAAE;YACZ,KAAK,MAAMC,aAAa,IAAID,UAAU,CAACE,gBAAgB,EAAE;cACrD,IAAInB,GAAG,CAACoB,gBAAgB,CAACF,aAAa,CAAC,EAAE;gBACrCF,IAAI,CAACK,UAAU,CAACH,aAAa,EAAE,cAAc,EAAEpC,mBAAmB,CAAC,CAAC,CAAC;cACzE;YACJ;YACA,KAAK,MAAMwC,cAAc,IAAIL,UAAU,CAACM,gBAAgB,EAAE;cACtD,IAAIvB,GAAG,CAACoB,gBAAgB,CAACE,cAAc,CAAC,EAAE;gBACtCN,IAAI,CAACK,UAAU,CAACC,cAAc,EAAE,kBAAkB,EAAExC,mBAAmB,CAAC,CAAC,CAAC;cAC9E;YACJ;UACJ;UACA,MAAM0C,YAAY,GAAGR,IAAI,CAACS,QAAQ,CAACpD,SAAS,CAACqD,aAAa,CAAC;UAC3DF,YAAY,CAACG,gBAAgB,CACzBpC,MAAM,EACN,IAAInB,SAAS,CAAC,CAAC,EACfE,UAAU,CAACsD,aAAa,GAAGtD,UAAU,CAACuD,aAAa,GAChDvD,UAAU,CAACwD,QAClB,CAAC;UACD,MAAMC,eAAe,GAAGf,IAAI,CAACS,QAAQ,CAACpD,SAAS,CAAC2D,kBAAkB,EAAE,aAAa,CAAC;UAClFtD,WAAW,CAACuD,cAAc,CAACF,eAAe,EAAExC,MAAM,CAAC;UACnD,MAAM2C,UAAU,GAAGlC,GAAG,CAACmC,iBAAiB,CAACC,OAAO;UAChD,IAAI,CAAAnC,aAAA,GAAAV,MAAM,CAAC8C,KAAK,cAAApC,aAAA,eAAZA,aAAA,CAAcqC,SAAS,IAAIJ,UAAU,CAACK,OAAO,IAAIL,UAAU,CAACM,IAAI,KAAKvE,UAAU,CAACwE,MAAM,EAAE;YAAA,IAAAC,cAAA;YACxF1B,IAAI,CAACS,QAAQ,CAACpD,SAAS,CAAC2D,kBAAkB,EAAE,eAAe,CAAC,CACvDL,gBAAgB,CACbpC,MAAM,EACN,IAAInB,SAAS,EAAAsE,cAAA,GAACnD,MAAM,CAAC8C,KAAK,cAAAK,cAAA,uBAAZA,cAAA,CAAcJ,SAAS,CAAC,EACtChE,UAAU,CAACqE,kBAAkB,GAAGrE,UAAU,CAACsE,aAAa,GACtDtE,UAAU,CAACwD,QACjB,CAAC;UACT;UACApD,WAAW,CAACmE,WAAW,GAAG,IAAI;QAClC;MACJ,CAAC;IAAA;EAAA;AAAA"}