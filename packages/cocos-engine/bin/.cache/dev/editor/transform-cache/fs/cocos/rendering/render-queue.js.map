{"version":3,"names":["RenderQueue","opaqueCompareFn","a","b","hash","depth","shaderId","transparentCompareFn","priority","convertRenderQueue","desc","phase","j","stages","length","getPhaseID","sortFunc","sortMode","RenderQueueSortMode","BACK_TO_FRONT","FRONT_TO_BACK","isTransparent","phases","renderQueueClearFunc","rq","clear","renderQueueSortFunc","sort","_export","setters","_coreIndexJs","RecyclePool","CachedArray","_defineJs","SetIndex","_pipelineStateManagerJs","PipelineStateManager","_pipelineSerializationJs","_passPhaseJs","execute","constructor","queue","_passDesc","_passPool","subModel","passIdx","reset","insertRenderPass","renderObj","subModelIdx","model","subModels","pass","passes","shader","shaders","blendState","targets","blend","rp","add","typedID","push","recordCommandBuffer","device","renderPass","cmdBuff","i","array","inputAssembler","pso","getOrCreatePipelineState","bindPipelineState","bindDescriptorSet","MATERIAL","descriptorSet","LOCAL","bindInputAssembler","draw"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/rendering/render-queue.ts"],"mappings":"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"}