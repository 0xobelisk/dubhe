{"version":3,"names":["ReflectionProbe","ProbeClearFlag","ProbeType","cameraDir","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","_export","setters","_virtualInternal253AconstantsJs","EDITOR","_cameraJs","CameraAperture","CameraFOVAxis","CameraISO","CameraProjection","CameraShutter","CameraType","SKYBOX_FLAG","TrackingType","_coreIndexJs","Color","Quat","Rect","toRadian","Vec2","Vec3","geometry","cclegacy","Vec4","_renderingDefineJs","CAMERA_DEFAULT_MASK","_gfxIndexJs","ClearFlagBit","_assetAssetsRenderTextureJs","RenderTexture","execute","DEPTH_STENCIL","ALL","probeType","_probeType","resolution","_resolution","bakedCubeTextures","forEach","rt","idx","resize","clearFlag","_clearFlag","camera","backgroundColor","val","_backgroundColor","clearColor","visibility","_visibility","_camera","size","_size","set","pos","node","getWorldPosition","AABB","_boundingBox","x","y","z","cubemap","_cubemap","_node","needRefresh","_needRefresh","needRender","_needRender","boundingBox","cameraNode","_cameraNode","previewSphere","_previewSphere","previewPlane","_previewPlane","constructor","id","realtimePlanarTexture","SKYBOX","CUBE","_probeId","_cameraWorldPos","_cameraWorldRotation","_forward","_up","initialize","create","_createCamera","initBakedTextures","length","i","renderTexture","_createTargetTexture","push","captureCubemap","_resetCameraParams","renderPlanarReflection","sourceCamera","canvasSize","view","getDesignResolutionSize","width","height","internal","reflectionProbeManager","updatePlanarMap","getGFXTexture","_syncCameraParams","_transformReflectionCamera","switchProbeType","type","getProbeId","updateProbeId","renderArea","PLANAR","isFinishedRendering","validate","destroy","enable","disable","updateCameraDir","faceIdx","setRotationFromEuler","update","updateBoundingBox","hasFrameBuffer","framebuffer","_this$realtimePlanarT","window","_rt$window","isRGBE","projectionType","orthoHeight","nearClip","farClip","fov","priority","root","director","createCamera","name","projection","PERSPECTIVE","mainWindow","tempWindow","cameraType","DEFAULT","trackingType","NO_TRACKING","setViewportInOrientedSpace","fovAxis","VERTICAL","clearDepth","clearStencil","aperture","F16_0","shutter","D125","iso","ISO100","worldPosition","worldRotation","reset","offset","dot","up","_reflect","transformQuat","FORWARD","normalize","negative","UP","fromViewUp","viewSpaceProbe","transformMat4","matView","clone","invert","transpose","calculateObliqueMat","out","point","normal","n","dist","multiplyScalar","subtract"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/render-scene/scene/reflection-probe.ts"],"mappings":"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"}