{"version":3,"names":["RenderScene","LODInfo","LodStateCache","_export","setters","_sceneGraphNodeEnumJs","TransformBit","execute","root","_root","name","_name","cameras","_cameras","mainLight","_mainLight","sphereLights","_sphereLights","spotLights","_spotLights","pointLights","_pointLights","rangedDirLights","_rangedDirLights","models","_models","batches","_batches","lodGroups","_lodGroups","registerCreateFunc","_createSceneFun","constructor","_directionalLights","_modelId","_lodStateCache","initialize","info","update","stamp","i","length","light","model","enabled","updateTransform","updateUBOs","updateLodState","destroy","removeCameras","removeSphereLights","removeSpotLights","removeRangedDirLights","removeModels","removeLODGroups","clearCache","isCulledByLod","camera","isLodModelCulled","addCamera","cam","attachToScene","push","removeCamera","splice","detachFromScene","setMainLight","dl","activate","unsetMainLight","dlList","node","hasChangedFlags","ROTATION","addDirectionalLight","removeDirectionalLight","addSphereLight","pl","removeSphereLight","addSpotLight","sl","removeSpotLight","addPointLight","removePointLight","removePointLights","addRangedDirLight","l","removeRangedDirLight","addModel","m","removeModel","addBatch","batch","removeBatch","removeBatches","addLODGroup","lodGroup","addLodGroup","removeLODGroup","index","indexOf","removeLodGroup","group","onGlobalPipelineStateChanged","generateModelId","usedLevel","lastUsedLevel","transformDirty","scene","_renderScene","_modelsInLODGroup","Map","_lodStateInCamera","_newAddedLodGroupVec","Array","_levelModels","needRegisterChanged","layer","visibility","has","set","delete","lodCount","lod","lodDataArray","visibleCamera","addedLodGroup","levelModels","get","lodModels","modelInfo","lodLevels","getLockedLODLevels","count","lodInfo","isLockLevelChanged","resetLockChangeFlag","forEach","vecArray","clear","visibleIndex","vecModels","active","hasUpdated","cameraChangeFlags","lodChangeFlags","getVisibleLODLevel","lodState","isLodGroupVisibleByCamera"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/render-scene/core/render-scene.ts"],"mappings":"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"}