{"version":3,"names":["setDefaultProgressCallback","onProgress","defaultProgressCallback","clear","task","clearRef","i","l","input","length","item","isNative","content","Asset","decRef","recycle","urlAppendTimestamp","url","append","test","Date","now","retry","process","times","wait","onComplete","index","err","result","setTimeout","getDepends","uuid","data","exclude","depends","config","info","dependUtil","parse","deps","dep","push","bundle","name","nativeDep","e","error","message","stack","cache","id","asset","cacheAsset","undefined","cclegacy","assetManager","isScene","isDefault","assets","add","setProperties","assetsMap","missingAsset","dependMap","get","missingAssetReporter","depend","dependAsset","EDITOR","EditorExtends","MissingReporter","object","stashByOwner","owner","prop","serialize","asAsset","dispatchAssetMissing","type","placeHolder","initDefault","addRef","reference","references","WeakRef","reportByOwner","delete","nativeDependMap","has","_nativeAsset","console","gatherAsset","source","options","__outputAsArray__","output","forEach","array","count","errs","cb","parseParameters","optionsOut","onProgressOut","onCompleteOut","isCallback","Object","create","parseLoadResArgs","typeOut","isValidType","js","isChildClassOf","checkCircleReference","map","checked","getDeps","asyncify","p1","p2","refs","Array","isArray","x","misc","callInNextTick","_export","setters","_virtualInternal253AconstantsJs","_assetsAssetJs","_coreIndexJs","_dependMapsJs","_dependUtilJs","default","_helperJs","_sharedJs","execute"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/asset/asset-manager/utilities.ts"],"mappings":"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"}