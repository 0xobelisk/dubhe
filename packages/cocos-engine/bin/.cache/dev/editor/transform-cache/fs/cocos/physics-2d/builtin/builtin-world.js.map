{"version":3,"names":["BuiltinPhysicsWorld","contactResults","testIntersectResults","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","_export","setters","_virtualInternal253AconstantsJs","EDITOR_NOT_IN_PREVIEW","TEST","_coreIndexJs","CCObject","Vec3","Color","js","_shapesBoxShape2dJs","BuiltinBoxShape","_shapesCircleShape2dJs","BuiltinCircleShape","_shapesPolygonShape2dJs","BuiltinPolygonShape","_frameworkPhysicsTypesJs","EPhysics2DDrawFlags","Contact2DType","_frameworkIndexJs","PhysicsSystem2D","_builtinContactJs","BuiltinContact","_sceneGraphIndexJs","Node","find","_gameIndexJs","director","execute","constructor","_contacts","_shapes","_debugGraphics","_debugDrawFlags","debugDrawFlags","v","shouldCollide","c1","c2","collider1","collider","collider2","collisionMatrix","instance","node","group","addShape","shape","shapes","index","indexOf","i","l","length","other","contact","push","removeShape","array","fastRemoveAt","contacts","shape1","shape2","touching","_emitCollide","END_CONTACT","contactIndex","updateShapeGroup","enabledInHierarchy","step","deltaTime","velocityIterations","positionIterations","update","collisionType","updateState","None","result","drawDebug","_checkDebugDrawValid","debugDrawer","clear","lineWidth","strokeColor","WHITE","ps","worldPoints","moveTo","x","y","j","lineTo","close","stroke","circle","worldPosition","worldRadius","Aabb","aabb","worldAABB","BLUE","xMin","yMin","yMax","xMax","type","emit","isValid","canvas","scene","getScene","addComponent","parent","hideFlags","Flags","DontSave","ZERO","setSiblingIndex","children","testPoint","p","containsPoint","testAABB","rect","intersectsRect","impl","setGravity","setAllowSleep","syncPhysicsToScene","syncSceneToPhysics","raycast","p1","p2"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/physics-2d/builtin/builtin-world.ts"],"mappings":"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"}