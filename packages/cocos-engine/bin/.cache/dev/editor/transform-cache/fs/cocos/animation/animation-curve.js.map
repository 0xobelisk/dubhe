{"version":3,"names":["RatioSampler","AnimCurve","EventInfo","selectLerpFx","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","sampleAnimationCurve","curve","sampler","ratio","index","sample","ratios","length","valueBetween","valueAt","computeRatioByType","type","func","easing","errorID","Array","isArray","bezierByTime","quickFindIndex","start","end","eachLength","floorIndex","EPSILON","_export","setters","_coreIndexJs","lerp","Quat","cclegacy","binarySearchEpsilon","ValueType","_typesJs","isLerpable","execute","constructor","_findRatio","currRatioDif","lastRatioDif","canOptimize","i","l","Math","abs","Bezier","controlPoints","propertyCurveData","duration","types","_values","_lerp","_duration","_array","values","getCurveType","easingMethod","Linear","easingMethods","map","fill","keys","firstValue","interpolate","_arrayLength","hasLerp","getNoLerp","from","fromRatio","to","toRatio","dRatio","ratioBetweenFrames","fromVal","toVal","empty","constant","events","add","params","push","makeValueTypeLerpFx","tempValue","callLerpable","t","dt","makeQuatSlerpFx","slerp"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/animation/animation-curve.ts"],"mappings":"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"}