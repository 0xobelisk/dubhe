{"version":3,"names":["CustomPipelineBuilder","WindowInfo","SceneInfo","TestPipelineBuilder","copyPair","pairs","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","_export","setters","_palSystemInfo","systemInfo","_gfxBaseDefineJs","Color","Format","LoadOp","Rect","StoreOp","Viewport","_renderSceneSceneIndexJs","CSMLevel","CameraUsage","_typesJs","CopyPair","LightInfo","QueueHint","ResourceResidency","SceneFlags","_defineJs","buildBloomPass","buildForwardPass","buildFxaaPass","buildPostprocessPass","buildSSSSPass","buildToneMappingPass","buildTransparencyPass","buildUIPass","hasSkinObject","buildHBAOPasses","buildCopyPass","getRenderArea","buildReflectionProbePasss","_utilsJs","isUICamera","_coreIndexJs","assert","cclegacy","geometry","_coreGeometryAabbJs","AABB","_defineJs2","supportsR32FloatTexture","execute","setup","cameras","ppl","i","length","camera","scene","isGameView","cameraUsage","GAME","GAME_VIEW","hasDeferredTransparencyObjects","forwardInfo","area","window","width","height","containsResource","addRenderTarget","RGBA16F","PERSISTENT","source","rtName","target","skinInfo","dsName","deferredTransparencyInfo","hbaoInfo","toneMappingInfo","fxaaInfo","bloomInfo","constructor","id","pipelineSceneData","punctualLights","spotLights","shadows","reset","_windows","Map","_sceneInfo","_tiled","isMobile","_flipY","director","root","device","capabilities","screenSpaceSignY","_area","_sphere","Sphere","create","_rangedDirLightBoundingBox","_viewport","_tmpBoundingBox","update","info","prepareGameCamera","prepareSceneInfo","frustum","buildForward","sceneInfo","light","baked","set","position","x","y","z","range","intersect","sphereFrustum","push","sphereLights","pointLights","rangedDirLights","transform","node","getWorldMatrix","aabbFrustum","get","updateGameCamera","size","initGameCamera","addRenderWindow","BGRA8","addDepthStencil","DEPTH_STENCIL","shadowFormat","R32F","RGBA8","shadowSize","updateRenderWindow","updateDepthStencil","updateRenderTarget","buildForwardTiled","mainLight","pass","addRenderPass","CLEAR","addQueue","NONE","addSceneOfCamera","OPAQUE","MASK","RENDER_TRANSPARENT","BLEND","shadowEnabled","buildCascadedShadowMapPass","addTexture","STORE","DISCARD","shadowFixedArea","queue","SHADOW_CASTER","csmLevel","csmSupported","level","getMainLightViewport","setViewport","getViewport","w","h","vp","left","Math","trunc","top","max","LEVEL_1","floor"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/rendering/custom/custom-pipeline.ts"],"mappings":"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"}