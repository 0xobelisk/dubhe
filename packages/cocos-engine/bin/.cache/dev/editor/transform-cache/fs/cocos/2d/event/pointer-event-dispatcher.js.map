{"version":3,"names":["PointerEventDispatcher","mouseEvents","touchEvents","pointerEventDispatcher","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","setters","_inputIndexJs","Input","_inputTypesIndexJs","EventTouch","_sceneGraphNodeEventProcessorJs","DispatcherEventType","NodeEventProcessor","_coreIndexJs","js","_inputTypesEventEnumJs","InputEventType","_inputInputJs","EventDispatcherPriority","execute","EventType","MOUSE_DOWN","MOUSE_MOVE","MOUSE_UP","MOUSE_WHEEL","TOUCH_START","TOUCH_MOVE","TOUCH_END","TOUCH_CANCEL","constructor","priority","UI","_isListDirty","_inDispatchCount","_pointerEventProcessorList","_processorListToAdd","_processorListToRemove","_registerEventDispatcher","callbacksInvoker","on","ADD_POINTER_EVENT_PROCESSOR","addPointerEventProcessor","REMOVE_POINTER_EVENT_PROCESSOR","removePointerEventProcessor","MARK_LIST_DIRTY","_markListDirty","dispatchEvent","event","eventType","type","includes","dispatchEventTouch","dispatchEventMouse","pointerEventProcessor","push","array","remove","eventMouse","_sortPointerEventProcessorList","pointerEventProcessorList","length","dispatchToNextEventDispatcher","i","isEnabled","shouldHandleEventMouse","_handleEventMouse","preventSwallow","_updatePointerEventProcessorList","eventTouch","touch","shouldHandleEventTouch","_handleEventTouch","claimedTouchIdList","getID","cancelEvent","index","indexOf","removeAt","listToAdd","addLength","listToRemove","removeLength","node","_uiProps","trans","uiTransformComp","cachedCameraPriority","cameraPriority","sort","_sortByPriority","p1","p2","node1","node2","activeInHierarchy","n1","n2","ex","_parent","parent","uuid","_parent2","_n","_n$parent","_n2","_n2$parent","priority1","getSiblingIndex","priority2","_export"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/2d/event/pointer-event-dispatcher.ts"],"mappings":"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"}