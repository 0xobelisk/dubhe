{"version":3,"names":["CannonShape","TriggerEventObject","cannonQuat_0","cannonVec3_0","cannonVec3_1","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","_export","setters","_cocosCannon","CANNON","default","_coreIndexJs","Vec3","Quat","_utilsUtilJs","getWrap","setWrap","_cannonUtilJs","commitShapeUpdates","_frameworkPhysicsSystemJs","PhysicsSystem","execute","type","selfCollider","otherCollider","impl","Quaternion","constructor","_collider","_shape","_offset","_orient","_index","_sharedBody","onTriggerListener","_onTrigger","bind","_isBinding","updateEventListener","collider","attachedRigidBody","wrappedBody","rigidBody","sharedBody","setMaterial","mat","mat1","instance","defaultMaterial","idToMaterial","id","Material","material","smat","friction","restitution","coef","CC_CONFIG","correctInelastic","setAsTrigger","v","collisionResponse","_body","updateHasTrigger","setCenter","_setCenter","setAttachedBody","body","reference","physicsWorld","getSharedBody","node","getAABB","copy","worldRotation","calculateWorldAABB","ZERO","subtract","halfExtents","multiplyScalar","add","center","worldPosition","getBoundingSphere","radius","boundingSphereRadius","initialize","comp","onComponentSet","addEventListener","onLoad","sharedMaterial","isTrigger","onEnable","addShape","enabled","onDisable","removeShape","onDestroy","removeEventListener","World","idToShapeMap","getGroup","collisionFilterGroup","setGroup","isAwake","wakeUp","addGroup","removeGroup","getMask","collisionFilterMask","setMask","addMask","removeMask","setScale","scale","setIndex","index","setOffsetAndOrient","offset","orient","lpos","multiply","worldScale","event","self","selfShape","other","otherShape","needTriggerEvent","emit"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/physics/cannon/shapes/cannon-shape.ts"],"mappings":"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"}