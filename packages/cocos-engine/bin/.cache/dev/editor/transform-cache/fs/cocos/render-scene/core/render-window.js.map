{"version":3,"names":["RenderWindow","orientationMap","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","_export","setters","_palScreenAdapter","screenAdapter","_palScreenAdapterEnumTypeIndexJs","Orientation","_gfxIndexJs","TextureType","TextureUsageBit","Format","TextureInfo","FramebufferInfo","SurfaceTransform","TextureFlagBit","execute","PORTRAIT","IDENTITY","LANDSCAPE_RIGHT","ROTATE_90","PORTRAIT_UPSIDE_DOWN","ROTATE_180","LANDSCAPE_LEFT","ROTATE_270","width","_width","height","_height","swapchain","_swapchain","framebuffer","_framebuffer","cameras","_cameras","registerCreateFunc","root","_createWindowFun","_root","constructor","_title","_renderPass","_colorTextures","_depthStencilTexture","_hasOnScreenAttachments","_hasOffScreenAttachments","_device","initialize","device","info","title","createRenderPass","renderPassInfo","push","colorTexture","depthStencilTexture","i","colorAttachments","length","textureInfo","TEX2D","COLOR_ATTACHMENT","SAMPLED","TRANSFER_SRC","format","externalFlag","EXTERNAL_NORMAL","EXTERNAL_OES","flags","externalRes","externalResLow","createTexture","depthStencilAttachment","UNKNOWN","DEPTH_STENCIL_ATTACHMENT","createFramebuffer","destroy","clearCameras","resize","orientation","camera","extractRenderCameras","j","enabled","update","attachCamera","sortCameras","detachCamera","splice","sort","a","b","priority"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/render-scene/core/render-window.ts"],"mappings":"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"}