{"version":3,"names":["WebGL2Texture","_export","setters","_baseDefineJs","FormatSurfaceSize","TextureInfo","IsPowerOf2","FormatInfos","TextureUsageBit","_baseTextureJs","Texture","_webgl2CommandsJs","WebGL2CmdFuncCreateTexture","WebGL2CmdFuncDestroyTexture","WebGL2CmdFuncResizeTexture","_webgl2DefineJs","WebGL2DeviceManager","execute","constructor","args","_gpuTexture","_gpuTextureView","gpuTexture","gpuTextureView","initialize","info","isSwapchainTexture","texInfo","viewInfo","texture","_isTextureView","_info","copy","_isPowerOf2","width","height","_size","format","depth","levelCount","layerCount","type","usage","size","arrayLayer","mipLevel","samples","flags","isPowerOf2","glTarget","glInternalFmt","glFormat","glType","glUsage","glTexture","glRenderbuffer","glWrapS","glWrapT","glMinFilter","glMagFilter","instance","memoryStatus","textureSize","_viewInfo","baseLevel","baseLayer","_this$_gpuTexture","console","log","destroy","getGLTextureHandle","resize","getLevelCount","Math","min","oldSize","initAsSwapchainTexture","hasDepth","DEPTH_STENCIL_ATTACHMENT","COLOR_ATTACHMENT"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/gfx/webgl2/webgl2-texture.ts"],"mappings":"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"}