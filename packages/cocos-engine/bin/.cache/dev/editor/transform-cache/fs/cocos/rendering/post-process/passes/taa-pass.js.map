{"version":3,"names":["TAAPass","tempVec4","halton8","SampleOffsets","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","_export","setters","_virtualInternal253AconstantsJs","EDITOR","_coreIndexJs","Mat4","Vec2","Vec4","_gameIndexJs","game","_gfxIndexJs","ClearFlagBit","Format","_renderSceneSceneIndexJs","CameraUsage","_customTypesJs","ResourceResidency","_customDefineJs","getCameraUniqueID","_componentsTaaJs","TAA","_componentsTaaMaskJs","TAAMask","_utilsPassContextJs","passContext","_basePassJs","disablePostProcessForDebugView","_settingPassJs","getSetting","SettingPass","_assetAssetManagerIndexJs","builtinResMgr","_renderSceneIndexJs","MaterialInstance","execute","forEach","v","x","y","x2","x3","x4","x5","constructor","args","name","effectName","outputNames","prevMatViewProj","taaTextureIndex","samples","sampleIndex","sampleOffset","forceRender","dirty","taaMaskMaterial","firstRender","setting","checkEnable","camera","enable","cameraUsage","PREVIEW","slotName","index","lastPass","applyCameraJitter","_isProjDirty","update","matProj","m12","m13","invert","matProjInv","multiply","matViewProj","matView","matViewProjInv","frustum","updateSample","offset","length","ZERO","sampleScale","canvas","width","height","render","ppl","cameraID","clearFlag","COLOR","set","clearColor","updatePassViewPort","passViewport","material","taaMask","node","getComponent","maskTex","enabledInHierarchy","mask","mi","parent","recompileShaders","USE_TAA_MASK","setProperty","black","get","feedback","input0","historyTexture","slot0","depthTex","depthSlotName","layoutName","addRenderPass","setPassInput","addRasterView","RGBA16F","PERSISTENT","blitScreen","version"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/rendering/post-process/passes/taa-pass.ts"],"mappings":"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"}