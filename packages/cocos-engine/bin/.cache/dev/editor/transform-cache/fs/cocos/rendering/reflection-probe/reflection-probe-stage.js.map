{"version":3,"names":["ccclass","_coreDataDecoratorsIndexJs","_gfxIndexJs","Color","Rect","ClearFlagBit","_renderStageJs","RenderStage","_enumJs","ForwardStagePriority","_defineJs","SetIndex","_renderReflectionProbeQueueJs","RenderReflectionProbeQueue","_coreIndexJs","Vec3","_coreMathColorJs","packRGBE","execute","colors","_export","ReflectionProbeStage","_dec","_class","_class2","constructor","args","_frameBuffer","_renderArea","_probe","_probeRenderQueue","_rgbeColor","setUsageInfo","probe","frameBuffer","destroy","_this$_probeRenderQue","clear","clearFramebuffer","camera","w","clearColor","pipeline","_pipeline","pipelineSceneData","shadingScale","vp","viewport","size","resolution","x","y","width","height","cmdBuff","commandBuffers","renderPass","beginRenderPass","clearDepth","clearStencil","endRenderPass","render","gatherRenderObjects","pipelineUBO","updateCameraUBO","renderArea","clearFlag","COLOR","z","rgbe","device","bindDescriptorSet","GLOBAL","descriptorSet","recordCommandBuffer","activate","flow","initInfo","name","priority","FORWARD","tag"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/rendering/reflection-probe/reflection-probe-stage.ts"],"mappings":"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"}