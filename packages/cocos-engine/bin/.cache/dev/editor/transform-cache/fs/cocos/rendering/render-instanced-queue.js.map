{"version":3,"names":["RenderInstancedQueue","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","_export","setters","_pipelineStateManagerJs","PipelineStateManager","_defineJs","SetIndex","execute","constructor","queue","Set","_renderQueue","clear","it","values","next","done","length","sort","pass","blendState","targets","blend","push","uploadBuffers","cmdBuff","hasPendingModels","recordCommandBuffer","device","renderPass","descriptorSet","dynamicOffsets","iterator","instances","bindDescriptorSet","MATERIAL","lastPSO","b","instance","count","shader","pso","getOrCreatePipelineState","ia","bindPipelineState","GLOBAL","LOCAL","bindInputAssembler","draw"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/rendering/render-instanced-queue.ts"],"mappings":"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"}