{"version":3,"names":["PhysicsSystem","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","_export","setters","_virtualInternal253AconstantsJs","EDITOR_NOT_IN_PREVIEW","_coreIndexJs","Vec3","RecyclePool","Enum","System","cclegacy","Settings","settings","geometry","warn","_gameIndexJs","director","Director","game","_assetsPhysicsMaterialJs","PhysicsMaterial","_physicsRayResultJs","PhysicsRayResult","PhysicsLineStripCastResult","_collisionMatrixJs","CollisionMatrix","_physicsEnumJs","PhysicsGroup","_physicsSelectorJs","constructDefaultWorld","selector","_assetAssetManagerIndexJs","assetManager","builtinResMgr","execute","internal","PHYSICS_NONE","id","PHYSICS_BUILTIN","PHYSICS_CANNON","PHYSICS_BULLET","PHYSICS_PHYSX","instance","_instance","enable","_enable","allowSleep","_allowSleep","v","physicsWorld","setAllowSleep","maxSubSteps","_maxSubSteps","fixedTimeStep","_fixedTimeStep","gravity","_gravity","set","setGravity","sleepThreshold","_sleepThreshold","autoSimulation","_autoSimulation","defaultMaterial","_material","setDefaultPhysicsMaterial","material","setDefaultMaterial","on","EVENT_UPDATE","_updateMaterial","initDefaultMaterial","Promise","resolve","builtinMaterial","get","console","error","userMaterial","querySettings","Category","PHYSICS","reject","loadAny","err","asset","then","catch","reason","constructor","raycastClosestResult","raycastResults","lineStripCastClosestResult","lineStripCastResults","sweepCastClosestResult","sweepCastResults","collisionMatrix","minVolumeSize","useNodeChains","_subStepCount","_accumulator","raycastOptions","group","mask","queryTrigger","maxDistance","raycastResultPool","sweepResultPool","postUpdate","deltaTime","_executeInEditMode","runInEditor","syncSceneToPhysics","emit","EVENT_BEFORE_PHYSICS","step","emitEvents","syncAfterEvents","EVENT_AFTER_PHYSICS","resetConfiguration","config","copy","i","parseInt","collisionGroups","cg","Array","forEach","name","index","update","resetAccumulator","time","debugDrawFlags","debugDrawConstraintSize","raycast","worldRay","reset","length","raycastClosest","lineStripCast","samplePointsWorldSpace","distance","Ray","fromPoint","toPoint","direction","subtract","stepLength","len","multiplyScalar","d","o","hit","re","result","equals","hitPoint","copiedResult","_assign","collider","hitNormal","push","lineStripCastClosest","sweepBox","halfExtent","orientation","sweepBoxClosest","sweepSphere","radius","sweepSphereClosest","sweepCapsule","height","sweepCapsuleClosest","constructAndRegister","_settings$querySettin","enabled","sys","registerSystem","ID","priority","onPostProjectInitDelegate","add","bind","once","EVENT_INIT"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/physics/framework/physics-system.ts"],"mappings":"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"}