{"version":3,"names":["ScreenAdapter","EVENT_TIMEOUT","orientationMap","WindowType","screenAdapter","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","setters","_virtualInternal253AconstantsJs","EDITOR","TEST","_palSystemInfo","systemInfo","_cocosCorePlatformDebugJs","warnID","_cocosCoreEventEventTargetJs","EventTarget","_cocosCoreMathIndexJs","Size","_enumTypeIndexJs","Orientation","_predefineJs","legacyCC","default","_integrityCheckJs","checkPalIntegrity","withImpl","_systemInfoEnumTypeIndexJs","OS","execute","auto","AUTO","landscape","LANDSCAPE","portrait","PORTRAIT","supportFullScreen","_supportFullScreen","isFullScreen","document","_fn","fullscreenElement","devicePixelRatio","_window$devicePixelRa","Math","min","window","windowSize","result","_windowSizeInCssPixels","dpr","width","height","size","_windowType","SubFrame","_resizeFrame","_convertToSizeInCssPixels","resolution","resolutionScale","_resolutionScale","v","_this$_cbToUpdateFram","_cbToUpdateFrameBuffer","orientation","_orientation","_updateFrame","_updateFrameState","safeAreaEdge","_top","parseInt","getComputedStyle","documentElement","getPropertyValue","_bottom","_left","_right","top","bottom","left","right","isProportionalToFrame","_isProportionalToFrame","_updateContainer","innerWidth","innerHeight","_gameContainer","clientWidth","clientHeight","fullscreenTarget","_gameFrame","Fullscreen","_getFullscreenTarget","isFrameRotated","BrowserWindow","Unknown","_isHeadlessMode","_exactFitScreen","constructor","handleResizeEvent","_gameCanvas","_cachedFrameStyle","_cachedContainerStyle","_touchEventName","_onFullscreenChange","_onFullscreenError","_orientationChangeTimeoutId","_cachedFrameSize","_fnGroup","_orientationDevice","getElementById","_this$_gameCanvas","_this$_gameCanvas$par","createElement","setAttribute","parentNode","insertBefore","appendChild","_this$_gameCanvas2","_this$_gameCanvas2$pa","fnList","fnGroup","i","length","requestFullscreen","_registerEvent","init","options","cbToRebuildFrameBuffer","configOrientation","exactFitScreen","isHeadlessMode","requestFullScreen","Promise","resolve","reject","_doRequestFullScreen","then","catch","Error","addEventListener","once","capture","exitFullScreen","requestPromise","exitFullscreen","fullscreenerror","_this$_onFullscreenEr","notifyOrientationChange","emit","getOrientation","tmpOrientation","LANDSCAPE_RIGHT","LANDSCAPE_LEFT","PORTRAIT_UPSIDE_DOWN","handleOrientationChange","orientationChangeCallback","clearTimeout","setTimeout","matchMedia","updateDPRChangeListener","_window$matchMedia","_window$matchMedia$ad","mediaQueryPortrait","mediaQueryLandscape","hasScreeOrientation","screen","matches","orientationType","type","fullscreenchange","_this$_onFullscreenCh","clonedSize","clone","sizeInCssPixels","style","display","winWidth","winHeight","inputHeight","body","scrollHeight","os","ANDROID","transform","transformOrigin","margin","windowType","isBrowserLandscape","isMobile","designedResolution","view","getDesignResolutionSize","frame","frameW","frameH","designW","designH","scaleX","scaleY","containerStyle","containerW","containerH","_export"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/pal/screen-adapter/web/screen-adapter.ts"],"mappings":"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"}