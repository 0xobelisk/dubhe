{"version":3,"names":["AnimationGraphEval","_export","setters","_virtualInternal253AconstantsJs","DEBUG","_variableIndexJs","TriggerResetMode","createInstanceTag","VarInstanceTrigger","_coreIndexJs","assertIsTrue","_dSkeletalAnimationLimitsJs","MAX_ANIMATION_LAYER","_animationGraphContextJs","AnimationGraphBindingContext","AnimationGraphPoseLayoutMaintainer","defaultTransformsTag","LayoutChangeFlag","AuxiliaryCurveRegistry","AnimationGraphUpdateContextGenerator","AnimationGraphSettleContext","DeferredPoseStashAllocator","_poseGraphPoseNodeJs","PoseTransformSpaceRequirement","_poseGraphDefaultTopLevelPoseNodeJs","DefaultTopLevelPoseNode","execute","constructor","graph","root","controller","clipOverrides","_currentTransitionCache","duration","time","_rootPoseNode","_varInstances","_hasAutoTrigger","_auxiliaryCurveRegistry","_poseLayoutMaintainer","_bindingContext","_settleContext","_rootUpdateContextGenerator","layers","length","Error","name","variable","variables","varInstance","resetMode","NEXT_FRAME_OR_AFTER_CONSUMED","poseLayoutMaintainer","bindingContext","_setClipOverrides","undefined","settleContext","startBind","poseStashAllocator","_poseStashAllocator","_root","_initializeContexts","destroy","_evaluationContext","_destroyAfterException_debugging","stackSize","_stackSize_debugging","i","popPose","layerCount","update","deltaTime","evaluationContext","rootUpdateContextGenerator","rootPoseNode","updateContext","generate","finalPose","evaluate","LOCAL","varInstances","varName","value","apply","allocatedPoseCount","getVariables","Object","entries","getCurrentStateStatus","layer","getLayerTopLevelStateMachineEvaluation","getCurrentClipStatuses","getCurrentTransition","currentTransition","isInTransition","getNextStateStatus","getNextClipStatuses","getValue","setValue","getLayerWeight","layerIndex","setLayerWeight","weight","overrideClips","overrides","_updateAfterPossiblePoseLayoutChange","getAuxiliaryCurveValue","curveName","get","endBind","_createOrUpdateTransformFilters","createEvaluationContext","fetchDefaultTransforms","resetPoseStashAllocator","layoutChangeFlags","TRANSFORM_COUNT","TRANSFORM_ORDER","evaluationContextRecreated","AUXILIARY_CURVE_COUNT","settle"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/animation/marionette/graph-eval.ts"],"mappings":"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"}