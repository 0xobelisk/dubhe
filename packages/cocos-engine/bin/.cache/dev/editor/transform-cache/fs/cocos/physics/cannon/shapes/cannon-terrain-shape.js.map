{"version":3,"names":["CannonTerrainShape","CANNON_AABB_LOCAL","CANNON_AABB","CANNON_TRANSFORM","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","_export","setters","_cocosCannon","CANNON","default","_cannonShapeJs","CannonShape","_coreIndexJs","Vec3","Quat","_cannonUtilJs","commitShapeUpdates","execute","AABB","Transform","Heightfield","prototype","calculateWorldAABB","pos","quat","min","max","frame","result","copy","position","quaternion","s","elementSize","data","lowerBound","set","minValue","upperBound","length","maxValue","toWorldFrame","collider","_collider","impl","_shape","setTerrain","v","_terrainID","_uuid","terrain","sizeI","getVertexCountI","sizeJ","getVertexCountJ","i","j","getHeight","options","tileSize","updateProperties","constructor","onComponentSet","onLoad","updateMinValue","updateMaxValue","updateBoundingSphereRadius","update","_index","_body","_setCenter","fromEuler","_orient","lpos","_offset","add"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/physics/cannon/shapes/cannon-terrain-shape.ts"],"mappings":"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"}