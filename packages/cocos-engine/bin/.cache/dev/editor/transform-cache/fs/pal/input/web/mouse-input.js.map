{"version":3,"names":["MouseInputSource","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","_export","setters","_virtualInternal253AconstantsJs","EDITOR","TEST","_palSystemInfo","systemInfo","_palScreenAdapter","screenAdapter","_cocosInputTypesIndexJs","EventMouse","_cocosCoreEventIndexJs","EventTarget","_cocosCoreMathIndexJs","Rect","Vec2","_cocosInputTypesEventEnumJs","InputEventType","_systemInfoEnumTypeIndexJs","Feature","execute","constructor","_canvas","_eventTarget","_pointLocked","_isPressed","_preMousePos","_handleMouseDown","_handleMouseMove","_handleMouseUp","hasFeature","EVENT_MOUSE","document","getElementById","console","warn","_createCallback","MOUSE_DOWN","MOUSE_MOVE","MOUSE_UP","_registerEvent","dispatchMouseDownEvent","nativeMouseEvent","dispatchMouseMoveEvent","dispatchMouseUpEvent","dispatchScrollEvent","_handleMouseWheel","on","eventType","callback","target","_getCanvasRect","canvas","box","getBoundingClientRect","x","y","width","height","_getLocation","mouseEvent","canvasRect","dpr","devicePixelRatio","movementX","clientX","movementY","clientY","_this$_canvas","_this$_canvas2","_this$_canvas3","_this$_canvas4","window","addEventListener","bind","_registerPointerLockEvent","lockChangeAlert","pointerLockElement","mozPointerLockElement","_this$_canvas5","location","button","buttons","targetButton","focus","BUTTON_LEFT","BUTTON_RIGHT","BUTTON_MIDDLE","BUTTON_MISSING","eventMouse","setLocation","setButton","set","stopPropagation","preventDefault","emit","MOUSE_WHEEL","wheelSensitivityFactor","setScrollData","deltaX","deltaY"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/pal/input/web/mouse-input.ts"],"mappings":"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"}