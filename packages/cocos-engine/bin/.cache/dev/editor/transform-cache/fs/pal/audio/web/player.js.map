{"version":3,"names":["OneShotAudio","AudioPlayer","_export","setters","_cocosCoreIndexJs","warnID","_typeJs","AudioType","_playerDomJs","AudioPlayerDOM","_playerWebJs","AudioContextAgent","AudioPlayerWeb","execute","onPlay","_audio","v","onEnd","constructor","audio","play","stop","player","_player","load","url","opts","Promise","resolve","reject","audioLoadMode","DOM_AUDIO","support","then","domPlayer","catch","webPlayer","destroy","loadNative","loadOneShotAudio","volume","oneShotAudioDOM","oneShotAudioWeb","src","type","state","loop","val","duration","currentTime","sampleRate","getPCMData","channelIndex","seek","time","pause","onInterruptionBegin","cb","offInterruptionBegin","onInterruptionEnd","offInterruptionEnd","onEnded","offEnded","maxAudioChannel"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/pal/audio/web/player.ts"],"mappings":"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"}