{"version":3,"names":["SkeletalAnimationState","m4_1","m4_2","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","_export","setters","_virtualInternal253AconstantsJs","JSB","_coreIndexJs","Mat4","Quat","Vec3","cclegacy","_animationAnimationStateJs","AnimationState","_skeletalAnimationDataHubJs","SkelAnimDataHub","execute","constructor","clip","name","_frames","_bakedDuration","_animInfo","_sockets","_animInfoMgr","_parent","_curvesInited","director","root","dataPoolManager","jointAnimationInfo","initialize","_curveLoaded","getComponent","baked","useBakedAnimation","_doNotCreateEval","frames","samples","getOrExtract","getData","uuid","setUseBaked","onPlay","switchClip","users","getUsers","forEach","user","uploadAnimation","useBaked","_sampleCurves","_sampleCurvesBaked","duration","_targetNode","rebuildSocketCurves","sockets","length","i","socket","targetNode","getChildByPath","path","target","clipData","animPath","source","joints","animNode","downstream","idx","lastIndexOf","substring","identity","fromRTS","rotation","position","scale","multiply","parent","curveData","transforms","f","mat","tfm","pos","rot","toRTS","push","time","ratio","info","currentClip","data","curFrame","dirty","dirtyForJSB","setRTS"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/3d/skeletal-animation/skeletal-animation-state.ts"],"mappings":"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"}