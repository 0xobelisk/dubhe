{"version":3,"names":["LinearBufferAccessor","_export","setters","_meshBufferJs","MeshBuffer","_bufferAccessorJs","BufferAccessor","_coreIndexJs","assertID","macro","assertIsNonNullable","execute","byteOffset","_buffers","_currentId","vertexOffset","indexOffset","currentBuffer","constructor","device","attributes","byteStart","indexStart","vertexStart","_allocateBuffer","destroy","i","length","reset","buf","request","vertexCount","indexCount","_allocateChunk","vertexFormatBytes","setDirty","appendBuffers","vertices","indices","_floatsPerVertex","vData","set","iData","vertexId","byteLength","recordBatch","vCount","ia","requireFreeIA","_device","firstIndex","uploadBuffers","switchedBuffer","indicesLength","success","checkCapacity","id","l","buffer","Math","floor","BATCHER2D_MEM_INCREMENT","_vertexFormatBytes","iCount","IB_SCALE","initialize","_attributes","push"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/2d/renderer/linear-buffer-accessor.ts"],"mappings":"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"}