{"version":3,"names":["BulletShape","v3_0","ccMaterialBooks","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","_export","setters","_coreIndexJs","Vec3","_exportsPhysicsFrameworkJs","PhysicsSystem","_bulletEnumJs","EBtSharedBodyDirty","_bulletUtilsJs","cocos2BulletQuat","cocos2BulletVec3","_bulletCacheJs","BulletCache","CC_V3_0","_instantiatedJs","bt","EBulletType","_frameworkIndexJs","EColliderType","execute","constructor","id","idCounter","_isEnabled","_isTrigger","_isInitialized","_impl","_compound","quat","Quat_new","transform","Transform_new","_collider","_sharedBody","updateEventListener","wrappedWorld","updateNeedEmitEvents","collider","needCollisionEvent","needTriggerEvent","setMaterial","v","v1","instance","defaultMaterial","_uuid","ccMaterial_new","mat","ccMaterial_set","restitution","friction","rollingFriction","spinningFriction","CollisionShape_setMaterial","CollisionObject_setMaterial","body","setCenter","copy","multiply","node","worldScale","Transform_getOrigin","updateCompoundTransform","setAsTrigger","removeShape","addShape","attachedRigidBody","wrappedBody","rigidBody","impl","sharedBody","getAABB","bt_transform","BT_TRANSFORM_0","Transform_setIdentity","Transform_setRotation","BT_QUAT_0","worldRotation","MIN","BT_V3_0","MAX","BT_V3_1","CollisionShape_getAabb","halfExtents","x","Vec3_x","y","Vec3_y","z","Vec3_z","add","center","worldPosition","getBoundingSphere","radius","CollisionShape_getLocalBoundingSphere","initialize","com","physicsWorld","getSharedBody","reference","onComponentSet","setWrapper","isNotEmptyShape","CollisionShape_setUserPointer","TYPE","onLoad","isTrigger","onEnable","sharedMaterial","onDisable","onDestroy","_safe_delete","EBulletTypeQuat","EBulletTypeTransform","EBulletTypeCollisionShape","delWrapper","updateByReAdd","getGroup","collisionFilterGroup","setGroup","addGroup","removeGroup","getMask","collisionFilterMask","setMask","addMask","removeMask","setCompound","compound","CompoundShape_removeChildShape","CompoundShape_addChildShape","updateScale","CompoundShape_updateChildTransform","bodyStruct","useCompound","dirty","BODY_RE_ADD","needCompound","type","TERRAIN","equals","ZERO"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/physics/bullet/shapes/bullet-shape.ts"],"mappings":"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"}