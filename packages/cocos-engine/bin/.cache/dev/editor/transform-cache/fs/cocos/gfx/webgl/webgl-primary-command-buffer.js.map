{"version":3,"names":["WebGLPrimaryCommandBuffer","_export","setters","_baseDefineJs","BufferUsageBit","_webglCommandBufferJs","WebGLCommandBuffer","_webglCommandsJs","WebGLCmdFuncBeginRenderPass","WebGLCmdFuncBindStates","WebGLCmdFuncBlitTexture","WebGLCmdFuncCopyBuffersToTexture","WebGLCmdFuncDraw","WebGLCmdFuncExecuteCmds","WebGLCmdFuncUpdateBuffer","_webglDefineJs","WebGLDeviceManager","execute","beginRenderPass","renderPass","framebuffer","renderArea","clearColors","clearDepth","clearStencil","instance","gpuRenderPass","gpuFramebuffer","_isInRenderPass","draw","infoOrAssembler","_isStateInvalied","bindStates","info","drawInfo","_numDrawCalls","_numInstances","instanceCount","indexCount","vertexCount","_curGPUPipelineState","glPrimitive","_numTris","Math","max","console","error","setViewport","viewport","stateCache","cache","gl","left","top","width","height","setScissor","scissor","scissorRect","x","y","updateBuffer","buffer","data","size","gpuBuffer","buffSize","undefined","usage","INDIRECT","byteLength","copyBuffersToTexture","buffers","texture","regions","gpuTexture","cmdBuffs","count","i","webGLCmdBuff","cmdPackage","_curGPUInputAssembler","_curGPUDescriptorSets","_curDynamicOffsets","_curDynamicStates","blitTexture","srcTexture","dstTexture","filter","gpuTextureSrc","gpuTextureDst"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/gfx/webgl/webgl-primary-command-buffer.ts"],"mappings":"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"}