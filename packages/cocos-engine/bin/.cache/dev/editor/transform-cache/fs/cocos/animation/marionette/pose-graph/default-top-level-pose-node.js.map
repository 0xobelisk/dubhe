{"version":3,"names":["DefaultTopLevelPoseNode","LayerEvaluationRecord","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","_export","setters","_coreIndexJs","assertIsTrue","_corePoseJs","applyDeltaPose","blendPoseInto","_stateMachineStateMachineEvalJs","TopLevelStateMachineEvaluation","_poseNodeJs","PoseNode","_motionSyncRuntimeMotionSyncJs","RuntimeMotionSyncManager","_stashRuntimeStashJs","RuntimeStashManager","execute","constructor","graph","bindingContext","poseStashAllocator","_layerRecords","layerEvaluationRecords","layers","map","layer","record","layerCount","length","reenter","bind","_context","settle","context","layerRecords","nLayers","iLayer","getLayerWeight","layerIndex","weight","setLayerWeight","getLayerTopLevelStateMachineEvaluation","stateMachineEvaluation","overrideClips","layerRecord","_pushAdditiveFlag","additive","_popAdditiveFlag","doUpdate","update","doEvaluate","finalPose","pushDefaultedPose","layerPose","evaluate","layerActualWeight","passthroughWeight","transformFilter","popPose","postEvaluate","_layer$mask","_topLevelStateMachineEval","_stashManager","_motionSyncManager","_mask","stashManager","stashId","_","stashes","addStash","motionSyncManager","_setLayerWideContextProperties","stash","setStash","mask","stateMachine","name","_unsetLayerWideContextProperties","createTransformFilter","sync","reset"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/animation/marionette/pose-graph/default-top-level-pose-node.ts"],"mappings":"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"}