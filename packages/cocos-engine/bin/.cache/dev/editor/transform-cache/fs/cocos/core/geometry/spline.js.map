{"version":3,"names":["Spline","SplineMode","SPLINE_WHOLE_INDEX","_v0","_v1","_v2","_v3","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","_export","setters","_dataUtilsAssertsJs","assertIsTrue","_mathIndexJs","clamp","Vec3","_platformDebugJs","warnID","_enumsJs","enums","default","execute","constructor","mode","CATMULL_ROM","knots","_type","_mode","_knots","SHAPE_SPLINE","i","length","create","clone","s","copy","out","type","setModeAndKnots","clearKnots","getKnotCount","addKnot","knot","push","insertKnot","index","item","splice","removeKnot","setKnot","set","getKnot","getPoint","t","segments","getSegments","deltaT","Math","floor","LINEAR","calcLinear","BEZIER","calcBezier","v0","v3","calcCatmullRom","getPoints","num","point","points","count","v1","result","multiplyScalar","add","v2","t2","t3"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/core/geometry/spline.ts"],"mappings":"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"}