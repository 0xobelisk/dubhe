{"version":3,"names":["DeferredRenderData","_dec","_dec2","_dec3","_class2","_class3","_initializer","PIPELINE_TYPE","DeferredPipeline","_applyDecoratedInitializer","target","property","decorators","initializer","slice","reverse","reduce","decoratedInitializer","decorator","_initializerWarningHelper","descriptor","context","Error","_export","setters","_coreDataDecoratorsIndexJs","ccclass","displayOrder","type","serializable","_virtualInternal253AconstantsJs","EDITOR","_assetAssetManagerBuiltinResMgrJs","builtinResMgr","_renderPipelineJs","RenderPipeline","PipelineRenderData","PipelineInputAssemblerData","_mainFlowJs","MainFlow","_pipelineSerializationJs","RenderTextureConfig","_shadowShadowFlowJs","ShadowFlow","_gfxIndexJs","Format","StoreOp","ColorAttachment","DepthStencilAttachment","LoadOp","RenderPassInfo","AccessFlagBit","TextureInfo","TextureType","TextureUsageBit","FramebufferInfo","GeneralBarrierInfo","_defineJs","UBOGlobal","UBOCamera","UBOShadow","UNIFORM_SHADOWMAP_BINDING","UNIFORM_SPOT_SHADOW_MAP_TEXTURE_BINDING","_corePlatformDebugJs","errorID","_deferredPipelineSceneDataJs","DeferredPipelineSceneData","_pipelineEventJs","PipelineEventType","execute","constructor","args","gbufferFrameBuffer","gbufferRenderTargets","_gbufferRenderPass","_lightingRenderPass","renderTextures","initialize","info","_flows","length","shadowFlow","initInfo","push","mainFlow","activate","swapchain","console","_macros","CC_PIPELINE_TYPE","_pipelineSceneData","_activeRenderer","destroy","_destroyUBOs","_destroyQuadInputAssembler","_destroyDeferredData","rpIter","_renderPasses","values","rpRes","next","done","value","_commandBuffers","onGlobalPipelineStateChanged","pipelineSceneData","updatePipelineSceneData","getPipelineRenderData","_pipelineRenderData","_generateDeferredRenderData","device","commandBuffer","sampler","globalDSManager","pointSampler","_descriptorSet","bindSampler","bindTexture","get","getGFXTexture","update","inputAssemblerDataOffscreen","_createQuadInputAssembler","quadIB","quadVB","quadIA","_quadIB","_quadVBOffscreen","_quadIAOffscreen","inputAssemblerDataOnscreen","_quadVBOnscreen","_quadIAOnscreen","colorAttachment0","format","RGBA16F","loadOp","CLEAR","storeOp","STORE","colorAttachment1","colorAttachment2","depthStencilAttachment","DEPTH_STENCIL","depthLoadOp","depthStoreOp","stencilLoadOp","stencilStoreOp","renderPassInfo","createRenderPass","colorAttachment","RGBA8","barrier","getGeneralBarrier","NONE","COLOR_ATTACHMENT_WRITE","LOAD","DISCARD","DEPTH_STENCIL_ATTACHMENT_WRITE","_width","width","_height","height","getBuffer","BINDING","getTexture","deferredData","outputFrameBuffer","outputDepth","i","outputRenderTargets","_destroyBloomData","_ensureEnoughSize","cameras","newWidth","newHeight","window","Math","max","data","sceneData","createTexture","TEX2D","COLOR_ATTACHMENT","SAMPLED","shadingScale","DEPTH_STENCIL_ATTACHMENT","createFramebuffer","on","ATTACHMENT_SCALE_CAHNGED","val","linearSampler","newFramebufferByRatio","prototype"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/rendering/deferred/deferred-pipeline.ts"],"mappings":";;;ggBAiDaA,kBAAkB,EAAAC,IAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,OAAA,EAAAC,OAAA,EAAAC,YAAA,EAAAC,aAAA,EAAAC,gBAAA;EAAA,SAAAC,2BAAAC,MAAA,EAAAC,QAAA,EAAAC,UAAA,EAAAC,WAAA;IAAA,OAAAD,UAAA,CAAAE,KAAA,GAAAC,OAAA,GAAAC,MAAA,WAAAC,oBAAA,EAAAC,SAAA;MAAA,OAAAA,SAAA,CAAAR,MAAA,EAAAC,QAAA,EAAAM,oBAAA,KAAAA,oBAAA;IAAA,GAAAJ,WAAA;EAAA;EAAA,SAAAM,0BAAAC,UAAA,EAAAC,OAAA,cAAAC,KAAA;EAAAC,OAAA;EAAA;IAAAC,OAAA,aAAAC,0BAAA;MApBtBC,OAAO,GAAAD,0BAAA,CAAPC,OAAO;MAAEC,YAAY,GAAAF,0BAAA,CAAZE,YAAY;MAAEC,IAAI,GAAAH,0BAAA,CAAJG,IAAI;MAAEC,YAAY,GAAAJ,0BAAA,CAAZI,YAAY;IAAA,aAAAC,+BAAA;MACzCC,MAAM,GAAAD,+BAAA,CAANC,MAAM;IAAA,aAAAC,iCAAA;MACNC,aAAa,GAAAD,iCAAA,CAAbC,aAAa;IAAA,aAAAC,iBAAA;MAEbC,cAAc,GAAAD,iBAAA,CAAdC,cAAc;MAAuBC,kBAAkB,GAAAF,iBAAA,CAAlBE,kBAAkB;MAAEC,0BAA0B,GAAAH,iBAAA,CAA1BG,0BAA0B;IAAA,aAAAC,WAAA;MACnFC,QAAQ,GAAAD,WAAA,CAARC,QAAQ;IAAA,aAAAC,wBAAA;MACRC,mBAAmB,GAAAD,wBAAA,CAAnBC,mBAAmB;IAAA,aAAAC,mBAAA;MACnBC,UAAU,GAAAD,mBAAA,CAAVC,UAAU;IAAA,aAAAC,WAAA;MACVC,MAAM,GAAAD,WAAA,CAANC,MAAM;MAAEC,OAAO,GAAAF,WAAA,CAAPE,OAAO;MACpBC,eAAe,GAAAH,WAAA,CAAfG,eAAe;MAAEC,sBAAsB,GAAAJ,WAAA,CAAtBI,sBAAsB;MAAcC,MAAM,GAAAL,WAAA,CAANK,MAAM;MAC3DC,cAAc,GAAAN,WAAA,CAAdM,cAAc;MAAWC,aAAa,GAAAP,WAAA,CAAbO,aAAa;MACtCC,WAAW,GAAAR,WAAA,CAAXQ,WAAW;MAAEC,WAAW,GAAAT,WAAA,CAAXS,WAAW;MAAEC,eAAe,GAAAV,WAAA,CAAfU,eAAe;MAAEC,eAAe,GAAAX,WAAA,CAAfW,eAAe;MAAaC,kBAAkB,GAAAZ,WAAA,CAAlBY,kBAAkB;IAAA,aAAAC,SAAA;MACpFC,SAAS,GAAAD,SAAA,CAATC,SAAS;MAAEC,SAAS,GAAAF,SAAA,CAATE,SAAS;MAAEC,SAAS,GAAAH,SAAA,CAATG,SAAS;MAAEC,yBAAyB,GAAAJ,SAAA,CAAzBI,yBAAyB;MAAEC,uCAAuC,GAAAL,SAAA,CAAvCK,uCAAuC;IAAA,aAAAC,oBAAA;MAEnGC,OAAO,GAAAD,oBAAA,CAAPC,OAAO;IAAA,aAAAC,4BAAA;MACPC,yBAAyB,GAAAD,4BAAA,CAAzBC,yBAAyB;IAAA,aAAAC,gBAAA;MACzBC,iBAAiB,GAAAD,gBAAA,CAAjBC,iBAAiB;IAAA;IAAAC,OAAA,WAAAA,CAAA;MAEpB9D,aAAa,GAAG,CAAC;MAAAgB,OAAA,uBAEVvB,kBAAkB,GAAxB,MAAMA,kBAAkB,SAASoC,kBAAkB,CAAC;QAAAkC,YAAA,GAAAC,IAAA;UAAA,SAAAA,IAAA;UAAA,KACvDC,kBAAkB,GAAgB,IAAI;UAAA,KACtCC,oBAAoB,GAAc,EAAE;QAAA;MACxC,CAAC;MAED;AACA;AACA;AACA;MAHAlD,OAAA,qBAKaf,gBAAgB,IAAAP,IAAA,GAD5ByB,OAAO,CAAC,kBAAkB,CAAC,EAAAxB,KAAA,GAKvB0B,IAAI,CAAC,CAACa,mBAAmB,CAAC,CAAC,EAAAtC,KAAA,GAE3BwB,YAAY,CAAC,CAAC,CAAC,EAAA1B,IAAA,CAAAG,OAAA,IAAAC,OAAA,GAPpB,MACaG,gBAAgB,SAAS2B,cAAc,CAAC;QAAAmC,YAAA,GAAAC,IAAA;UAAA,SAAAA,IAAA;UAAA,KACzCG,kBAAkB,GAAsB,IAAI;UAAA,KAC5CC,mBAAmB,GAAsB,IAAI;UAAA,KAAAC,cAAA,GAAAtE,YAAA,IAAAA,YAAA;QAAA;QAO9CuE,UAAUA,CAAEC,IAAyB,EAAW;UACnD,KAAK,CAACD,UAAU,CAACC,IAAI,CAAC;UAEtB,IAAI,IAAI,CAACC,MAAM,CAACC,MAAM,KAAK,CAAC,EAAE;YAC1B,MAAMC,UAAU,GAAG,IAAItC,UAAU,CAAC,CAAC;YACnCsC,UAAU,CAACJ,UAAU,CAAClC,UAAU,CAACuC,QAAQ,CAAC;YAC1C,IAAI,CAACH,MAAM,CAACI,IAAI,CAACF,UAAU,CAAC;YAE5B,MAAMG,QAAQ,GAAG,IAAI7C,QAAQ,CAAC,CAAC;YAC/B6C,QAAQ,CAACP,UAAU,CAACtC,QAAQ,CAAC2C,QAAQ,CAAC;YACtC,IAAI,CAACH,MAAM,CAACI,IAAI,CAACC,QAAQ,CAAC;UAC9B;UAEA,OAAO,IAAI;QACf;QAEOC,QAAQA,CAAEC,SAAoB,EAAW;UAC5C,IAAIvD,MAAM,EAAE;YACRwD,OAAO,CAACT,IAAI,CAAC,wCAAwC,GAC/C,mGAAmG,CAAC;UAC9G;UAEA,IAAI,CAACU,OAAO,GAAG;YAAEC,gBAAgB,EAAElF;UAAc,CAAC;UAClD,IAAI,CAACmF,kBAAkB,GAAG,IAAIxB,yBAAyB,CAAC,CAAC;UAEzD,IAAI,CAAC,KAAK,CAACmB,QAAQ,CAACC,SAAS,CAAC,EAAE;YAC5B,OAAO,KAAK;UAChB;UAEA,IAAI,CAAC,IAAI,CAACK,eAAe,CAACL,SAAS,CAAC,EAAE;YAClCtB,OAAO,CAAC,IAAI,CAAC;YACb,OAAO,KAAK;UAChB;UAEA,OAAO,IAAI;QACf;QAEO4B,OAAOA,CAAA,EAAa;UACvB,IAAI,CAACC,YAAY,CAAC,CAAC;UACnB,IAAI,CAACC,0BAA0B,CAAC,CAAC;UACjC,IAAI,CAACC,oBAAoB,CAAC,CAAC;UAE3B,MAAMC,MAAM,GAAG,IAAI,CAACC,aAAa,CAACC,MAAM,CAAC,CAAC;UAC1C,IAAIC,KAAK,GAAGH,MAAM,CAACI,IAAI,CAAC,CAAC;UACzB,OAAO,CAACD,KAAK,CAACE,IAAI,EAAE;YAChBF,KAAK,CAACG,KAAK,CAACV,OAAO,CAAC,CAAC;YACrBO,KAAK,GAAGH,MAAM,CAACI,IAAI,CAAC,CAAC;UACzB;UAEA,IAAI,CAACG,eAAe,CAACvB,MAAM,GAAG,CAAC;UAE/B,OAAO,KAAK,CAACY,OAAO,CAAC,CAAC;QAC1B;QAEOY,4BAA4BA,CAAA,EAAU;UACxC,IAAI,CAACC,iBAAiB,CAA+BC,uBAAuB,CAAC,CAAC;QACnF;QAEOC,qBAAqBA,CAAA,EAAwB;UAChD,IAAI,CAAC,IAAI,CAACC,mBAAmB,EAAE;YAC3B,IAAI,CAACC,2BAA2B,CAAC,CAAC;UACtC;UAEA,OAAO,IAAI,CAACD,mBAAmB;QACnC;QAEQjB,eAAeA,CAAEL,SAAoB,EAAW;UACpD,MAAMwB,MAAM,GAAG,IAAI,CAACA,MAAM;UAE1B,IAAI,CAACP,eAAe,CAACpB,IAAI,CAAC2B,MAAM,CAACC,aAAa,CAAC;UAE/C,MAAMC,OAAO,GAAG,IAAI,CAACC,eAAe,CAACC,YAAY;UACjD,IAAI,CAACC,cAAc,CAACC,WAAW,CAACvD,yBAAyB,EAAEmD,OAAO,CAAC;UACnE,IAAI,CAACG,cAAc,CAACE,WAAW,CAACxD,yBAAyB,EAAE5B,aAAa,CAACqF,GAAG,CAAY,iBAAiB,CAAC,CAACC,aAAa,CAAC,CAAE,CAAC;UAC5H,IAAI,CAACJ,cAAc,CAACC,WAAW,CAACtD,uCAAuC,EAAEkD,OAAO,CAAC;UACjF,IAAI,CAACG,cAAc,CAACE,WAAW,CAACvD,uCAAuC,EAAE7B,aAAa,CAACqF,GAAG,CAAY,iBAAiB,CAAC,CAACC,aAAa,CAAC,CAAE,CAAC;UAC1I,IAAI,CAACJ,cAAc,CAACK,MAAM,CAAC,CAAC;UAE5B,IAAIC,2BAA2B,GAAG,IAAIpF,0BAA0B,CAAC,CAAC;UAClEoF,2BAA2B,GAAG,IAAI,CAACC,yBAAyB,CAAC,CAAC;UAC9D,IAAI,CAACD,2BAA2B,CAACE,MAAM,IAAI,CAACF,2BAA2B,CAACG,MAAM,IAAI,CAACH,2BAA2B,CAACI,MAAM,EAAE;YACnH,OAAO,KAAK;UAChB;UACA,IAAI,CAACC,OAAO,GAAGL,2BAA2B,CAACE,MAAM;UACjD,IAAI,CAACI,gBAAgB,GAAGN,2BAA2B,CAACG,MAAM;UAC1D,IAAI,CAACI,gBAAgB,GAAGP,2BAA2B,CAACI,MAAM;UAE1D,MAAMI,0BAA0B,GAAG,IAAI,CAACP,yBAAyB,CAAC,CAAC;UACnE,IAAI,CAACO,0BAA0B,CAACN,MAAM,IAAI,CAACM,0BAA0B,CAACL,MAAM,IAAI,CAACK,0BAA0B,CAACJ,MAAM,EAAE;YAChH,OAAO,KAAK;UAChB;UACA,IAAI,CAACK,eAAe,GAAGD,0BAA0B,CAACL,MAAM;UACxD,IAAI,CAACO,eAAe,GAAGF,0BAA0B,CAACJ,MAAM;UAExD,IAAI,CAAC,IAAI,CAACnD,kBAAkB,EAAE;YAC1B,MAAM0D,gBAAgB,GAAG,IAAIrF,eAAe,CAAC,CAAC;YAC9CqF,gBAAgB,CAACC,MAAM,GAAGxF,MAAM,CAACyF,OAAO;YACxCF,gBAAgB,CAACG,MAAM,GAAGtF,MAAM,CAACuF,KAAK,CAAC,CAAC;YACxCJ,gBAAgB,CAACK,OAAO,GAAG3F,OAAO,CAAC4F,KAAK;YAExC,MAAMC,gBAAgB,GAAG,IAAI5F,eAAe,CAAC,CAAC;YAC9C4F,gBAAgB,CAACN,MAAM,GAAGxF,MAAM,CAACyF,OAAO;YACxCK,gBAAgB,CAACJ,MAAM,GAAGtF,MAAM,CAACuF,KAAK,CAAC,CAAC;YACxCG,gBAAgB,CAACF,OAAO,GAAG3F,OAAO,CAAC4F,KAAK;YAExC,MAAME,gBAAgB,GAAG,IAAI7F,eAAe,CAAC,CAAC;YAC9C6F,gBAAgB,CAACP,MAAM,GAAGxF,MAAM,CAACyF,OAAO;YACxCM,gBAAgB,CAACL,MAAM,GAAGtF,MAAM,CAACuF,KAAK,CAAC,CAAC;YACxCI,gBAAgB,CAACH,OAAO,GAAG3F,OAAO,CAAC4F,KAAK;YAExC,MAAMG,sBAAsB,GAAG,IAAI7F,sBAAsB,CAAC,CAAC;YAC3D6F,sBAAsB,CAACR,MAAM,GAAGxF,MAAM,CAACiG,aAAa;YACpDD,sBAAsB,CAACE,WAAW,GAAG9F,MAAM,CAACuF,KAAK;YACjDK,sBAAsB,CAACG,YAAY,GAAGlG,OAAO,CAAC4F,KAAK;YACnDG,sBAAsB,CAACI,aAAa,GAAGhG,MAAM,CAACuF,KAAK;YACnDK,sBAAsB,CAACK,cAAc,GAAGpG,OAAO,CAAC4F,KAAK;YACrD,MAAMS,cAAc,GAAG,IAAIjG,cAAc,CACrC,CAACkF,gBAAgB,EAAEO,gBAAgB,EAAEC,gBAAgB,CAAC,EACtDC,sBACJ,CAAC;YACD,IAAI,CAACnE,kBAAkB,GAAGoC,MAAM,CAACsC,gBAAgB,CAACD,cAAc,CAAC;UACrE;UAEA,IAAI,CAAC,IAAI,CAACxE,mBAAmB,EAAE;YAC3B,MAAM0E,eAAe,GAAG,IAAItG,eAAe,CAAC,CAAC;YAC7CsG,eAAe,CAAChB,MAAM,GAAGxF,MAAM,CAACyG,KAAK;YACrCD,eAAe,CAACd,MAAM,GAAGtF,MAAM,CAACuF,KAAK,CAAC,CAAC;YACvCa,eAAe,CAACZ,OAAO,GAAG3F,OAAO,CAAC4F,KAAK;YACvCW,eAAe,CAACE,OAAO,GAAGzC,MAAM,CAAC0C,iBAAiB,CAAC,IAAIhG,kBAAkB,CACrEL,aAAa,CAACsG,IAAI,EAClBtG,aAAa,CAACuG,sBAClB,CAAC,CAAC;YAEF,MAAMb,sBAAsB,GAAG,IAAI7F,sBAAsB,CAAC,CAAC;YAC3D6F,sBAAsB,CAACR,MAAM,GAAGxF,MAAM,CAACiG,aAAa;YACpDD,sBAAsB,CAACE,WAAW,GAAG9F,MAAM,CAAC0G,IAAI;YAChDd,sBAAsB,CAACG,YAAY,GAAGlG,OAAO,CAAC8G,OAAO;YACrDf,sBAAsB,CAACI,aAAa,GAAGhG,MAAM,CAAC0G,IAAI;YAClDd,sBAAsB,CAACK,cAAc,GAAGpG,OAAO,CAAC8G,OAAO;YACvDP,eAAe,CAACE,OAAO,GAAGzC,MAAM,CAAC0C,iBAAiB,CAAC,IAAIhG,kBAAkB,CACrEL,aAAa,CAAC0G,8BAA8B,EAC5C1G,aAAa,CAAC0G,8BAClB,CAAC,CAAC;YAEF,MAAMV,cAAc,GAAG,IAAIjG,cAAc,CAAC,CAACmG,eAAe,CAAC,EAAER,sBAAsB,CAAC;YACpF,IAAI,CAAClE,mBAAmB,GAAGmC,MAAM,CAACsC,gBAAgB,CAACD,cAAc,CAAC;UACtE;UAEA,IAAI,CAACW,MAAM,GAAGxE,SAAS,CAACyE,KAAK;UAC7B,IAAI,CAACC,OAAO,GAAG1E,SAAS,CAAC2E,MAAM;UAC/B,IAAI,CAACpD,2BAA2B,CAAC,CAAC;UAElC,OAAO,IAAI;QACf;QAEQhB,YAAYA,CAAA,EAAU;UAC1B,IAAI,IAAI,CAACsB,cAAc,EAAE;YACrB,IAAI,CAACA,cAAc,CAAC+C,SAAS,CAACxG,SAAS,CAACyG,OAAO,CAAC,CAACvE,OAAO,CAAC,CAAC;YAC1D,IAAI,CAACuB,cAAc,CAAC+C,SAAS,CAACtG,SAAS,CAACuG,OAAO,CAAC,CAACvE,OAAO,CAAC,CAAC;YAC1D,IAAI,CAACuB,cAAc,CAAC+C,SAAS,CAACvG,SAAS,CAACwG,OAAO,CAAC,CAACvE,OAAO,CAAC,CAAC;YAC1D,IAAI,CAACuB,cAAc,CAACiD,UAAU,CAACvG,yBAAyB,CAAC,CAAC+B,OAAO,CAAC,CAAC;YACnE,IAAI,CAACuB,cAAc,CAACiD,UAAU,CAACtG,uCAAuC,CAAC,CAAC8B,OAAO,CAAC,CAAC;UACrF;QACJ;QAEQG,oBAAoBA,CAAA,EAAU;UAClC,MAAMsE,YAAY,GAAG,IAAI,CAACzD,mBAAyC;UACnE,IAAIyD,YAAY,EAAE;YACd,IAAIA,YAAY,CAAC7F,kBAAkB,EAAE6F,YAAY,CAAC7F,kBAAkB,CAACoB,OAAO,CAAC,CAAC;YAC9E,IAAIyE,YAAY,CAACC,iBAAiB,EAAED,YAAY,CAACC,iBAAiB,CAAC1E,OAAO,CAAC,CAAC;YAC5E,IAAIyE,YAAY,CAACE,WAAW,EAAEF,YAAY,CAACE,WAAW,CAAC3E,OAAO,CAAC,CAAC;YAEhE,KAAK,IAAI4E,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,YAAY,CAAC5F,oBAAoB,CAACO,MAAM,EAAEwF,CAAC,EAAE,EAAE;cAC/DH,YAAY,CAAC5F,oBAAoB,CAAC+F,CAAC,CAAC,CAAC5E,OAAO,CAAC,CAAC;YAClD;YACAyE,YAAY,CAAC5F,oBAAoB,CAACO,MAAM,GAAG,CAAC;YAE5C,KAAK,IAAIwF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,YAAY,CAACI,mBAAmB,CAACzF,MAAM,EAAEwF,CAAC,EAAE,EAAE;cAC9DH,YAAY,CAACI,mBAAmB,CAACD,CAAC,CAAC,CAAC5E,OAAO,CAAC,CAAC;YACjD;YACAyE,YAAY,CAACI,mBAAmB,CAACzF,MAAM,GAAG,CAAC;YAE3C,IAAI,CAAC0F,iBAAiB,CAAC,CAAC;UAC5B;UAEA,IAAI,CAAC9D,mBAAmB,GAAG,IAAI;QACnC;QAEU+D,iBAAiBA,CAAEC,OAAiB,EAAQ;UAClD,IAAIC,QAAQ,GAAG,IAAI,CAACf,MAAM;UAC1B,IAAIgB,SAAS,GAAG,IAAI,CAACd,OAAO;UAC5B,KAAK,IAAIQ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGI,OAAO,CAAC5F,MAAM,EAAE,EAAEwF,CAAC,EAAE;YACrC,MAAMO,MAAM,GAAGH,OAAO,CAACJ,CAAC,CAAC,CAACO,MAAM;YAChCF,QAAQ,GAAGG,IAAI,CAACC,GAAG,CAACF,MAAM,CAAChB,KAAK,EAAEc,QAAQ,CAAC;YAC3CC,SAAS,GAAGE,IAAI,CAACC,GAAG,CAACF,MAAM,CAACd,MAAM,EAAEa,SAAS,CAAC;UAClD;UACA,IAAID,QAAQ,KAAK,IAAI,CAACf,MAAM,IAAIgB,SAAS,KAAK,IAAI,CAACd,OAAO,EAAE;YACxD,IAAI,CAACF,MAAM,GAAGe,QAAQ;YACtB,IAAI,CAACb,OAAO,GAAGc,SAAS;YACxB,IAAI,CAAC/E,oBAAoB,CAAC,CAAC;YAC3B,IAAI,CAACc,2BAA2B,CAAC,CAAC;UACtC;QACJ;QAEQA,2BAA2BA,CAAA,EAAU;UACzC,MAAMC,MAAM,GAAG,IAAI,CAACA,MAAM;UAE1B,MAAMoE,IAAwB,GAAG,IAAI,CAACtE,mBAAmB,GAAG,IAAI5G,kBAAkB,CAAC,CAAC;UACpF,MAAMmL,SAAS,GAAG,IAAI,CAAC1E,iBAAiB;UACxC,KAAK,IAAI+D,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,CAAC,EAAE,EAAEA,CAAC,EAAE;YACxBU,IAAI,CAACzG,oBAAoB,CAACU,IAAI,CAAC2B,MAAM,CAACsE,aAAa,CAAC,IAAIhI,WAAW,CAC/DC,WAAW,CAACgI,KAAK,EACjB/H,eAAe,CAACgI,gBAAgB,GAAGhI,eAAe,CAACiI,OAAO,EAC1D1I,MAAM,CAACyF,OAAO;YAAE;YAChB,IAAI,CAACwB,MAAM,GAAGqB,SAAS,CAACK,YAAY,EACpC,IAAI,CAACxB,OAAO,GAAGmB,SAAS,CAACK,YAC7B,CAAC,CAAC,CAAC;UACP;UACAN,IAAI,CAACX,WAAW,GAAGzD,MAAM,CAACsE,aAAa,CAAC,IAAIhI,WAAW,CACnDC,WAAW,CAACgI,KAAK,EACjB/H,eAAe,CAACmI,wBAAwB,GAAGnI,eAAe,CAACiI,OAAO,EAClE1I,MAAM,CAACiG,aAAa,EACpB,IAAI,CAACgB,MAAM,GAAGqB,SAAS,CAACK,YAAY,EACpC,IAAI,CAACxB,OAAO,GAAGmB,SAAS,CAACK,YAC7B,CAAC,CAAC;UAEFN,IAAI,CAAC1G,kBAAkB,GAAGsC,MAAM,CAAC4E,iBAAiB,CAAC,IAAInI,eAAe,CAClE,IAAI,CAACmB,kBAAkB,EACvBwG,IAAI,CAACzG,oBAAoB,EACzByG,IAAI,CAACX,WACT,CAAC,CAAC;UACFW,IAAI,CAACT,mBAAmB,CAACtF,IAAI,CAAC2B,MAAM,CAACsE,aAAa,CAAC,IAAIhI,WAAW,CAC9DC,WAAW,CAACgI,KAAK,EACjB/H,eAAe,CAACgI,gBAAgB,GAAGhI,eAAe,CAACiI,OAAO,EAC1D1I,MAAM,CAACyF,OAAO,EACd,IAAI,CAACwB,MAAM,GAAGqB,SAAS,CAACK,YAAY,EACpC,IAAI,CAACxB,OAAO,GAAGmB,SAAS,CAACK,YAC7B,CAAC,CAAC,CAAC;UAEHN,IAAI,CAACZ,iBAAiB,GAAGxD,MAAM,CAAC4E,iBAAiB,CAAC,IAAInI,eAAe,CACjE,IAAI,CAACoB,mBAAmB,EACxBuG,IAAI,CAACT,mBAAmB,EACxB,IACJ,CAAC,CAAC;UAEFS,IAAI,CAAClE,OAAO,GAAG,IAAI,CAACC,eAAe,CAACC,YAAY;;UAEhD;UACA,IAAI,CAACyE,EAAE,CAACvH,iBAAiB,CAACwH,wBAAwB,EAAGC,GAAW,IAAW;YACvEX,IAAI,CAAClE,OAAO,GAAG6E,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC5E,eAAe,CAACC,YAAY,GAAG,IAAI,CAACD,eAAe,CAAC6E,aAAa;YAC/FZ,IAAI,CAAC1G,kBAAkB,GAAG,IAAI,CAACuH,qBAAqB,CAACb,IAAI,CAAC1G,kBAAkB,CAAC;YAC7E0G,IAAI,CAAC1G,kBAAkB,GAAG,IAAI,CAACuH,qBAAqB,CAACb,IAAI,CAACZ,iBAAiB,CAAC;UAChF,CAAC,CAAC;QACN;MACJ,CAAC,GAAAhK,YAAA,GAAAG,0BAAA,CAAAJ,OAAA,CAAA2L,SAAA,qBAAA9L,KAAA,EAlQI2B,YAAY,EAAA1B,KAAA;QAAA,OAEqC,EAAE;MAAA,KAAAE,OAAA,MAAAD,OAAA;IAAA;EAAA;AAAA"}