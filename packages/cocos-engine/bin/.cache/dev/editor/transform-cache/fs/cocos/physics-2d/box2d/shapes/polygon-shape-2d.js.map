{"version":3,"names":["b2PolygonShape","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","_export","setters","_cocosBox2d","b2","default","_shape2dJs","b2Shape2D","_frameworkUtilsPolygonPartitionJs","PolygonPartition","_frameworkPhysicsTypesJs","PHYSICS_2D_PTM_RATIO","_coreIndexJs","Vec2","execute","constructor","args","_worldPoints","worldPoints","comp","collider","points","m","node","worldMatrix","i","length","transformMat4","_createShapes","scaleX","scaleY","relativePositionX","relativePositionY","shapes","equals","polys","ConvexPartition","console","log","name","offset","poly","shape","vertices","firstVertice","j","l","PolygonShape","p","x","y","v","push","maxPolygonVertices","Set"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/physics-2d/box2d/shapes/polygon-shape-2d.ts"],"mappings":"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"}