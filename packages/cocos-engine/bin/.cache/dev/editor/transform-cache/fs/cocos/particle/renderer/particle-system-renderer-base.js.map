{"version":3,"names":["ParticleSystemRendererBase","_export","setters","_gfxIndexJs","deviceManager","Feature","_modelsParticleBatchModelJs","ParticleBatchModel","default","_enumJs","RenderMode","_coreIndexJs","cclegacy","execute","model","_model","constructor","info","_particleSystem","_renderInfo","_vertAttrs","_useInstance","gfxDevice","hasFeature","INSTANCED_ARRAYS","getUseInstance","getInfo","onInit","ps","onEnable","attachToScene","node","transform","onDisable","detachFromScene","onDestroy","director","root","destroyModel","_this$_particleSystem","scene","_getRenderScene","addModel","removeModel","setVertexAttributes","updateVertexAttrib","renderMode","Mesh","mesh","clear","enabled","getModel","_initModel","createModel","setCapacity","capacity","visFlags","visibility","updateTrailMaterial","getDefaultTrailMaterial"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/particle/renderer/particle-system-renderer-base.ts"],"mappings":"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"}