{"version":3,"names":["TouchInputSource","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","_export","setters","_virtualInternal253AconstantsJs","EDITOR","TEST","_palSystemInfo","systemInfo","_palScreenAdapter","screenAdapter","_cocosCoreMathIndexJs","Rect","Vec2","_cocosCoreEventIndexJs","EventTarget","_cocosInputTypesIndexJs","EventTouch","_touchManagerJs","touchManager","_cocosCorePlatformMacroJs","macro","_cocosInputTypesEventEnumJs","InputEventType","_systemInfoEnumTypeIndexJs","Feature","_cocosCorePlatformDebugJs","warn","execute","constructor","_canvas","_eventTarget","hasFeature","INPUT_TOUCH","document","getElementById","_registerEvent","_this$_canvas","_this$_canvas2","_this$_canvas3","_this$_canvas4","addEventListener","_createCallback","TOUCH_START","TOUCH_MOVE","TOUCH_END","TOUCH_CANCEL","eventType","event","canvasRect","_getCanvasRect","handleTouches","length","changedTouches","i","changedTouch","touchID","identifier","location","_getLocation","touch","getOrCreateTouch","x","y","releaseTouch","push","stopPropagation","target","preventDefault","_this$_canvas5","focus","eventTouch","ENABLE_MULTI_TOUCH","getAllTouches","emit","canvas","box","getBoundingClientRect","width","height","globalThis","__globalXR","ar","isWebXR","clientX","clientY","isFrameRotated","tmp","dpr","devicePixelRatio","on","callback"],"sources":["file:///Users/henryliu/obelisk/fish-game/CocosCreator.app/Contents/Resources/resources/3d/engine/pal/input/web/touch-input.ts"],"mappings":"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"}