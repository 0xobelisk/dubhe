{"version":3,"names":["setters","_coreIndexJs","clamp01","js","_playableJs","Playable","_globalAnimationManagerJs","getGlobalAnimationManager","execute","_export","CrossFade","_Playable","_inheritsLoose","scheduler","_this","call","_managedStates","_fadings","_scheduled","_scheduler","_proto","prototype","update","deltaTime","isMotionless","managedStates","fadings","length","state","weight","_calculateWeights","_unscheduleThis","crossFade","duration","_target$state","clear","target","find","weightedState","reference","play","push","unshift","easeDuration","easeTime","_scheduleThis","iManagedState","stop","onPlay","onPause","pause","onResume","resume","onStop","absoluteWeight","deadFadingBegin","iFading","fading","relativeWeight","iDeadFading","deadFading","array","remove","splice","addCrossFade","removeCrossFade"],"sources":["../../../../../../../../cocos/animation/cross-fade.ts"],"mappings":"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"}