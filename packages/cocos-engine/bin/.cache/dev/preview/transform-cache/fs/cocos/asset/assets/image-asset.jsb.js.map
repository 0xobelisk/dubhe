{"version":3,"names":["isImageBitmap","imageSource","sys","hasFeature","Feature","IMAGE_BITMAP","ImageBitmap","isNativeImage","ALIPAY","XIAOMI","BAIDU","JSB","_compressed","jsbWindow","HTMLImageElement","HTMLCanvasElement","setters","_virtualInternal253AconstantsJs","TEST","EDITOR","_gfxIndexJs","Format","FormatFeatureBit","deviceManager","_assetEnumJs","PixelFormat","_coreIndexJs","macro","warnID","cclegacy","_nativeBindingDecoratorsJs","patch_cc_ImageAsset","_assetJs","execute","_export","ImageAsset","jsb","window","extnames","imageAssetProto","prototype","_ctor","nativeAsset","Asset","apply","arguments","_width","_height","_nativeData","_data","width","height","format","mipmapLevelDataSize","undefined","reset","Object","defineProperty","configurable","enumerable","get","set","value","HTMLElement","_setRawAsset","filename","inLibrary","_native","data","_syncDataToNative","superDestroy","destroy","src","close","call","setWidth","setHeight","url","nativeUrl","setData","_mipmapLevelDataSize","setMipmapLevelDataSize","console","error","_serialize","targetExtensions","extensionIndices","_iterator","_createForOfIteratorHelperLoose","_step","done","targetExtension","extensionFormat","split","i","indexOf","exportedExtensionID","push","fmt","join","w","h","_deserialize","fmtStr","device","gfxDevice","extensionIDs","preferedExtensionIndex","Number","MAX_VALUE","ext","SupportTextureFormats","SUPPORT_TEXTURE_FORMATS","_iterator2","_step2","extensionID","extFormat","parseInt","tmpExt","index","getFormatFeatures","ASTC_RGBA_4X4","SAMPLED_TEXTURE","PVRTC_RGBA4","RGB_ETC1","RGBA_ETC1","ETC_RGB8","RGB_ETC2","RGBA_ETC2","ETC2_RGB8","WEBP"],"sources":["../../../../../../../../../cocos/asset/assets/image-asset.jsb.ts"],"mappings":"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"}