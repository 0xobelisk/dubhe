{"version":3,"names":["capsule","radiusTop","radiusBottom","height","opts","torsoHeight","sides","heightSegments","bottomProp","torProp","topProp","bottomSegments","Math","floor","topSegments","torSegments","topOffset","torOffset","bottomOffset","arc","PI","positions","normals","uvs","indices","maxRadius","max","minPos","Vec3","maxPos","boundingRadius","index","indexArray","generateBottom","generateTorso","generateTop","slope","y","indexRow","lat","radius","x","u","v","theta","sinTheta","sin","cosTheta","cos","push","normalize","temp1","set","temp2","z","i1","i2","i3","i4","lon","phi","sinPhi","cosPhi","seg1","a","b","c","d","_export","setters","_coreIndexJs","execute"],"sources":["../../../../../../../../cocos/primitive/capsule.ts"],"mappings":"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"}