{"version":3,"names":["setters","_virtualInternal253AconstantsJs","EDITOR","TEST","_palSystemInfo","systemInfo","_palScreenAdapter","screenAdapter","_cocosInputTypesIndexJs","EventMouse","_cocosCoreEventIndexJs","EventTarget","_cocosCoreMathIndexJs","Rect","Vec2","_cocosInputTypesEventEnumJs","InputEventType","_systemInfoEnumTypeIndexJs","Feature","execute","_export","MouseInputSource","_canvas","_eventTarget","_pointLocked","_isPressed","_preMousePos","_handleMouseDown","_handleMouseMove","_handleMouseUp","hasFeature","EVENT_MOUSE","document","getElementById","console","warn","_createCallback","MOUSE_DOWN","MOUSE_MOVE","MOUSE_UP","_registerEvent","_proto","prototype","dispatchMouseDownEvent","nativeMouseEvent","dispatchMouseMoveEvent","dispatchMouseUpEvent","dispatchScrollEvent","_handleMouseWheel","on","eventType","callback","target","_getCanvasRect","canvas","box","getBoundingClientRect","x","y","width","height","_getLocation","mouseEvent","canvasRect","dpr","devicePixelRatio","movementX","clientX","movementY","clientY","_this","_this$_canvas","_this$_canvas2","_this$_canvas3","_this$_canvas4","window","addEventListener","bind","_registerPointerLockEvent","_this2","lockChangeAlert","pointerLockElement","mozPointerLockElement","_this3","_this3$_canvas","location","button","buttons","targetButton","focus","BUTTON_LEFT","BUTTON_RIGHT","BUTTON_MIDDLE","BUTTON_MISSING","eventMouse","setLocation","setButton","set","stopPropagation","preventDefault","emit","MOUSE_WHEEL","wheelSensitivityFactor","setScrollData","deltaX","deltaY"],"sources":["../../../../../../../../../pal/input/web/mouse-input.ts"],"mappings":"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"}