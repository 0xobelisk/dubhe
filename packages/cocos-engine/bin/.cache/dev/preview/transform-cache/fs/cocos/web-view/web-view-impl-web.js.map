{"version":3,"names":["setters","_palScreenAdapter","screenAdapter","_webViewEnumsJs","EventType","_corePlatformIndexJs","error","warn","_webViewImplJs","WebViewImpl","_gameIndexJs","game","_coreMathIndexJs","mat4","_coreUtilsMiscJs","contains","_coreGlobalExportsJs","ccwindow","execute","ccdocument","document","_mat4_temp","_export","WebViewImplWeb","_WebViewImpl","_inheritsLoose","component","call","_proto","prototype","_bindDomEvent","_this","webview","onLoaded","e","_forceUpdate","dispatchEvent","LOADED","iframe","target","body","contentDocument","innerHTML","includes","ERROR","addEventListener","loadURL","url","src","LOADING","createWebView","wrapper","createElement","_wrapper","id","style","position","bottom","left","transformOrigin","container","appendChild","_webview","border","width","height","removeWebView","removeChild","reset","enable","visibility","disable","evaluateJS","str","win","contentWindow","eval","setOnJSCallback","callback","setJavascriptInterfaceScheme","scheme","syncMatrix","_uiTrans","_component","camera","UICamera","node","getWorldMatrix","update","worldMatrixToScreen","canvas","_this$_uiTrans$conten","contentSize","_m00","m00","_m01","m01","_m04","m04","_m05","m05","_m12","m12","_m13","m13","_w","_h","dpr","devicePixelRatio","scaleX","scaleY","sx","b","c","sy","w","h","appx","anchorX","appy","anchorY","offsetX","paddingLeft","parseInt","offsetY","paddingBottom","tx","ty","matrix","transform"],"sources":["../../../../../../../../cocos/web-view/web-view-impl-web.ts"],"mappings":";;;;;2MAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EAtBA;IAAAA,OAAA,aAAAC,iBAAA;MAwBSC,aAAa,GAAAD,iBAAA,CAAbC,aAAa;IAAA,aAAAC,eAAA;MACbC,SAAS,GAAAD,eAAA,CAATC,SAAS;IAAA,aAAAC,oBAAA;MACTC,KAAK,GAAAD,oBAAA,CAALC,KAAK;MAAEC,IAAI,GAAAF,oBAAA,CAAJE,IAAI;IAAA,aAAAC,cAAA;MACXC,WAAW,GAAAD,cAAA,CAAXC,WAAW;IAAA,aAAAC,YAAA;MACXC,IAAI,GAAAD,YAAA,CAAJC,IAAI;IAAA,aAAAC,gBAAA;MACJC,IAAI,GAAAD,gBAAA,CAAJC,IAAI;IAAA,aAAAC,gBAAA;MACJC,QAAQ,GAAAD,gBAAA,CAARC,QAAQ;IAAA,aAAAC,oBAAA;MACRC,QAAQ,GAAAD,oBAAA,CAARC,QAAQ;IAAA;IAAAC,OAAA,WAAAA,CAAA;MAEXC,UAAU,GAAGF,QAAQ,CAACG,QAAQ;MAE9BC,UAAU,GAAGR,IAAI,CAAC,CAAC;MAAAS,OAAA,mBAEZC,cAAc,0BAAAC,YAAA;QAAAC,cAAA,CAAAF,cAAA,EAAAC,YAAA;QACvB,SAAAD,eAAaG,SAAc,EAAE;UAAA,OACzBF,YAAA,CAAAG,IAAA,OAAMD,SAAS,CAAC;QACpB;QAAC,IAAAE,MAAA,GAAAL,cAAA,CAAAM,SAAA;QAAAD,MAAA,CAEDE,aAAa,GAAb,SAAAA,cAAA,EAAuB;UAAA,IAAAC,KAAA;UACnB,IAAI,CAAC,IAAI,CAACC,OAAO,EAAE;YACf;UACJ;UACA,IAAMC,QAAQ,GAAG,SAAXA,QAAQA,CAAIC,CAAQ,EAAW;YACjCH,KAAI,CAACI,YAAY,GAAG,IAAI;YACxBJ,KAAI,CAACK,aAAa,CAAChC,SAAS,CAACiC,MAAM,CAAC;YAEpC,IAAMC,MAAM,GAAGJ,CAAC,CAACK,MAA2B;YAC5C,IAAMC,IAAI,GAAGF,MAAM,CAACG,eAAe,IAAIH,MAAM,CAACG,eAAe,CAACD,IAAI;YAClE,IAAIA,IAAI,IAAIA,IAAI,CAACE,SAAS,CAACC,QAAQ,CAAC,KAAK,CAAC,EAAE;cACxCZ,KAAI,CAACK,aAAa,CAAChC,SAAS,CAACwC,KAAK,EAAEJ,IAAI,CAACE,SAAS,CAAC;YACvD;UACJ,CAAC;UAED,IAAI,CAACV,OAAO,CAACa,gBAAgB,CAAC,MAAM,EAAEZ,QAAQ,CAAC;QACnD,CAAC;QAAAL,MAAA,CAEMkB,OAAO,GAAd,SAAAA,QAAgBC,GAAW,EAAQ;UAC/B,IAAI,IAAI,CAACf,OAAO,EAAE;YACd,IAAI,CAACA,OAAO,CAACgB,GAAG,GAAGD,GAAG;YACtB;YACA,IAAI,CAACX,aAAa,CAAChC,SAAS,CAAC6C,OAAO,CAAC;UACzC;QACJ,CAAC;QAAArB,MAAA,CAEMsB,aAAa,GAApB,SAAAA,cAAA,EAA8B;UAC1B,IAAMC,OAAO,GAAGhC,UAAU,CAACiC,aAAa,CAAC,KAAK,CAAC;UAC/C,IAAI,CAACC,QAAQ,GAAGF,OAAO;UACvBA,OAAO,CAACG,EAAE,GAAG,iBAAiB;UAC9BH,OAAO,CAACI,KAAK,CAAC,kBAAkB,CAAC,GAAG,MAAM;UAC1CJ,OAAO,CAACI,KAAK,CAAC,4BAA4B,CAAC,GAAG,OAAO;UACrDJ,OAAO,CAACI,KAAK,CAACC,QAAQ,GAAG,UAAU;UACnCL,OAAO,CAACI,KAAK,CAACE,MAAM,GAAG,KAAK;UAC5BN,OAAO,CAACI,KAAK,CAACG,IAAI,GAAG,KAAK;UAC1BP,OAAO,CAACI,KAAK,CAACI,eAAe,GAAG,cAAc;UAC9CR,OAAO,CAACI,KAAK,CAAC,0BAA0B,CAAC,GAAG,cAAc;UAC1D5C,IAAI,CAACiD,SAAS,CAAEC,WAAW,CAACV,OAAO,CAAC;UAEpC,IAAMnB,OAAO,GAAGb,UAAU,CAACiC,aAAa,CAAC,QAAQ,CAAC;UAClD,IAAI,CAACU,QAAQ,GAAG9B,OAAO;UACvBA,OAAO,CAACsB,EAAE,GAAG,SAAS;UACtBtB,OAAO,CAACuB,KAAK,CAACQ,MAAM,GAAG,MAAM;UAC7B/B,OAAO,CAACuB,KAAK,CAACS,KAAK,GAAG,MAAM;UAC5BhC,OAAO,CAACuB,KAAK,CAACU,MAAM,GAAG,MAAM;UAC7Bd,OAAO,CAACU,WAAW,CAAC7B,OAAO,CAAC;UAC5B,IAAI,CAACF,aAAa,CAAC,CAAC;QACxB,CAAC;QAAAF,MAAA,CAEMsC,aAAa,GAApB,SAAAA,cAAA,EAA8B;UAC1B,IAAMf,OAAO,GAAG,IAAI,CAACE,QAAQ;UAC7B,IAAItC,QAAQ,CAACJ,IAAI,CAACiD,SAAS,EAAET,OAAO,CAAC,EAAE;YACnCxC,IAAI,CAACiD,SAAS,CAAEO,WAAW,CAAChB,OAAO,CAAC;UACxC;UACA,IAAI,CAACiB,KAAK,CAAC,CAAC;QAChB,CAAC;QAAAxC,MAAA,CAEMyC,MAAM,GAAb,SAAAA,OAAA,EAAuB;UACnB,IAAI,IAAI,CAAChB,QAAQ,EAAE;YACf,IAAI,CAACA,QAAQ,CAACE,KAAK,CAACe,UAAU,GAAG,SAAS;UAC9C;QACJ,CAAC;QAAA1C,MAAA,CAEM2C,OAAO,GAAd,SAAAA,QAAA,EAAwB;UACpB,IAAI,IAAI,CAAClB,QAAQ,EAAE;YACf,IAAI,CAACA,QAAQ,CAACE,KAAK,CAACe,UAAU,GAAG,QAAQ;UAC7C;QACJ,CAAC;QAAA1C,MAAA,CAEM4C,UAAU,GAAjB,SAAAA,WAAmBC,GAAW,EAAQ;UAClC,IAAI,IAAI,CAACzC,OAAO,EAAE;YACd,IAAM0C,GAAG,GAAG,IAAI,CAAC1C,OAAO,CAAC2C,aAAa;YACtC,IAAID,GAAG,EAAE;cACL,IAAI;gBACAA,GAAG,CAACE,IAAI,CAACH,GAAG,CAAC;cACjB,CAAC,CAAC,OAAOvC,CAAC,EAAE;gBACR,IAAI,CAACE,aAAa,CAAChC,SAAS,CAACwC,KAAK,EAAEV,CAAC,CAAC;gBACtC5B,KAAK,CAAC4B,CAAC,CAAC;cACZ;YACJ;UACJ;QACJ,CAAC;QAAAN,MAAA,CAEMiD,eAAe,GAAtB,SAAAA,gBAAwBC,QAAoB,EAAQ;UAChDvE,IAAI,CAAC,+BAA+B,CAAC;QACzC,CAAC;QAAAqB,MAAA,CAEMmD,4BAA4B,GAAnC,SAAAA,6BAAqCC,MAAc,EAAQ;UACvDzE,IAAI,CAAC,+BAA+B,CAAC;QACzC,CAAC;QAAAqB,MAAA,CAEMqD,UAAU,GAAjB,SAAAA,WAAA,EAA2B;UACvB,IAAI,CAAC,IAAI,CAAC5B,QAAQ,IAAI,CAAC,IAAI,CAAC6B,QAAQ,IAAI,CAAC,IAAI,CAACC,UAAU,IAAI,IAAI,CAAC9B,QAAQ,CAACE,KAAK,CAACe,UAAU,KAAK,QAAQ,EAAE;UAEzG,IAAMc,MAAM,GAAG,IAAI,CAACC,QAAQ;UAC5B,IAAI,CAACD,MAAM,EAAE;YACT;UACJ;UAEA,IAAI,CAACD,UAAU,CAACG,IAAI,CAACC,cAAc,CAAClE,UAAU,CAAC;UAC/C+D,MAAM,CAACI,MAAM,CAAC,IAAI,CAAC;UACnBJ,MAAM,CAACK,mBAAmB,CAACpE,UAAU,EAAEA,UAAU,EAAEV,IAAI,CAAC+E,MAAM,CAAE1B,KAAK,EAAErD,IAAI,CAAC+E,MAAM,CAAEzB,MAAM,CAAC;UAE3F,IAAA0B,qBAAA,GAA0B,IAAI,CAACT,QAAQ,CAACU,WAAW;YAA3C5B,KAAK,GAAA2B,qBAAA,CAAL3B,KAAK;YAAEC,MAAM,GAAA0B,qBAAA,CAAN1B,MAAM;UACrB,IAAI,CAAC,IAAI,CAAC9B,YAAY,IACf,IAAI,CAAC0D,IAAI,KAAKxE,UAAU,CAACyE,GAAG,IAAI,IAAI,CAACC,IAAI,KAAK1E,UAAU,CAAC2E,GAAG,IAC5D,IAAI,CAACC,IAAI,KAAK5E,UAAU,CAAC6E,GAAG,IAAI,IAAI,CAACC,IAAI,KAAK9E,UAAU,CAAC+E,GAAG,IAC5D,IAAI,CAACC,IAAI,KAAKhF,UAAU,CAACiF,GAAG,IAAI,IAAI,CAACC,IAAI,KAAKlF,UAAU,CAACmF,GAAG,IAC5D,IAAI,CAACC,EAAE,KAAKzC,KAAK,IAAI,IAAI,CAAC0C,EAAE,KAAKzC,MAAM,EAAE;YAC5C;UACJ;;UAEA;UACA,IAAI,CAAC4B,IAAI,GAAGxE,UAAU,CAACyE,GAAG;UAC1B,IAAI,CAACC,IAAI,GAAG1E,UAAU,CAAC2E,GAAG;UAC1B,IAAI,CAACC,IAAI,GAAG5E,UAAU,CAAC6E,GAAG;UAC1B,IAAI,CAACC,IAAI,GAAG9E,UAAU,CAAC+E,GAAG;UAC1B,IAAI,CAACC,IAAI,GAAGhF,UAAU,CAACiF,GAAG;UAC1B,IAAI,CAACC,IAAI,GAAGlF,UAAU,CAACmF,GAAG;UAC1B,IAAI,CAACC,EAAE,GAAGzC,KAAK;UACf,IAAI,CAAC0C,EAAE,GAAGzC,MAAM;;UAEhB;UACA,IAAM0C,GAAG,GAAGzG,aAAa,CAAC0G,gBAAgB;UAC1C,IAAMC,MAAM,GAAG,CAAC,GAAGF,GAAG;UACtB,IAAMG,MAAM,GAAG,CAAC,GAAGH,GAAG;UAEtB,IAAM/C,SAAS,GAAGjD,IAAI,CAACiD,SAAU;UACjC,IAAMmD,EAAE,GAAG1F,UAAU,CAACyE,GAAG,GAAGe,MAAM;UAClC,IAAMG,CAAC,GAAG3F,UAAU,CAAC2E,GAAG;UACxB,IAAMiB,CAAC,GAAG5F,UAAU,CAAC6E,GAAG;UACxB,IAAMgB,EAAE,GAAG7F,UAAU,CAAC+E,GAAG,GAAGU,MAAM;UAElC,IAAI,CAACzD,QAAQ,CAACE,KAAK,CAACS,KAAK,GAAMA,KAAK,OAAI;UACxC,IAAI,CAACX,QAAQ,CAACE,KAAK,CAACU,MAAM,GAAMA,MAAM,OAAI;UAC1C,IAAMkD,CAAC,GAAG,IAAI,CAACV,EAAE,GAAGI,MAAM;UAC1B,IAAMO,CAAC,GAAG,IAAI,CAACV,EAAE,GAAGI,MAAM;UAE1B,IAAMO,IAAI,GAAIF,CAAC,GAAG9F,UAAU,CAACyE,GAAG,GAAI,IAAI,CAACZ,QAAQ,CAACoC,OAAO;UACzD,IAAMC,IAAI,GAAIH,CAAC,GAAG/F,UAAU,CAAC+E,GAAG,GAAI,IAAI,CAAClB,QAAQ,CAACsC,OAAO;UAEzD,IAAMC,OAAO,GAAG7D,SAAS,IAAIA,SAAS,CAACL,KAAK,CAACmE,WAAW,GAAGC,QAAQ,CAAC/D,SAAS,CAACL,KAAK,CAACmE,WAAW,CAAC,GAAG,CAAC;UACpG,IAAME,OAAO,GAAGhE,SAAS,IAAIA,SAAS,CAACL,KAAK,CAACsE,aAAa,GAAGF,QAAQ,CAAC/D,SAAS,CAACL,KAAK,CAACsE,aAAa,CAAC,GAAG,CAAC;UACxG,IAAMC,EAAE,GAAGzG,UAAU,CAACiF,GAAG,GAAGO,MAAM,GAAGQ,IAAI,GAAGI,OAAO;UACnD,IAAMM,EAAE,GAAG1G,UAAU,CAACmF,GAAG,GAAGM,MAAM,GAAGS,IAAI,GAAGK,OAAO;UAEnD,IAAMI,MAAM,eAAajB,EAAE,SAAI,CAACC,CAAC,SAAI,CAACC,CAAC,SAAIC,EAAE,SAAIY,EAAE,SAAI,CAACC,EAAE,MAAG;UAC7D,IAAI,CAAC1E,QAAQ,CAACE,KAAK,CAAC0E,SAAS,GAAGD,MAAM;UACtC,IAAI,CAAC3E,QAAQ,CAACE,KAAK,CAAC,mBAAmB,CAAC,GAAGyE,MAAM;UACjD,IAAI,CAAC7F,YAAY,GAAG,KAAK;QAC7B,CAAC;QAAA,OAAAZ,cAAA;MAAA,EA3J+Bd,WAAW;IAAA;EAAA;AAAA"}