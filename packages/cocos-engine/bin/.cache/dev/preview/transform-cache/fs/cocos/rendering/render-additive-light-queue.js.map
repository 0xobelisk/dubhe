{"version":3,"names":["cullSphereLight","light","model","worldBounds","geometry","intersect","aabbWithAABB","aabb","cullSpotLight","aabbFrustum","frustum","cullPointLight","cullRangedDirLight","AABB","transform","_tmpBoundingBox","_rangedDirLightBoundingBox","node","getWorldMatrix","getLightPassIndices","subModels","lightPassIndices","passLayout","r","cclegacy","rendering","isEnableEffect","_phaseID","getPhaseID","getPassID","phaseName","length","hasValidLightPass","j","passes","lightPassIndex","k","enableEffectImport","phase","phaseID","push","setters","_renderSceneCorePassJs","BatchingSchemes","_pipelineStateManagerJs","PipelineStateManager","_coreIndexJs","Vec3","nextPow2","Mat4","Color","Pool","_gfxIndexJs","BufferUsageBit","MemoryUsageBit","BufferInfo","BufferViewInfo","deviceManager","_renderInstancedQueueJs","RenderInstancedQueue","_passPhaseJs","_renderSceneSceneLightJs","LightType","_defineJs","SetIndex","UBOForwardLight","UBOShadow","UNIFORM_SHADOWMAP_BINDING","UNIFORM_SPOT_SHADOW_MAP_TEXTURE_BINDING","supportsR32FloatTexture","_renderSceneSceneShadowsJs","ShadowType","_pipelineUboJs","PipelineUBO","_customDefineJs","getDescBindingFromName","_coreGeometryIndexJs","execute","_lightPassPool","subModel","passIdx","dynamicOffsets","lights","_v3","_vec4Array","Float32Array","_dynamicOffsets","_lightIndices","_matShadowView","_matShadowViewProj","_lightPassIndices","_export","RenderAdditiveLightQueue","pipeline","_pipeline","_device","_lightPasses","_instancedLightPassPool","alloc","_shadowUBO","COUNT","_lightBufferCount","_lightBufferStride","_lightBufferElementCount","_lightBuffer","_firstLightBufferView","_lightBufferData","_instancedQueues","_lightMeterScale","device","alignment","capabilities","uboOffsetAlignment","Math","ceil","SIZE","BYTES_PER_ELEMENT","createBuffer","UNIFORM","TRANSFER_DST","HOST","DEVICE","_proto","prototype","clear","forEach","instancedQueue","i","lp","freeArray","destroy","descriptorSetMap","globalDSManager","keys","key","descriptorSet","get","binding","BINDING","getBuffer","getTexture","_bindForwardAddLight","validPunctualLights","renderObjects","pipelineSceneData","ro","_lightCulling","lightPassIdx","pass","isTransparent","blendState","targets","blend","bindBuffer","update","_addRenderQueue","gatherLightPasses","camera","cmdBuff","_updateUBOs","_updateLightDescriptorSet","l","uploadBuffers","recordCommandBuffer","renderPass","getOrCreateDescriptorSet","_this$_lightPasses$i","shader","shaders","ia","inputAssembler","pso","getOrCreatePipelineState","matDS","localDS","bindPipelineState","bindDescriptorSet","MATERIAL","bindInputAssembler","GLOBAL","LOCAL","draw","isCulled","type","SPHERE","SPOT","POINT","RANGED_DIRECTIONAL","batchingScheme","NONE","lightIdx","visibility","layer","INSTANCING","buffer","getInstancedBuffer","merge","queue","add","sceneData","shadowInfo","shadows","shadowFrameBufferMap","mainLight","scene","packing","cap","matShadowProj","matShadowInvProj","updatePlanarNormalAndDistance","SHADOW_WIDTH_HEIGHT_PCF_BIAS_INFO_OFFSET","size","x","y","SHADOW_LIGHT_PACKING_NBIAS_NULL_INFO_OFFSET","toArray","shadowColor","SHADOW_COLOR_OFFSET","spotLight","invert","perspective","angle","range","clipSpaceMinZ","clipSpaceSignY","clone","multiply","MAT_LIGHT_VIEW_OFFSET","MAT_LIGHT_VIEW_PROJ_OFFSET","SHADOW_NEAR_FAR_LINEAR_SATURATION_INFO_OFFSET","shadowPcf","shadowBias","shadowNormalBias","SHADOW_PROJ_DEPTH_INFO_OFFSET","m10","m14","m11","m15","SHADOW_INV_PROJ_DEPTH_INFO_OFFSET","SHADOW_PROJ_INFO_OFFSET","m00","m05","has","_shadowFrameBufferMap","texture","colorTextures","bindTexture","updateBuffer","exposure","isHDR","resize","gfxDevice","offset","position","set","LIGHT_POS_OFFSET","LIGHT_SIZE_RANGE_ANGLE_OFFSET","color","useColorTemperature","finalColor","z","luminance","LIGHT_COLOR_OFFSET","spotAngle","enabled","shadowEnabled","ShadowMap","direction","LIGHT_DIR_OFFSET","angleAttenuationStrength","LIGHT_BOUNDING_SIZE_VS_OFFSET","right","scale","illuminance"],"sources":["../../../../../../../../cocos/rendering/render-additive-light-queue.ts"],"mappings":"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"}