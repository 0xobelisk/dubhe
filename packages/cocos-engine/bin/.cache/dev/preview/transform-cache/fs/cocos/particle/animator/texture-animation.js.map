{"version":3,"names":["ccclass","_coreDataDecoratorsIndexJs","tooltip","displayOrder","type","formerlySerializedAs","serializable","range","_coreIndexJs","lerp","pseudoRandom","repeat","Enum","random","error","_particleJs","ParticleModuleBase","PARTICLE_MODULE_NAME","_curveRangeJs","CurveRange","default","_enumJs","ModuleRandSeed","_particleGeneralFunctionJs","isCurveTwoValues","execute","TEXTURE_ANIMATION_RAND_OFFSET","TEXTURE","Mode","Grid","Animation","WholeSheet","SingleRow","_export","TextureAnimationModule","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_dec8","_dec9","_dec10","_dec11","_dec12","_dec13","_dec14","_dec15","_dec16","_dec17","Number","POSITIVE_INFINITY","_dec18","_dec19","_dec20","_dec21","_dec22","_dec23","_dec24","_dec25","_dec26","_dec27","_dec28","_dec29","_class","_class2","_ParticleModuleBase","_inheritsLoose","_this","_len","arguments","length","args","Array","_key","call","apply","concat","_enable","_initializer","_numTilesX","_initializer2","_numTilesY","_initializer3","_mode","_initializer4","animation","_initializer5","frameOverTime","_initializer6","startFrame","_initializer7","cycleCount","_initializer8","_flipU","_initializer9","_flipV","_initializer10","_uvChannelMask","_initializer11","randomRow","_initializer12","rowIndex","_initializer13","name","_proto","prototype","init","p","startRow","Math","floor","numTilesY","animate","dt","normalizedTime","remainingLifetime","startLifetime","randStart","randomSeed","randFrame","evaluate","numTilesX","frameIndex","rowLength","f","from","to","_createClass","key","get","set","val","target","updateMaterialParams","enableModule","_applyDecoratedInitializer","_applyDecoratedDescriptor","Object","getOwnPropertyDescriptor"],"sources":["../../../../../../../../../cocos/particle/animator/texture-animation.ts"],"mappings":"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"}