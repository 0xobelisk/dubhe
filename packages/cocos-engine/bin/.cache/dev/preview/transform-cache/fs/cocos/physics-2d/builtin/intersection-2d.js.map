{"version":3,"names":["lineLine","a1","a2","b1","b2","ua_t","x","y","ub_t","u_b","ua","ub","lineRect","b","r0","tempR1","set","r1","tempR2","yMax","r2","tempR3","xMax","r3","tempR4","linePolygon","length","i","rectRect","a","a_min_x","a_min_y","a_max_x","width","a_max_y","height","b_min_x","b_min_y","b_max_x","b_max_y","rectPolygon","l","contains","pointInPolygon","polygonPolygon","circleCircle","c1p","c1r","c2p","c2r","distance","Vec2","polygonCircle","polygon","cp","cr","position","start","end","pointLineDistance","rectCircle","rect","cx","cy","rx","ry","rw","rh","testX","testY","distX","distY","Math","sqrt","point","inside","j","xi","yi","xj","yj","intersect","isSegment","dx","dy","d","t","p","setters","_coreIndexJs","execute","_export","Intersection2D"],"sources":["../../../../../../../../../cocos/physics-2d/builtin/intersection-2d.ts"],"mappings":"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"}