{"version":3,"names":["setters","_baseDefineJs","BufferUsageBit","_baseBufferJs","Buffer","_webglCommandsJs","WebGLCmdFuncCreateBuffer","WebGLCmdFuncDestroyBuffer","WebGLCmdFuncResizeBuffer","WebGLCmdFuncUpdateBuffer","_webglGpuObjectsJs","WebGLIndirectDrawInfos","_webglDefineJs","WebGLDeviceManager","execute","_export","WebGLBuffer","_Buffer","_inheritsLoose","_this","_len","arguments","length","args","Array","_key","call","apply","concat","_gpuBuffer","_gpuBufferView","_uniformBuffer","_proto","prototype","initialize","info","_isBufferView","buffer","_usage","usage","_memUsage","memUsage","_size","_stride","range","_count","_flags","flags","gpuBuffer","offset","size","Math","max","stride","UNIFORM","Uint8Array","vf32","indirects","glTarget","glBuffer","instance","memoryStatus","bufferSize","destroy","resize","console","warn","oldSize","update","buffSize","undefined","INDIRECT","byteLength","_createClass","key","get"],"sources":["../../../../../../../../../cocos/gfx/webgl/webgl-buffer.ts"],"mappings":"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"}