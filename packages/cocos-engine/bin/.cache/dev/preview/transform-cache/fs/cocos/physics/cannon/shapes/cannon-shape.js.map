{"version":3,"names":["setters","_cocosCannon","CANNON","default","_coreIndexJs","Vec3","Quat","_utilsUtilJs","getWrap","setWrap","_cannonUtilJs","commitShapeUpdates","_frameworkPhysicsSystemJs","PhysicsSystem","execute","TriggerEventObject","type","selfCollider","otherCollider","impl","cannonQuat_0","Quaternion","cannonVec3_0","cannonVec3_1","_export","CannonShape","_collider","_shape","_offset","_orient","_index","_sharedBody","onTriggerListener","_onTrigger","bind","_isBinding","_proto","prototype","updateEventListener","setMaterial","mat","mat1","instance","defaultMaterial","idToMaterial","id","Material","material","smat","friction","restitution","coef","CC_CONFIG","correctInelastic","setAsTrigger","v","collisionResponse","_body","updateHasTrigger","setCenter","_setCenter","setAttachedBody","wrappedBody","body","reference","physicsWorld","getSharedBody","node","getAABB","copy","worldRotation","calculateWorldAABB","ZERO","subtract","halfExtents","multiplyScalar","add","center","worldPosition","getBoundingSphere","radius","boundingSphereRadius","initialize","comp","onComponentSet","addEventListener","onLoad","sharedMaterial","isTrigger","onEnable","addShape","enabled","onDisable","removeShape","onDestroy","removeEventListener","World","idToShapeMap","getGroup","collisionFilterGroup","setGroup","isAwake","wakeUp","addGroup","removeGroup","getMask","collisionFilterMask","setMask","addMask","removeMask","setScale","scale","setIndex","index","setOffsetAndOrient","offset","orient","lpos","multiply","worldScale","event","self","selfShape","other","otherShape","collider","needTriggerEvent","emit","_createClass","key","get","rigidBody"],"sources":["../../../../../../../../../../cocos/physics/cannon/shapes/cannon-shape.ts"],"mappings":"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"}