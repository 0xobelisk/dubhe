{"version":3,"names":["setDefaultProgressCallback","onProgress","defaultProgressCallback","clear","task","clearRef","i","l","input","length","item","isNative","content","Asset","decRef","recycle","urlAppendTimestamp","url","append","test","Date","now","retry","process","times","wait","onComplete","index","err","result","setTimeout","getDepends","uuid","data","exclude","depends","config","info","dependUtil","parse","deps","dep","push","bundle","name","nativeDep","_extends","e","error","message","stack","cache","id","asset","cacheAsset","undefined","cclegacy","assetManager","isScene","isDefault","assets","add","setProperties","assetsMap","missingAsset","dependMap","get","missingAssetReporter","depend","dependAsset","EDITOR","EditorExtends","MissingReporter","object","stashByOwner","owner","prop","serialize","asAsset","dispatchAssetMissing","type","placeHolder","initDefault","addRef","reference","references","WeakRef","reportByOwner","nativeDependMap","has","_nativeAsset","console","gatherAsset","source","options","__outputAsArray__","output","forEach","array","count","errs","cb","parseParameters","optionsOut","onProgressOut","onCompleteOut","isCallback","Object","create","parseLoadResArgs","typeOut","isValidType","js","isChildClassOf","checkCircleReference","map","checked","getDeps","asyncify","p1","p2","refs","Array","isArray","x","misc","callInNextTick","_export","setters","_virtualInternal253AconstantsJs","_assetsAssetJs","_coreIndexJs","_dependMapsJs","_dependUtilJs","default","_helperJs","_sharedJs","execute"],"sources":["../../../../../../../../../cocos/asset/asset-manager/utilities.ts"],"mappings":"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"}