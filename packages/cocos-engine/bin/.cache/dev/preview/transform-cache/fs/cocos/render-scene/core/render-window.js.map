{"version":3,"names":["screenAdapter","_palScreenAdapter","_palScreenAdapterEnumTypeIndexJs","Orientation","_gfxIndexJs","TextureType","TextureUsageBit","Format","TextureInfo","FramebufferInfo","SurfaceTransform","TextureFlagBit","execute","orientationMap","_orientationMap","PORTRAIT","IDENTITY","LANDSCAPE_RIGHT","ROTATE_90","PORTRAIT_UPSIDE_DOWN","ROTATE_180","LANDSCAPE_LEFT","ROTATE_270","_export","RenderWindow","registerCreateFunc","root","_createWindowFun","_root","_title","_width","_height","_swapchain","_renderPass","_colorTextures","_depthStencilTexture","_cameras","_hasOnScreenAttachments","_hasOffScreenAttachments","_framebuffer","_device","_proto","prototype","initialize","device","info","title","undefined","swapchain","width","height","createRenderPass","renderPassInfo","push","colorTexture","depthStencilTexture","i","colorAttachments","length","textureInfo","TEX2D","COLOR_ATTACHMENT","SAMPLED","TRANSFER_SRC","format","externalFlag","EXTERNAL_NORMAL","EXTERNAL_OES","flags","externalRes","externalResLow","createTexture","depthStencilAttachment","UNKNOWN","DEPTH_STENCIL_ATTACHMENT","createFramebuffer","destroy","clearCameras","resize","orientation","framebuffer","_iterator","_createForOfIteratorHelperLoose","_step","done","camera","value","extractRenderCameras","cameras","j","enabled","update","attachCamera","sortCameras","detachCamera","splice","sort","a","b","priority","_createClass","key","get"],"sources":["../../../../../../../../../cocos/render-scene/core/render-window.ts"],"mappings":"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"}