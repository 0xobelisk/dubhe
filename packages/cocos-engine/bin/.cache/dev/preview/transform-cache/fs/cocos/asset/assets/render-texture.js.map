{"version":3,"names":["ccclass","_coreDataDecoratorsIndexJs","_virtualInternal253AconstantsJs","EDITOR","TEST","_coreIndexJs","clamp","cclegacy","errorID","_gfxIndexJs","ColorAttachment","DepthStencilAttachment","GeneralBarrierInfo","AccessFlagBit","RenderPassInfo","Format","deviceManager","BufferTextureCopy","TextureFlagBit","_textureBaseJs","TextureBase","execute","_colorAttachment","format","RGBA8","_depthStencilAttachment","DEPTH_STENCIL","passInfo","_windowInfo","width","height","renderPassInfo","_export","RenderTexture","_dec","_class","_TextureBase","_inheritsLoose","_this","_len","arguments","length","args","Array","_key","call","apply","concat","_window","_proto","prototype","initialize","info","_name","name","_width","_height","_initWindow","reset","destroy","root","director","destroyWindow","resize","Math","floor","emit","_serialize","ctxForExporting","base","w","h","n","_deserialize","serializedData","handle","data","getGFXTexture","framebuffer","colorTextures","onLoaded","title","externalResLow","externalResHigh","externalFlag","NONE","barrier","gfxDevice","getGeneralBarrier","FRAGMENT_SHADER_READ_TEXTURE","createWindow","initDefault","uuid","validate","readPixels","x","y","buffer","gfxTexture","needSize","undefined","Uint8Array","_getGFXDevice","bufferViews","regions","region0","texOffset","texExtent","push","copyTextureToBuffers","_createClass","key","get"],"sources":["../../../../../../../../../cocos/asset/assets/render-texture.ts"],"mappings":"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"}