{"version":3,"names":["encodeCCONJson","ccon","chunkURLs","version","VERSION","document","chunks","parseCCONJson","json","cconPreface","encodeCCONBinary","jsonString","JSON","stringify","jsonBytes","encodeJson","ccobBuilder","BufferBuilder","header","ArrayBuffer","headerView","DataView","setUint32","MAGIC","append","uint32Bytes","byteLength","_iterator","_createForOfIteratorHelperLoose","_step","done","chunk","value","alignAs","CHUNK_ALIGN_AS","get","bytes","view","decodeCCONBinary","length","InvalidCCONError","getError","dataView","buffer","byteOffset","magic","getUint32","dataByteLength","chunksStart","jsonDataLength","jsonData","Uint8Array","decodeJson","parse","err","padding","chunkDataLength","push","CCON","input","TextEncoder","encode","globalThis","_ref","Buffer","from","Error","data","TextDecoder","decode","_ref2","toString","_export","setters","_coreIndexJs","cclegacy","execute","_document","_chunks","_createClass","key","_Error","_inheritsLoose","apply","arguments","_wrapNativeSuper","_viewOrPaddings","_length","_proto","prototype","align","remainder","result","counter","forEach","viewOrPadding","set","internal"],"sources":["../../../../../../../../cocos/serialization/ccon.ts"],"mappings":";;;;;;;;;;;;;;;;;;4XAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EAkCO,SAASA,cAAcA,CAAEC,IAAU,EAAEC,SAAmB,EAAW;IACtE,OAAO;MACHC,OAAO,EAAEC,OAAO;MAChBC,QAAQ,EAAEJ,IAAI,CAACI,QAAQ;MACvBC,MAAM,EAAEJ;IACZ,CAAC;EACL;EAEO,SAASK,aAAaA,CAAEC,IAAa,EAG1C;IACE,IAAMC,WAAW,GAAGD,IAAmB;IAEvC,OAAO;MACHF,MAAM,EAAEG,WAAW,CAACH,MAAM;MAC1BD,QAAQ,EAAEI,WAAW,CAACJ;IAC1B,CAAC;EACL;EAEO,SAASK,gBAAgBA,CAAET,IAAU,EAAc;IACtD,IAAQI,QAAQ,GAAaJ,IAAI,CAAzBI,QAAQ;MAAEC,MAAM,GAAKL,IAAI,CAAfK,MAAM;IAExB,IAAMK,UAAU,GAAGC,IAAI,CAACC,SAAS,CAACR,QAAQ,CAAC;IAC3C,IAAMS,SAAS,GAAGC,UAAU,CAACJ,UAAU,CAAC;IACxC,IAAMK,WAAW,GAAG,IAAIC,aAAa,CAAC,CAAC;IAEvC,IAAMC,MAAM,GAAG,IAAIC,WAAW,CAAC,EAAE,CAAC;IAClC,IAAMC,UAAU,GAAG,IAAIC,QAAQ,CAACH,MAAM,CAAC;IACvCE,UAAU,CAACE,SAAS,CAAC,CAAC,EAAEC,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;IACtCH,UAAU,CAACE,SAAS,CAAC,CAAC,EAAElB,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;;IAExCY,WAAW,CAACQ,MAAM,CAACJ,UAAU,CAAC;IAE9BJ,WAAW,CAACQ,MAAM,CAACC,WAAW,CAACX,SAAS,CAACY,UAAU,CAAC,CAAC;IACrDV,WAAW,CAACQ,MAAM,CAACV,SAAS,CAAC;IAE7B,SAAAa,SAAA,GAAAC,+BAAA,CAAoBtB,MAAM,GAAAuB,KAAA,IAAAA,KAAA,GAAAF,SAAA,IAAAG,IAAA,GAAE;MAAA,IAAjBC,KAAK,GAAAF,KAAA,CAAAG,KAAA;MACZhB,WAAW,CAACiB,OAAO,CAACC,cAAc,CAAC;MACnClB,WAAW,CAACQ,MAAM,CAACC,WAAW,CAACM,KAAK,CAACL,UAAU,CAAC,CAAC;MACjDV,WAAW,CAACQ,MAAM,CAACO,KAAK,CAAC;IAC7B;IAEAX,UAAU,CAACE,SAAS,CAAC,CAAC,EAAEN,WAAW,CAACU,UAAU,EAAE,IAAI,CAAC;IACrD,OAAOV,WAAW,CAACmB,GAAG,CAAC,CAAC;IAExB,SAASV,WAAWA,CAAEO,KAAa,EAAmB;MAClD,IAAMI,KAAK,GAAG,IAAIjB,WAAW,CAAC,CAAC,CAAC;MAChC,IAAMkB,IAAI,GAAG,IAAIhB,QAAQ,CAACe,KAAK,CAAC;MAChCC,IAAI,CAACf,SAAS,CAAC,CAAC,EAAEU,KAAK,EAAE,IAAI,CAAC;MAC9B,OAAOK,IAAI;IACf;EACJ;EAEO,SAASC,gBAAgBA,CAAEF,KAAiB,EAAQ;IACvD,IAAIA,KAAK,CAACG,MAAM,GAAG,EAAE,EAAE;MACnB,MAAM,IAAIC,gBAAgB,CAACC,QAAQ,CAAC,KAAK,CAAC,CAAC;IAC/C;IAEA,IAAMC,QAAQ,GAAG,IAAIrB,QAAQ,CACzBe,KAAK,CAACO,MAAM,EACZP,KAAK,CAACQ,UAAU,EAChBR,KAAK,CAACV,UACV,CAAC;IAED,IAAMmB,KAAK,GAAGH,QAAQ,CAACI,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC;IACzC,IAAID,KAAK,KAAKtB,KAAK,EAAE;MACjB,MAAM,IAAIiB,gBAAgB,CAACC,QAAQ,CAAC,KAAK,CAAC,CAAC;IAC/C;IAEA,IAAMtC,OAAO,GAAGuC,QAAQ,CAACI,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC;IAC3C,IAAI3C,OAAO,KAAKC,OAAO,EAAE;MACrB,MAAM,IAAIoC,gBAAgB,CAACC,QAAQ,CAAC,KAAK,EAAEtC,OAAO,CAAC,CAAC;IACxD;IAEA,IAAM4C,cAAc,GAAGL,QAAQ,CAACI,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC;IAClD,IAAIC,cAAc,KAAKL,QAAQ,CAAChB,UAAU,EAAE;MACxC,MAAM,IAAIc,gBAAgB,CAACC,QAAQ,CAAC,KAAK,CAAC,CAAC;IAC/C;IAEA,IAAIO,WAAW,GAAG,EAAE;IAEpB,IAAMC,cAAc,GAAGP,QAAQ,CAACI,SAAS,CAACE,WAAW,EAAE,IAAI,CAAC;IAC5DA,WAAW,IAAI,CAAC;IAChB,IAAME,QAAQ,GAAG,IAAIC,UAAU,CAACT,QAAQ,CAACC,MAAM,EAAEK,WAAW,GAAGN,QAAQ,CAACE,UAAU,EAAEK,cAAc,CAAC;IACnGD,WAAW,IAAIC,cAAc;IAC7B,IAAMtC,UAAU,GAAGyC,UAAU,CAACF,QAAQ,CAAC;IACvC,IAAI1C,IAAa;IACjB,IAAI;MACAA,IAAI,GAAGI,IAAI,CAACyC,KAAK,CAAC1C,UAAU,CAAC;IACjC,CAAC,CAAC,OAAO2C,GAAG,EAAE;MACV,MAAM,IAAId,gBAAgB,CAACc,GAAa,CAAC;IAC7C;IAEA,IAAMhD,MAAoB,GAAG,EAAE;IAC/B,OAAO0C,WAAW,GAAGN,QAAQ,CAAChB,UAAU,EAAE;MACtC,IAAIsB,WAAW,GAAGd,cAAc,KAAK,CAAC,EAAE;QACpC,IAAMqB,OAAO,GAAGrB,cAAc,GAAGc,WAAW,GAAGd,cAAc;QAC7Dc,WAAW,IAAIO,OAAO;MAC1B;MACA,IAAMC,eAAe,GAAGd,QAAQ,CAACI,SAAS,CAACE,WAAW,EAAE,IAAI,CAAC;MAC7DA,WAAW,IAAI,CAAC;MAChB1C,MAAM,CAACmD,IAAI,CAAC,IAAIN,UAAU,CAACT,QAAQ,CAACC,MAAM,EAAEK,WAAW,GAAGN,QAAQ,CAACE,UAAU,EAAEY,eAAe,CAAC,CAAC;MAChGR,WAAW,IAAIQ,eAAe;IAClC;IAEA,IAAIR,WAAW,KAAKN,QAAQ,CAAChB,UAAU,EAAE;MACrC,MAAM,IAAIc,gBAAgB,CAACC,QAAQ,CAAC,KAAK,CAAC,CAAC;IAC/C;IAEA,OAAO,IAAIiB,IAAI,CAAClD,IAAI,EAAEF,MAAM,CAAC;EACjC;;EAEA;AACA;AACA;;EAcA,SAASS,UAAUA,CAAE4C,KAAa,EAAc;IAC5C,IAAI,OAAOC,WAAW,KAAK,WAAW,EAAE;MACpC,OAAO,IAAIA,WAAW,CAAC,CAAC,CAACC,MAAM,CAACF,KAAK,CAAC;IAC1C,CAAC,MAAM,IAAI,QAAQ,IAAIG,UAAU,EAAE;MAC/B,IAAAC,IAAA,GAAoBD,UAAU;QAAtBE,OAAM,GAAAD,IAAA,CAANC,MAAM;MACd,IAAMrB,OAAM,GAAGqB,OAAM,CAACC,IAAI,CAACN,KAAK,EAAE,MAAM,CAAC;MACzC,OAAO,IAAIR,UAAU,CACjBR,OAAM,CAACA,MAAM,EACbA,OAAM,CAACC,UAAU,EACjBD,OAAM,CAACJ,MACX,CAAC;IACL,CAAC,MAAM;MACH,MAAM,IAAI2B,KAAK,CAACzB,QAAQ,CAAC,KAAK,CAAC,CAAC;IACpC;EACJ;EAEA,SAASW,UAAUA,CAAEe,IAAgB,EAAU;IAC3C,IAAI,OAAOC,WAAW,KAAK,WAAW,EAAE;MACpC,OAAO,IAAIA,WAAW,CAAC,CAAC,CAACC,MAAM,CAACF,IAAI,CAAC;IACzC,CAAC,MAAM,IAAI,QAAQ,IAAIL,UAAU,EAAE;MAC/B,IAAAQ,KAAA,GAAoBR,UAAU;QAAtBE,QAAM,GAAAM,KAAA,CAANN,MAAM;MACd;MACA,OAAOA,QAAM,CAACC,IAAI,CAACE,IAAI,CAACxB,MAAM,EAAEwB,IAAI,CAACvB,UAAU,EAAEuB,IAAI,CAACzC,UAAU,CAAC,CAAC6C,QAAQ,CAAC,CAAC;IAChF,CAAC,MAAM;MACH,MAAM,IAAIL,KAAK,CAACzB,QAAQ,CAAC,KAAK,CAAC,CAAC;IACpC;EACJ;EAAC+B,OAAA;IAAAxE,cAAA,EA3JeA,cAAc;IAAAO,aAAA,EAQdA,aAAa;IAAAG,gBAAA,EAYbA,gBAAgB;IAAA4B,gBAAA,EAkChBA;EAAgB;EAAA;IAAAmC,OAAA,aAAAC,YAAA;MAtFvBjC,QAAQ,GAAAiC,YAAA,CAARjC,QAAQ;MAAEkC,QAAQ,GAAAD,YAAA,CAARC,QAAQ;IAAA;IAAAC,OAAA,WAAAA,CAAA;MAErBxE,OAAO,GAAG,CAAC;MAEXmB,KAAK,GAAG,UAAU;MAElBW,cAAc,GAAG,CAAC;MAAAsC,OAAA,SAEXd,IAAI;QACb,SAAAA,KAAarD,QAAiB,EAAEC,MAAoB,EAAE;UAAA,KAa9CuE,SAAS;UAAA,KACTC,OAAO;UAbX,IAAI,CAACD,SAAS,GAAGxE,QAAQ;UACzB,IAAI,CAACyE,OAAO,GAAGxE,MAAM;QACzB;QAACyE,YAAA,CAAArB,IAAA;UAAAsB,GAAA;UAAA7C,GAAA,EAED,SAAAA,IAAA,EAAyB;YACrB,OAAO,IAAI,CAAC0C,SAAS;UACzB;QAAC;UAAAG,GAAA;UAAA7C,GAAA,EAED,SAAAA,IAAA,EAA4B;YACxB,OAAO,IAAI,CAAC2C,OAAO;UACvB;QAAC;QAAA,OAAApB,IAAA;MAAA;MAAAc,OAAA,qBAyKQhC,gBAAgB,0BAAAyC,MAAA;QAAAC,cAAA,CAAA1C,gBAAA,EAAAyC,MAAA;QAAA,SAAAzC,iBAAA;UAAA,OAAAyC,MAAA,CAAAE,KAAA,OAAAC,SAAA;QAAA;QAAA,OAAA5C,gBAAA;MAAA,gBAAA6C,gBAAA,CAASnB,KAAK;MAAAM,OAAA,kBAE9BvD,aAAa;QAAA,SAAAA,cAAA;UAAA,KACdqE,eAAe,GAAiC,EAAE;UAAA,KAClDC,OAAO,GAAG,CAAC;QAAA;QAAA,IAAAC,MAAA,GAAAvE,aAAA,CAAAwE,SAAA;QAAAD,MAAA,CAMZvD,OAAO,GAAd,SAAAA,QAAgByD,KAAa,EAAU;UACnC,IAAIA,KAAK,KAAK,CAAC,EAAE;YACb,IAAMC,SAAS,GAAG,IAAI,CAACJ,OAAO,GAAGG,KAAK;YACtC,IAAIC,SAAS,KAAK,CAAC,EAAE;cACjB,IAAMpC,OAAO,GAAGmC,KAAK,GAAGC,SAAS;cACjC,IAAI,CAACL,eAAe,CAAC7B,IAAI,CAACF,OAAO,CAAC;cAClC,IAAI,CAACgC,OAAO,IAAIhC,OAAO;cACvB,OAAOA,OAAO;YAClB;UACJ;UACA,OAAO,CAAC;QACZ,CAAC;QAAAiC,MAAA,CAEMhE,MAAM,GAAb,SAAAA,OAAea,IAAqB,EAAU;UAC1C,IAAMuD,MAAM,GAAG,IAAI,CAACL,OAAO;UAC3B,IAAI,CAACD,eAAe,CAAC7B,IAAI,CAACpB,IAAI,CAAC;UAC/B,IAAI,CAACkD,OAAO,IAAIlD,IAAI,CAACX,UAAU;UAC/B,OAAOkE,MAAM;QACjB,CAAC;QAAAJ,MAAA,CAEMrD,GAAG,GAAV,SAAAA,IAAA,EAA0B;UACtB,IAAMyD,MAAM,GAAG,IAAIzC,UAAU,CAAC,IAAI,CAACoC,OAAO,CAAC;UAC3C,IAAIM,OAAO,GAAG,CAAC;UACf,IAAI,CAACP,eAAe,CAACQ,OAAO,CAAC,UAACC,aAAa,EAAK;YAC5C,IAAI,OAAOA,aAAa,KAAK,QAAQ,EAAE;cACnCF,OAAO,IAAIE,aAAa;YAC5B,CAAC,MAAM;cACHH,MAAM,CAACI,GAAG,CAAC,IAAI7C,UAAU,CAAC4C,aAAa,CAACpD,MAAM,EAAEoD,aAAa,CAACnD,UAAU,EAAEmD,aAAa,CAACrE,UAAU,CAAC,EAAEmE,OAAO,CAAC;cAC7GA,OAAO,IAAIE,aAAa,CAACrE,UAAU;YACvC;UACJ,CAAC,CAAC;UACF,OAAOkE,MAAM;QACjB,CAAC;QAAAb,YAAA,CAAA9D,aAAA;UAAA+D,GAAA;UAAA7C,GAAA,EApCD,SAAAA,IAAA,EAA0B;YACtB,OAAO,IAAI,CAACoD,OAAO;UACvB;QAAC;QAAA,OAAAtE,aAAA;MAAA;MAqCL0D,QAAQ,CAACsB,QAAQ,CAAC1F,aAAa,GAAGA,aAAa;MAC/CoE,QAAQ,CAACsB,QAAQ,CAAC3D,gBAAgB,GAAGA,gBAAgB;MACrDqC,QAAQ,CAACsB,QAAQ,CAACvC,IAAI,GAAGA,IAAI;IAAC;EAAA;AAAA"}