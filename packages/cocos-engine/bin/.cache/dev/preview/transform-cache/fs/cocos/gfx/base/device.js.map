{"version":3,"names":["setters","_defineJs","API","Feature","MemoryStatus","TextureInfo","BufferTextureCopy","DeviceCaps","BindingMappingInfo","Format","TextureType","TextureUsageBit","TextureFlagBit","Offset","Extent","SampleCount","TextureSubresLayers","execute","_export","Device","_gfxAPI","UNKNOWN","_renderer","_vendor","_features","Array","COUNT","_formatFeatures","_queue","_cmdBuff","_numDrawCalls","_numInstances","_numTris","_memoryStatus","_caps","_bindingMappingInfo","_samplers","Map","_generalBarrierss","_textureBarriers","_bufferBarriers","_proto","prototype","hasFeature","feature","getFormatFeatures","format","enableAutoBarrier","en","getMaxSampleCount","usage","flags","X1","_createClass","key","get","canvas","DefaultResource","device","_texture2D","_texture3D","_textureCube","_texture2DArray","bufferSize","buffer","Uint8Array","fill","capabilities","maxTextureSize","createTexture","TEX2D","STORAGE","SAMPLED","RGBA8","NONE","copyRegion","copyBuffersToTexture","CUBE","texSubres","baseArrayLayer","max3DTextureSize","TEX3D","maxArrayTextureLayers","TEX2D_ARRAY","_proto2","getTexture","type"],"sources":["../../../../../../../../../cocos/gfx/base/device.ts"],"mappings":"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"}