{"version":3,"names":["setters","_cocosCannon","CANNON","default","_coreIndexJs","Vec3","_cannonShapeJs","CannonShape","_frameworkPhysicsEnumJs","EAxisDirection","_cannonUtilJs","commitShapeUpdates","execute","v3_0","v3_1","_export","CannonConeShape","_CannonShape","_inheritsLoose","_proto","prototype","setRadius","v","updateProperties","collider","radius","height","CC_CONFIG","numSegmentsCone","direction","node","worldScale","_index","_body","setHeight","setDirection","_this","Y_AXIS","call","_shape","Cylinder","onLoad","setScale","scale","numSegments","wh","wr","cos","Math","sin","abs","max","y","x","z","N","hH","vertices","indices","axes","theta","PI","bf","push","i","face","subtract","cross","normalize","impl","faces","uniqueAxes","worldVerticesNeedsUpdate","worldFaceNormalsNeedsUpdate","computeNormals","computeEdges","updateBoundingSphereRadius","_createClass","key","get","_collider"],"sources":["../../../../../../../../../../cocos/physics/cannon/shapes/cannon-cone-shape.ts"],"mappings":"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"}