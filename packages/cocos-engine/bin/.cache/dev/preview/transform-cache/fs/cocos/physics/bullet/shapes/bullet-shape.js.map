{"version":3,"names":["setters","_coreIndexJs","Vec3","_exportsPhysicsFrameworkJs","PhysicsSystem","_bulletEnumJs","EBtSharedBodyDirty","_bulletUtilsJs","cocos2BulletQuat","cocos2BulletVec3","_bulletCacheJs","BulletCache","CC_V3_0","_instantiatedJs","bt","EBulletType","_frameworkIndexJs","EColliderType","execute","v3_0","ccMaterialBooks","_export","BulletShape","id","idCounter","_isEnabled","_isTrigger","_isInitialized","_impl","_compound","quat","Quat_new","transform","Transform_new","_collider","_sharedBody","_proto","prototype","updateEventListener","wrappedWorld","updateNeedEmitEvents","collider","needCollisionEvent","needTriggerEvent","setMaterial","v","v1","instance","defaultMaterial","_uuid","ccMaterial_new","mat","ccMaterial_set","restitution","friction","rollingFriction","spinningFriction","CollisionShape_setMaterial","CollisionObject_setMaterial","body","setCenter","copy","multiply","node","worldScale","Transform_getOrigin","updateCompoundTransform","setAsTrigger","removeShape","addShape","getAABB","bt_transform","BT_TRANSFORM_0","Transform_setIdentity","Transform_setRotation","BT_QUAT_0","worldRotation","MIN","BT_V3_0","MAX","BT_V3_1","CollisionShape_getAabb","halfExtents","x","Vec3_x","y","Vec3_y","z","Vec3_z","add","center","worldPosition","getBoundingSphere","radius","CollisionShape_getLocalBoundingSphere","initialize","com","physicsWorld","getSharedBody","reference","onComponentSet","setWrapper","isNotEmptyShape","CollisionShape_setUserPointer","TYPE","onLoad","isTrigger","onEnable","sharedMaterial","onDisable","onDestroy","_safe_delete","EBulletTypeQuat","EBulletTypeTransform","EBulletTypeCollisionShape","delWrapper","updateByReAdd","getGroup","collisionFilterGroup","setGroup","addGroup","removeGroup","getMask","collisionFilterMask","setMask","addMask","removeMask","setCompound","compound","CompoundShape_removeChildShape","CompoundShape_addChildShape","updateScale","CompoundShape_updateChildTransform","bodyStruct","useCompound","dirty","BODY_RE_ADD","needCompound","type","TERRAIN","equals","ZERO","_createClass","key","get","wrappedBody","rigidBody"],"sources":["../../../../../../../../../../cocos/physics/bullet/shapes/bullet-shape.ts"],"mappings":"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"}