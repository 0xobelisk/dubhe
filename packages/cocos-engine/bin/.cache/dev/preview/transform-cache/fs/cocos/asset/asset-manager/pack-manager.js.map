{"version":3,"names":["ImageAsset","_assetsImageAssetJs","_assetsTexture2dJs","Texture2D","_serializationDeserializeJs","packCustomObjData","unpackJSONs","_coreIndexJs","assertIsTrue","error","errorID","js","_cacheJs","Cache","default","_downloaderJs","downloader","_helperJs","transform","_sharedJs","files","execute","_export","PackManager","_loading","_unpackers","unpackJson","_proto","prototype","pack","json","options","onComplete","out","createMap","err","Array","isArray","length","i","textureType","getClassId","imageAssetType","type","data","datas","base","mipmaps","Error","init","clear","register","handler","mixin","unpack","unpacker","load","item","_this","isNative","info","packs","download","id","url","ext","has","get","loadingPack","find","val","uuid","req","push","add","config","bundle","name","remove","message","stack","packedUuids","err2","result","callbacks","l","cb","unpackedData"],"sources":["../../../../../../../../../cocos/asset/asset-manager/pack-manager.ts"],"mappings":"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"}