{"version":3,"names":["setters","_particleJs","Particle","PARTICLE_MODULE_ORDER","_sceneGraphNodeEnumJs","TransformBit","_enumJs","RenderMode","Space","_coreIndexJs","approx","EPSILON","Mat4","pseudoRandom","Quat","randomRangeInt","Vec3","Vec4","geometry","bits","_particleGeneralFunctionJs","isCurveTwoValues","particleEmitZAxis","_animatorCurveRangeJs","Mode","execute","_node_mat","_node_parent_inv","_node_rol","_node_scale","_anim_module","_export","ParticleCuller","ps","_particleSystem","_processor","_node","_particlesAll","_updateList","Map","_animateList","_runAnimateList","Array","_localMat","_gravity","minPos","maxPos","_nodePos","_nodeSize","processor","node","_initModuleList","_proto","prototype","_updateBoundingNode","set","x","y","z","setBoundingBoxSize","halfExt","setBoundingBoxCenter","px","py","pz","_this","forEach","val","pm","enable","needUpdate","name","needAnimate","length","i","len","p","push","_emit","count","dt","particleLst","loopDelta","time","duration","invalidateChildren","POSITION","simulationSpace","World","getWorldMatrix","getWorldRotation","particle","particleSystem","reset","rand","INT_MAX","_shapeModule","emit","position","copy","velocity","_textureAnimationModule","init","curveStartSpeed","startSpeed","evaluate","multiplyScalar","transformMat4","transformQuat","ultimateVelocity","rotation","startSize3D","startSize","startSizeX","startSizeY","startSizeZ","size","startLifetime","remainingLifetime","_updateParticles","_this2","scaleSpace","Local","getScale","getWorldScale","value","key","update","r","getRotation","fromQuat","transpose","parent","invert","_loop","animatedVelocity","useGravity","gravityModifier","mode","Constant","constant","randomSeed","gravityFactor","w","animate","scaleAndAdd","_calculateBounding","isInit","subPos","addPos","meshSize","getInfo","renderMode","Mesh","mesh","struct","minPosition","maxPosition","meshAABB","AABB","fromPoints","meshMax","Math","max","halfExtents","worldMat","worldMatrix","multiply","subtract","add","min","calculatePositions","capacity","clear","destroy"],"sources":["../../../../../../../../cocos/particle/particle-culler.ts"],"mappings":"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"}