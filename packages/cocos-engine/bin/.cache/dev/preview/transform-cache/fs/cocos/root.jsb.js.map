{"version":3,"names":["setters","_coreGlobalExportsJs","legacyCC","_gfxIndexJs","deviceManager","_coreIndexJs","settings","Settings","warnID","Pool","macro","log","_renderingIndexJs","ForwardPipeline","execute","_export","Root","jsb","LightType","rootProto","prototype","_createBatcher2D","_batcher","internal","Batcher2D","initialize","destroy","_nativeObj","getBatcher2D","Object","defineProperty","configurable","enumerable","get","_dataPoolMgr","_pipelineEvent","DummyPipelineEvent","_proto","on","type","callback","target","once","off","emit","arg0","arg1","arg2","arg3","arg4","targetOff","typeOrTarget","removeAll","hasEventListener","_ctor","device","_device","DataPoolManager","_modelPools","Map","_lightPools","_registerListeners","info","_this$_dataPoolMgr","_initialize","swapchain","customJointTextureLayouts","querySettings","Category","ANIMATION","jointTexturePool","registerCustomTextureLayouts","createModel","ModelCtor","p","set","obj","model","alloc","destroyModel","m","constructor","free","scene","removeModel","name","createLight","LightCtor","l","light","destroyLight","DIRECTIONAL","removeDirectionalLight","SPHERE","removeSphereLight","SPOT","removeSpotLight","POINT","removePointLight","RANGED_DIRECTIONAL","removeRangedDirLight","recycleLight","_onDirectorBeforeCommit","director","Director","EVENT_BEFORE_COMMIT","_onDirectorBeforeRender","EVENT_BEFORE_RENDER","_onDirectorAfterRender","EVENT_AFTER_RENDER","_onDirectorPipelineChanged","getScene","_activate","oldOnGlobalPipelineStateChanged","onGlobalPipelineStateChanged","call","builder","rendering","getCustomPipeline","CUSTOM_PIPELINE_NAME","oldFrameMove","frameMove","deltaTime","getTotalFrames","oldSetPipeline","setRenderPipeline","pipeline","ppl","usesCustomPipeline","createCustomPipeline","init","addBatch","batch","console","error","removeBatch","removeBatches"],"sources":["../../../../../../../cocos/root.jsb.ts"],"mappings":"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"}