{"version":3,"names":["_export","ProbeClearFlag","ProbeType","setters","_virtualInternal253AconstantsJs","EDITOR","_cameraJs","CameraAperture","CameraFOVAxis","CameraISO","CameraProjection","CameraShutter","CameraType","SKYBOX_FLAG","TrackingType","_coreIndexJs","Color","Quat","Rect","toRadian","Vec2","Vec3","geometry","cclegacy","Vec4","_renderingDefineJs","CAMERA_DEFAULT_MASK","_gfxIndexJs","ClearFlagBit","_assetAssetsRenderTextureJs","RenderTexture","execute","DEPTH_STENCIL","ALL","cameraDir","ReflectionProbe","id","bakedCubeTextures","realtimePlanarTexture","_resolution","_clearFlag","SKYBOX","_backgroundColor","_visibility","_probeType","CUBE","_cubemap","_size","_camera","_probeId","_needRefresh","_needRender","_node","_cameraNode","_boundingBox","_cameraWorldPos","_cameraWorldRotation","_forward","_up","_previewSphere","_previewPlane","_proto","prototype","initialize","node","cameraNode","pos","getWorldPosition","AABB","create","x","y","z","_createCamera","initBakedTextures","length","i","renderTexture","_createTargetTexture","push","captureCubemap","_resetCameraParams","renderPlanarReflection","sourceCamera","canvasSize","view","getDesignResolutionSize","width","height","internal","reflectionProbeManager","updatePlanarMap","getGFXTexture","_syncCameraParams","_transformReflectionCamera","switchProbeType","type","getProbeId","updateProbeId","renderArea","PLANAR","resolution","isFinishedRendering","validate","cubemap","destroy","enable","disable","updateCameraDir","faceIdx","setRotationFromEuler","camera","update","updateBoundingBox","set","hasFrameBuffer","framebuffer","probeType","_this$realtimePlanarT","window","_rt$window","rt","isRGBE","projectionType","orthoHeight","nearClip","farClip","fov","clearFlag","clearColor","priority","resize","root","director","createCamera","name","projection","PERSPECTIVE","mainWindow","tempWindow","cameraType","DEFAULT","trackingType","NO_TRACKING","setViewportInOrientedSpace","fovAxis","VERTICAL","clearDepth","clearStencil","visibility","aperture","F16_0","shutter","D125","iso","ISO100","worldPosition","worldRotation","reset","offset","dot","up","_reflect","transformQuat","FORWARD","normalize","negative","UP","fromViewUp","viewSpaceProbe","transformMat4","matView","clone","invert","transpose","calculateObliqueMat","out","point","normal","n","dist","multiplyScalar","subtract","_createClass","key","get","value","forEach","idx","val"],"sources":["../../../../../../../../../cocos/render-scene/scene/reflection-probe.ts"],"mappings":";;;;;;;;4XAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EAtBAA,OAAA;IAAAC,cAAA;IAAAC,SAAA;EAAA;EAAA;IAAAC,OAAA,aAAAC,+BAAA;MAuBSC,MAAM,GAAAD,+BAAA,CAANC,MAAM;IAAA,aAAAC,SAAA;MACEC,cAAc,GAAAD,SAAA,CAAdC,cAAc;MAAEC,aAAa,GAAAF,SAAA,CAAbE,aAAa;MAAEC,SAAS,GAAAH,SAAA,CAATG,SAAS;MAAEC,gBAAgB,GAAAJ,SAAA,CAAhBI,gBAAgB;MAAEC,aAAa,GAAAL,SAAA,CAAbK,aAAa;MAAEC,UAAU,GAAAN,SAAA,CAAVM,UAAU;MAAEC,WAAW,GAAAP,SAAA,CAAXO,WAAW;MAAEC,YAAY,GAAAR,SAAA,CAAZQ,YAAY;IAAA,aAAAC,YAAA;MAExHC,KAAK,GAAAD,YAAA,CAALC,KAAK;MAAEC,IAAI,GAAAF,YAAA,CAAJE,IAAI;MAAEC,IAAI,GAAAH,YAAA,CAAJG,IAAI;MAAEC,QAAQ,GAAAJ,YAAA,CAARI,QAAQ;MAAEC,IAAI,GAAAL,YAAA,CAAJK,IAAI;MAAEC,IAAI,GAAAN,YAAA,CAAJM,IAAI;MAAEC,QAAQ,GAAAP,YAAA,CAARO,QAAQ;MAAEC,QAAQ,GAAAR,YAAA,CAARQ,QAAQ;MAAEC,IAAI,GAAAT,YAAA,CAAJS,IAAI;IAAA,aAAAC,kBAAA;MACjEC,mBAAmB,GAAAD,kBAAA,CAAnBC,mBAAmB;IAAA,aAAAC,WAAA;MACnBC,YAAY,GAAAD,WAAA,CAAZC,YAAY;IAAA,aAAAC,2BAAA;MAEZC,aAAa,GAAAD,2BAAA,CAAbC,aAAa;IAAA;IAAAC,OAAA,WAAAA,CAAA;MAAA,WAEV9B,cAAc;QAAdA,cAAc,CAAdA,cAAc,aACbY,WAAW,GAAGe,YAAY,CAACI,aAAa;QADzC/B,cAAc,CAAdA,cAAc,kBAER2B,YAAY,CAACK,GAAG;MAAA,GAFtBhC,cAAc,IAAAD,OAAA,mBAAdC,cAAc;MAAA,WAKdC,SAAS;QAATA,SAAS,CAATA,SAAS;QAATA,SAAS,CAATA,SAAS;MAAA,GAATA,SAAS,IAAAF,OAAA,cAATE,SAAS;MAIrB;MACMgC,SAAiB,GAAG,CACtB,IAAIb,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,EACnB,IAAIA,IAAI,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAElB,IAAIA,IAAI,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAClB,IAAIA,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAEnB,IAAIA,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACjB,IAAIA,IAAI,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,CACtB;MAAArB,OAAA,oBAEYmC,eAAe;QA8NxB,SAAAA,gBAAaC,EAAU,EAAE;UAAA,KA7NlBC,iBAAiB,GAAoB,EAAE;UAAA,KAEvCC,qBAAqB,GAAyB,IAAI;UAAA,KAE/CC,WAAW,GAAG,GAAG;UAAA,KACjBC,UAAU,GAAWvC,cAAc,CAACwC,MAAM;UAAA,KAC1CC,gBAAgB,GAAG,IAAI1B,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC;UAAA,KAC1C2B,WAAW,GAAGjB,mBAAmB;UAAA,KACjCkB,UAAU,GAAG1C,SAAS,CAAC2C,IAAI;UAAA,KAC3BC,QAAQ,GAAuB,IAAI;UAAA,KAC1BC,KAAK,GAAG,IAAI1B,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;UAE5C;AACJ;AACA;AACA;UAHI,KAIQ2B,OAAO,GAAkB,IAAI;UAErC;AACJ;AACA;AACA;UAHI,KAIQC,QAAQ,GAAG,CAAC;UAAA,KAEZC,YAAY,GAAG,KAAK;UAAA,KAEpBC,WAAW,GAAG,KAAK;UAAA,KAEnBC,KAAK,GAAgB,IAAI;UAAA,KAEzBC,WAAW,GAAgB,IAAI;UAEvC;AACJ;AACA;AACA;UAHI,KAIQC,YAAY,GAAyB,IAAI;UAEjD;AACJ;AACA;AACA;UAHI,KAIQC,eAAe,GAAG,IAAIlC,IAAI,CAAC,CAAC;UAEpC;AACJ;AACA;AACA;UAHI,KAIQmC,oBAAoB,GAAG,IAAIvC,IAAI,CAAC,CAAC;UAEzC;AACJ;AACA;AACA;UAHI,KAIQwC,QAAQ,GAAG,IAAIpC,IAAI,CAAC,CAAC;UAC7B;AACJ;AACA;AACA;UAHI,KAIQqC,GAAG,GAAG,IAAIrC,IAAI,CAAC,CAAC;UAExB;AACJ;AACA;AACA;UAHI,KAIUsC,cAAc,GAAgB,IAAI;UAAA,KAElCC,aAAa,GAAgB,IAAI;UA2JvC,IAAI,CAACX,QAAQ,GAAGb,EAAE;QACtB;QAAC,IAAAyB,MAAA,GAAA1B,eAAA,CAAA2B,SAAA;QAAAD,MAAA,CAEME,UAAU,GAAjB,SAAAA,WAAmBC,IAAU,EAAEC,UAAgB,EAAQ;UACnD,IAAI,CAACb,KAAK,GAAGY,IAAI;UACjB,IAAI,CAACX,WAAW,GAAGY,UAAU;UAC7B,IAAMC,GAAG,GAAG,IAAI,CAACF,IAAI,CAACG,gBAAgB,CAAC,CAAC;UACxC,IAAI,CAACb,YAAY,GAAGhC,QAAQ,CAAC8C,IAAI,CAACC,MAAM,CAACH,GAAG,CAACI,CAAC,EAAEJ,GAAG,CAACK,CAAC,EAAEL,GAAG,CAACM,CAAC,EAAE,IAAI,CAACzB,KAAK,CAACuB,CAAC,EAAE,IAAI,CAACvB,KAAK,CAACwB,CAAC,EAAE,IAAI,CAACxB,KAAK,CAACyB,CAAC,CAAC;UACvG,IAAI,CAACC,aAAa,CAACR,UAAU,CAAC;QAClC,CAAC;QAAAJ,MAAA,CAEMa,iBAAiB,GAAxB,SAAAA,kBAAA,EAAkC;UAC9B,IAAI,IAAI,CAACrC,iBAAiB,CAACsC,MAAM,KAAK,CAAC,EAAE;YACrC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,CAAC,EAAEA,CAAC,EAAE,EAAE;cACxB,IAAMC,aAAa,GAAG,IAAI,CAACC,oBAAoB,CAAC,IAAI,CAACvC,WAAW,EAAE,IAAI,CAACA,WAAW,CAAC;cACnF,IAAI,CAACF,iBAAiB,CAAC0C,IAAI,CAACF,aAAa,CAAC;YAC9C;UACJ;QACJ,CAAC;QAAAhB,MAAA,CAEMmB,cAAc,GAArB,SAAAA,eAAA,EAA+B;UAC3B,IAAI,CAACN,iBAAiB,CAAC,CAAC;UACxB,IAAI,CAACO,kBAAkB,CAAC,CAAC;UACzB,IAAI,CAAC9B,WAAW,GAAG,IAAI;QAC3B;;QAEA;AACJ;AACA;AACA;AACA,WAJI;QAAAU,MAAA,CAKOqB,sBAAsB,GAA7B,SAAAA,uBAA+BC,YAAoB,EAAQ;UACvD,IAAI,CAACA,YAAY,EAAE;UACnB,IAAI,CAAC,IAAI,CAAC7C,qBAAqB,EAAE;YAC7B,IAAM8C,UAAU,GAAG7D,QAAQ,CAAC8D,IAAI,CAACC,uBAAuB,CAAC,CAAS;YAClE,IAAI,CAAChD,qBAAqB,GAAG,IAAI,CAACwC,oBAAoB,CAACM,UAAU,CAACG,KAAK,EAAEH,UAAU,CAACI,MAAM,CAAC;YAC3FjE,QAAQ,CAACkE,QAAQ,CAACC,sBAAsB,CAACC,eAAe,CAAC,IAAI,EAAE,IAAI,CAACrD,qBAAqB,CAACsD,aAAa,CAAC,CAAC,CAAC;UAC9G;UACA,IAAI,CAACC,iBAAiB,CAACV,YAAY,CAAC;UACpC,IAAI,CAACW,0BAA0B,CAACX,YAAY,CAAC;UAC7C,IAAI,CAAChC,WAAW,GAAG,IAAI;QAC3B,CAAC;QAAAU,MAAA,CAEMkC,eAAe,GAAtB,SAAAA,gBAAwBC,IAAe,EAAEb,YAA2B,EAAQ;UACxE,IAAIa,IAAI,KAAK9F,SAAS,CAAC2C,IAAI,EAAE;YACzB,IAAI,CAACM,WAAW,GAAG,KAAK;UAC5B,CAAC,MAAM,IAAIgC,YAAY,KAAK,IAAI,EAAE;YAC9B,IAAI,CAACD,sBAAsB,CAACC,YAAY,CAAC;UAC7C;QACJ,CAAC;QAAAtB,MAAA,CAEMoC,UAAU,GAAjB,SAAAA,WAAA,EAA6B;UACzB,OAAO,IAAI,CAAChD,QAAQ;QACxB,CAAC;QAAAY,MAAA,CAEMqC,aAAa,GAApB,SAAAA,cAAsB9D,EAAE,EAAQ;UAC5B,IAAI,CAACa,QAAQ,GAAGb,EAAE;QACtB,CAAC;QAAAyB,MAAA,CAEMsC,UAAU,GAAjB,SAAAA,WAAA,EAA2B;UACvB,IAAI,IAAI,CAACvD,UAAU,KAAK1C,SAAS,CAACkG,MAAM,EAAE;YACtC,OAAO,IAAIhF,IAAI,CAAC,IAAI,CAACkB,qBAAqB,CAAEiD,KAAK,EAAE,IAAI,CAACjD,qBAAqB,CAAEkD,MAAM,CAAC;UAC1F,CAAC,MAAM;YACH,OAAO,IAAIpE,IAAI,CAAC,IAAI,CAACiF,UAAU,EAAE,IAAI,CAACA,UAAU,CAAC;UACrD;QACJ,CAAC;QAAAxC,MAAA,CAEMyC,mBAAmB,GAA1B,SAAAA,oBAAA,EAAuC;UACnC,OAAO,IAAI;QACf,CAAC;QAAAzC,MAAA,CAEM0C,QAAQ,GAAf,SAAAA,SAAA,EAA4B;UACxB,OAAO,IAAI,CAACC,OAAO,KAAK,IAAI;QAChC,CAAC;QAAA3C,MAAA,CAEM4C,OAAO,GAAd,SAAAA,QAAA,EAAwB;UACpB,IAAI,IAAI,CAACzD,OAAO,EAAE;YACd,IAAI,CAACA,OAAO,CAACyD,OAAO,CAAC,CAAC;YACtB,IAAI,CAACzD,OAAO,GAAG,IAAI;UACvB;UACA,KAAK,IAAI4B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACvC,iBAAiB,CAACsC,MAAM,EAAEC,CAAC,EAAE,EAAE;YACpD,IAAI,CAACvC,iBAAiB,CAACuC,CAAC,CAAC,CAAC6B,OAAO,CAAC,CAAC;UACvC;UACA,IAAI,CAACpE,iBAAiB,GAAG,EAAE;UAE3B,IAAI,IAAI,CAACC,qBAAqB,EAAE;YAC5B,IAAI,CAACA,qBAAqB,CAACmE,OAAO,CAAC,CAAC;YACpC,IAAI,CAACnE,qBAAqB,GAAG,IAAI;UACrC;QACJ;QACA;QAAA;QAAAuB,MAAA,CACO6C,MAAM,GAAb,SAAAA,OAAA,EAAuB,CACvB;QACA;QAAA;QAAA7C,MAAA,CACO8C,OAAO,GAAd,SAAAA,QAAA,EAAwB,CACxB,CAAC;QAAA9C,MAAA,CAEM+C,eAAe,GAAtB,SAAAA,gBAAwBC,OAAe,EAAQ;UAC3C,IAAI,CAAC5C,UAAU,CAAC6C,oBAAoB,CAAC5E,SAAS,CAAC2E,OAAO,CAAC,CAAC;UACxD,IAAI,CAACE,MAAM,CAACC,MAAM,CAAC,IAAI,CAAC;QAC5B,CAAC;QAAAnD,MAAA,CAEMoD,iBAAiB,GAAxB,SAAAA,kBAAA,EAAkC;UAC9B,IAAI,IAAI,CAACjD,IAAI,EAAE;YACX,IAAME,GAAG,GAAG,IAAI,CAACF,IAAI,CAACG,gBAAgB,CAAC,CAAC;YACxC7C,QAAQ,CAAC8C,IAAI,CAAC8C,GAAG,CAAC,IAAI,CAAC5D,YAAY,EAAGY,GAAG,CAACI,CAAC,EAAEJ,GAAG,CAACK,CAAC,EAAEL,GAAG,CAACM,CAAC,EAAE,IAAI,CAACzB,KAAK,CAACuB,CAAC,EAAE,IAAI,CAACvB,KAAK,CAACwB,CAAC,EAAE,IAAI,CAACxB,KAAK,CAACyB,CAAC,CAAC;UACxG;QACJ,CAAC;QAAAX,MAAA,CAEMsD,cAAc,GAArB,SAAAA,eAAuBC,WAAwB,EAAW;UACtD,IAAI,IAAI,CAACC,SAAS,KAAKnH,SAAS,CAACkG,MAAM,EAAE;YAAA,IAAAkB,qBAAA;YACrC,IAAI,CAAC,IAAI,CAAChF,qBAAqB,EAAE,OAAO,KAAK;YAC7C,IAAI,EAAAgF,qBAAA,OAAI,CAAChF,qBAAqB,CAACiF,MAAM,cAAAD,qBAAA,uBAAjCA,qBAAA,CAAmCF,WAAW,MAAKA,WAAW,EAAE;cAChE,OAAO,IAAI;YACf;UACJ,CAAC,MAAM;YACH,IAAI,IAAI,CAAC/E,iBAAiB,CAACsC,MAAM,KAAK,CAAC,EAAE,OAAO,KAAK;YACrD,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACvC,iBAAiB,CAACsC,MAAM,EAAEC,CAAC,EAAE,EAAE;cAAA,IAAA4C,UAAA;cACpD,IAAMC,EAAE,GAAG,IAAI,CAACpF,iBAAiB,CAACuC,CAAC,CAAC;cACpC,IAAI,EAAA4C,UAAA,GAAAC,EAAE,CAACF,MAAM,cAAAC,UAAA,uBAATA,UAAA,CAAWJ,WAAW,MAAKA,WAAW,EAAE;gBACxC,OAAO,IAAI;cACf;YACJ;UACJ;UACA,OAAO,KAAK;QAChB,CAAC;QAAAvD,MAAA,CAEM6D,MAAM,GAAb,SAAAA,OAAA,EAA2B;UACvB;UACA,OAAO,IAAI;QACf,CAAC;QAAA7D,MAAA,CAEOgC,iBAAiB,GAAzB,SAAAA,kBAA2BkB,MAAc,EAAQ;UAC7C,IAAI,CAACA,MAAM,CAACY,cAAc,GAAGZ,MAAM,CAACY,cAAc;UAClD,IAAI,CAACZ,MAAM,CAACa,WAAW,GAAGb,MAAM,CAACa,WAAW;UAC5C,IAAI,CAACb,MAAM,CAACc,QAAQ,GAAGd,MAAM,CAACc,QAAQ;UACtC,IAAI,CAACd,MAAM,CAACe,OAAO,GAAGf,MAAM,CAACe,OAAO;UACpC,IAAI,CAACf,MAAM,CAACgB,GAAG,GAAGhB,MAAM,CAACgB,GAAG;UAC5B,IAAI,CAAChB,MAAM,CAACiB,SAAS,GAAGjB,MAAM,CAACiB,SAAS;UACxC,IAAI,CAACjB,MAAM,CAACkB,UAAU,GAAGlB,MAAM,CAACkB,UAAU;UAC1C,IAAI,CAAClB,MAAM,CAACmB,QAAQ,GAAGnB,MAAM,CAACmB,QAAQ,GAAG,CAAC;UAC1C,IAAI,CAACnB,MAAM,CAACoB,MAAM,CAACpB,MAAM,CAACxB,KAAK,EAAEwB,MAAM,CAACvB,MAAM,CAAC;QACnD,CAAC;QAAA3B,MAAA,CAEOY,aAAa,GAArB,SAAAA,cAAuBR,UAAgB,EAAiB;UACpD,IAAMmE,IAAI,GAAG7G,QAAQ,CAAC8G,QAAQ,CAACD,IAAI;UACnC,IAAI,CAAC,IAAI,CAACpF,OAAO,EAAE;YACf,IAAI,CAACA,OAAO,GAAGoF,IAAI,CAACE,YAAY,CAAC,CAAC;YAClC,IAAI,CAAC,IAAI,CAACtF,OAAO,EAAE,OAAO,IAAI;YAC9B,IAAI,CAACA,OAAO,CAACe,UAAU,CAAC;cACpBwE,IAAI,EAAEtE,UAAU,CAACsE,IAAI;cACrBvE,IAAI,EAAEC,UAAU;cAChBuE,UAAU,EAAE9H,gBAAgB,CAAC+H,WAAW;cACxClB,MAAM,EAAElH,MAAM,GAAG+H,IAAI,IAAIA,IAAI,CAACM,UAAU,GAAGN,IAAI,IAAIA,IAAI,CAACO,UAAU;cAClET,QAAQ,EAAE,CAAC;cACXU,UAAU,EAAEhI,UAAU,CAACiI,OAAO;cAC9BC,YAAY,EAAEhI,YAAY,CAACiI;YAC/B,CAAC,CAAC;UACN;UACA,IAAI,CAAC/F,OAAO,CAACgG,0BAA0B,CAAC,IAAI9H,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;UAC7D,IAAI,CAAC8B,OAAO,CAACiG,OAAO,GAAGzI,aAAa,CAAC0I,QAAQ;UAC7C,IAAI,CAAClG,OAAO,CAAC+E,GAAG,GAAG5G,QAAQ,CAAC,EAAE,CAAC;UAC/B,IAAI,CAAC6B,OAAO,CAAC4E,WAAW,GAAG,EAAE;UAC7B,IAAI,CAAC5E,OAAO,CAAC6E,QAAQ,GAAG,CAAC;UACzB,IAAI,CAAC7E,OAAO,CAAC8E,OAAO,GAAG,IAAI;UAC3B,IAAI,CAAC9E,OAAO,CAACiF,UAAU,GAAG,IAAI,CAACvF,gBAAgB;UAC/C,IAAI,CAACM,OAAO,CAACmG,UAAU,GAAG,GAAG;UAC7B,IAAI,CAACnG,OAAO,CAACoG,YAAY,GAAG,GAAG;UAC/B,IAAI,CAACpG,OAAO,CAACgF,SAAS,GAAG,IAAI,CAACxF,UAAU;UACxC,IAAI,CAACQ,OAAO,CAACqG,UAAU,GAAG,IAAI,CAAC1G,WAAW;UAC1C,IAAI,CAACK,OAAO,CAACsG,QAAQ,GAAG/I,cAAc,CAACgJ,KAAK;UAC5C,IAAI,CAACvG,OAAO,CAACwG,OAAO,GAAG7I,aAAa,CAAC8I,IAAI;UACzC,IAAI,CAACzG,OAAO,CAAC0G,GAAG,GAAGjJ,SAAS,CAACkJ,MAAM;UACnC,OAAO,IAAI,CAAC3G,OAAO;QACvB,CAAC;QAAAa,MAAA,CAEOoB,kBAAkB,GAA1B,SAAAA,mBAAA,EAAoC;UAChC,IAAI,CAAC8B,MAAM,CAACY,cAAc,GAAGjH,gBAAgB,CAAC+H,WAAW;UACzD,IAAI,CAAC1B,MAAM,CAACa,WAAW,GAAG,EAAE;UAC5B,IAAI,CAACb,MAAM,CAACc,QAAQ,GAAG,CAAC;UACxB,IAAI,CAACd,MAAM,CAACe,OAAO,GAAG,IAAI;UAC1B,IAAI,CAACf,MAAM,CAACgB,GAAG,GAAG5G,QAAQ,CAAC,EAAE,CAAC;UAC9B,IAAI,CAAC4F,MAAM,CAACmB,QAAQ,GAAG,CAAC;UACxB,IAAI,CAACnB,MAAM,CAACoB,MAAM,CAAC,IAAI,CAAC9B,UAAU,EAAE,IAAI,CAACA,UAAU,CAAC;UAEpD,IAAI,CAACU,MAAM,CAACsC,UAAU,GAAG,IAAI,CAAC1G,WAAW;UACzC,IAAI,CAACoE,MAAM,CAACiB,SAAS,GAAG,IAAI,CAACxF,UAAU;UACvC,IAAI,CAACuE,MAAM,CAACkB,UAAU,GAAG,IAAI,CAACvF,gBAAgB;UAE9C,IAAI,CAACuB,UAAU,CAAC2F,aAAa,GAAG,IAAI,CAAC5F,IAAI,CAAC4F,aAAa;UACvD,IAAI,CAAC3F,UAAU,CAAC4F,aAAa,GAAG,IAAI,CAAC7F,IAAI,CAAC6F,aAAa;UACvD,IAAI,CAAC9C,MAAM,CAACC,MAAM,CAAC,IAAI,CAAC;QAC5B,CAAC;QAAAnD,MAAA,CAEOiB,oBAAoB,GAA5B,SAAAA,qBAA8BS,KAAa,EAAEC,MAAc,EAAiB;UACxE,IAAMiC,EAAE,GAAG,IAAI3F,aAAa,CAAC,CAAC;UAC9B2F,EAAE,CAACqC,KAAK,CAAC;YAAEvE,KAAK,EAALA,KAAK;YAAEC,MAAM,EAANA;UAAO,CAAC,CAAC;UAC3B,OAAOiC,EAAE;QACb,CAAC;QAAA5D,MAAA,CAEOiC,0BAA0B,GAAlC,SAAAA,2BAAoCX,YAAoB,EAAQ;UAC5D,IAAM4E,MAAM,GAAG1I,IAAI,CAAC2I,GAAG,CAAC,IAAI,CAAChG,IAAI,CAAC4F,aAAa,EAAE,IAAI,CAAC5F,IAAI,CAACiG,EAAE,CAAC;UAC9D,IAAI,CAACC,QAAQ,CAAC,IAAI,CAAC3G,eAAe,EAAE4B,YAAY,CAACnB,IAAI,CAAC4F,aAAa,EAAE,IAAI,CAAC5F,IAAI,CAACiG,EAAE,EAAEF,MAAM,CAAC;UAC1F,IAAI,CAAC9F,UAAU,CAAC2F,aAAa,GAAG,IAAI,CAACrG,eAAe;UAEpDlC,IAAI,CAAC8I,aAAa,CAAC,IAAI,CAAC1G,QAAQ,EAAEpC,IAAI,CAAC+I,OAAO,EAAEjF,YAAY,CAACnB,IAAI,CAAC6F,aAAa,CAAC;UAChF,IAAI,CAACK,QAAQ,CAAC,IAAI,CAACzG,QAAQ,EAAE,IAAI,CAACA,QAAQ,EAAE,IAAI,CAACO,IAAI,CAACiG,EAAE,EAAE,CAAC,CAAC;UAC5D,IAAI,CAACxG,QAAQ,CAAC4G,SAAS,CAAC,CAAC;UACzB,IAAI,CAAC5G,QAAQ,CAAC6G,QAAQ,CAAC,CAAC;UAExBjJ,IAAI,CAAC8I,aAAa,CAAC,IAAI,CAACzG,GAAG,EAAErC,IAAI,CAACkJ,EAAE,EAAEpF,YAAY,CAACnB,IAAI,CAAC6F,aAAa,CAAC;UACtE,IAAI,CAACK,QAAQ,CAAC,IAAI,CAACxG,GAAG,EAAE,IAAI,CAACA,GAAG,EAAE,IAAI,CAACM,IAAI,CAACiG,EAAE,EAAE,CAAC,CAAC;UAClD,IAAI,CAACvG,GAAG,CAAC2G,SAAS,CAAC,CAAC;UAEpBpJ,IAAI,CAACuJ,UAAU,CAAC,IAAI,CAAChH,oBAAoB,EAAE,IAAI,CAACC,QAAQ,EAAE,IAAI,CAACC,GAAG,CAAC;UAEnE,IAAI,CAACO,UAAU,CAAC4F,aAAa,GAAG,IAAI,CAACrG,oBAAoB;UAEzD,IAAI,CAACuD,MAAM,CAACC,MAAM,CAAC,IAAI,CAAC;;UAExB;UACA,IAAMyD,cAAc,GAAG,IAAIjJ,IAAI,CAAC,IAAI,CAACwC,IAAI,CAACiG,EAAE,CAAC3F,CAAC,EAAE,IAAI,CAACN,IAAI,CAACiG,EAAE,CAAC1F,CAAC,EAAE,IAAI,CAACP,IAAI,CAACiG,EAAE,CAACzF,CAAC,EAAE,CAACnD,IAAI,CAAC2I,GAAG,CAAC,IAAI,CAAChG,IAAI,CAACiG,EAAE,EAAE,IAAI,CAACjG,IAAI,CAAC4F,aAAa,CAAC,CAAC;UACjIa,cAAc,CAACC,aAAa,CAAC,IAAI,CAAC3D,MAAM,CAAC4D,OAAO,CAACC,KAAK,CAAC,CAAC,CAACC,MAAM,CAAC,CAAC,CAACC,SAAS,CAAC,CAAC,CAAC;UAC9E,IAAI,CAAC/D,MAAM,CAACgE,mBAAmB,CAACN,cAAc,CAAC;QACnD,CAAC;QAAA5G,MAAA,CAEOqG,QAAQ,GAAhB,SAAAA,SAAkBc,GAAS,EAAEC,KAAW,EAAEC,MAAY,EAAEnB,MAAc,EAAQ;UAC1E,IAAMoB,CAAC,GAAG9J,IAAI,CAACuJ,KAAK,CAACM,MAAM,CAAC;UAC5BC,CAAC,CAACd,SAAS,CAAC,CAAC;UACb,IAAMe,IAAI,GAAG/J,IAAI,CAAC2I,GAAG,CAACmB,CAAC,EAAEF,KAAK,CAAC,GAAGlB,MAAM;UACxCoB,CAAC,CAACE,cAAc,CAAC,GAAG,GAAGD,IAAI,CAAC;UAC5B/J,IAAI,CAACiK,QAAQ,CAACN,GAAG,EAAEC,KAAK,EAAEE,CAAC,CAAC;UAC5B,OAAOH,GAAG;QACd,CAAC;QAAAO,YAAA,CAAApJ,eAAA;UAAAqJ,GAAA;UAAAC,GAAA,EA3XD,SAAAA,IAAA,EAA4B;YACxB,OAAO,IAAI,CAAC7I,UAAU;UAC1B,CAAC;UAAAsE,GAAA;UATD;AACJ;AACA;AACA;UACI,SAAAA,IAAewE,KAAgB,EAAE;YAC7B,IAAI,CAAC9I,UAAU,GAAG8I,KAAK;UAC3B;QAAC;UAAAF,GAAA;UAAAC,GAAA,EAKD,SAAAA,IAAA,EAA0B;YACtB,OAAO,IAAI,CAAClJ,WAAW;UAC3B;;UAEA;AACJ;AACA;AACA,aAHI;UAAA2E,GAAA,EAIA,SAAAA,IAAgBwE,KAAa,EAAE;YAC3B,IAAIA,KAAK,KAAK,IAAI,CAACnJ,WAAW,EAAE;cAC5B,IAAI,CAACF,iBAAiB,CAACsJ,OAAO,CAAC,UAAClE,EAAE,EAAEmE,GAAG,EAAW;gBAC9CnE,EAAE,CAACU,MAAM,CAACuD,KAAK,EAAEA,KAAK,CAAC;cAC3B,CAAC,CAAC;YACN;YACA,IAAI,CAACnJ,WAAW,GAAGmJ,KAAK;UAC5B;;UAEA;AACJ;AACA;AACA;QAHI;UAAAF,GAAA;UAAAC,GAAA,EAQA,SAAAA,IAAA,EAAyB;YACrB,OAAO,IAAI,CAACjJ,UAAU;UAC1B;;UAEA;AACJ;AACA;AACA,aAHI;UAAA0E,GAAA,EARA,SAAAA,IAAewE,KAAa,EAAE;YAC1B,IAAI,CAAClJ,UAAU,GAAGkJ,KAAK;YACvB,IAAI,CAAC3E,MAAM,CAACiB,SAAS,GAAG,IAAI,CAACxF,UAAU;UAC3C;QAAC;UAAAgJ,GAAA;UAAAC,GAAA,EAaD,SAAAA,IAAA,EAA8B;YAC1B,OAAO,IAAI,CAAC/I,gBAAgB;UAChC;UACA;AACJ;AACA;AACA,aAHI;UAAAwE,GAAA,EAPA,SAAAA,IAAqB2E,GAAU,EAAE;YAC7B,IAAI,CAACnJ,gBAAgB,GAAGmJ,GAAG;YAC3B,IAAI,CAAC9E,MAAM,CAACkB,UAAU,GAAG,IAAI,CAACvF,gBAAgB;UAClD;QAAC;UAAA8I,GAAA;UAAAC,GAAA,EAQD,SAAAA,IAAA,EAA0B;YACtB,OAAO,IAAI,CAAC9I,WAAW;UAC3B,CAAC;UAAAuE,GAAA,EACD,SAAAA,IAAgB2E,GAAG,EAAE;YACjB,IAAI,CAAClJ,WAAW,GAAGkJ,GAAG;YACtB,IAAI,CAAC7I,OAAO,CAAEqG,UAAU,GAAG,IAAI,CAAC1G,WAAW;UAC/C;;UAEA;AACJ;AACA;AACA;QAHI;UAAA6I,GAAA;UAAAC,GAAA,EAUA,SAAAA,IAAA,EAAkB;YACd,OAAO,IAAI,CAAC1I,KAAK;UACrB,CAAC;UAAAmE,GAAA,EARD,SAAAA,IAAUwE,KAAK,EAAE;YACb,IAAI,CAAC3I,KAAK,CAACmE,GAAG,CAACwE,KAAK,CAAC;YAErB,IAAMxH,GAAG,GAAG,IAAI,CAACF,IAAI,CAACG,gBAAgB,CAAC,CAAC;YACxC7C,QAAQ,CAAC8C,IAAI,CAAC8C,GAAG,CAAC,IAAI,CAAC5D,YAAY,EAAGY,GAAG,CAACI,CAAC,EAAEJ,GAAG,CAACK,CAAC,EAAEL,GAAG,CAACM,CAAC,EAAE,IAAI,CAACzB,KAAK,CAACuB,CAAC,EAAE,IAAI,CAACvB,KAAK,CAACwB,CAAC,EAAE,IAAI,CAACxB,KAAK,CAACyB,CAAC,CAAC;UACxG;QAAC;UAAAgH,GAAA;UAAAC,GAAA,EASD,SAAAA,IAAA,EAAmC;YAC/B,OAAO,IAAI,CAAC3I,QAAQ;UACxB;;UAEA;AACJ;AACA;AACA,aAHI;UAAAoE,GAAA,EARA,SAAAA,IAAa2E,GAAuB,EAAE;YAClC,IAAI,CAAC/I,QAAQ,GAAG+I,GAAG;UACvB;QAAC;UAAAL,GAAA;UAAAC,GAAA,EAUD,SAAAA,IAAA,EAAkB;YACd,OAAO,IAAI,CAACrI,KAAK;UACrB;QAAC;UAAAoI,GAAA;UAAAC,GAAA,EAED,SAAAA,IAAA,EAAsB;YAClB,OAAO,IAAI,CAACzI,OAAO;UACvB;;UAEA;AACJ;AACA;AACA;QAHI;UAAAwI,GAAA;UAAAC,GAAA,EAQA,SAAAA,IAAA,EAA4B;YACxB,OAAO,IAAI,CAACvI,YAAY;UAC5B,CAAC;UAAAgE,GAAA,EAND,SAAAA,IAAiBwE,KAAc,EAAE;YAC7B,IAAI,CAACxI,YAAY,GAAGwI,KAAK;UAC7B;QAAC;UAAAF,GAAA;UAAAC,GAAA,EASD,SAAAA,IAAA,EAA2B;YACvB,OAAO,IAAI,CAACtI,WAAW;UAC3B,CAAC;UAAA+D,GAAA,EALD,SAAAA,IAAgBwE,KAAc,EAAE;YAC5B,IAAI,CAACvI,WAAW,GAAGuI,KAAK;UAC5B;QAAC;UAAAF,GAAA;UAAAC,GAAA,EAKD,SAAAA,IAAA,EAAyC;YACrC,OAAO,IAAI,CAACnI,YAAY;UAC5B;QAAC;UAAAkI,GAAA;UAAAC,GAAA,EAKD,SAAAA,IAAA,EAAwB;YACpB,OAAO,IAAI,CAACpI,WAAW;UAC3B;;UAEA;AACJ;AACA;AACA;AACA,aAJI;UAAA6D,GAAA,EAPA,SAAAA,IAAgBlD,IAAU,EAAE;YACxB,IAAI,CAACX,WAAW,GAAGW,IAAI;UAC3B;QAAC;UAAAwH,GAAA;UAAAC,GAAA,EAcD,SAAAA,IAAA,EAAkC;YAC9B,OAAO,IAAI,CAAC9H,cAAc;UAC9B;;UAEA;AACJ;AACA;AACA,aAHI;UAAAuD,GAAA,EARA,SAAAA,IAAmB2E,GAAgB,EAAE;YACjC,IAAI,CAAClI,cAAc,GAAGkI,GAAG;UAC7B;QAAC;UAAAL,GAAA;UAAAC,GAAA,EAcD,SAAAA,IAAA,EAA0B;YACtB,OAAO,IAAI,CAAC7H,aAAa;UAC7B,CAAC;UAAAsD,GAAA,EAND,SAAAA,IAAkB2E,GAAS,EAAE;YACzB,IAAI,CAACjI,aAAa,GAAGiI,GAAG;UAC5B;QAAC;QAAA,OAAA1J,eAAA;MAAA;IAAA;EAAA;AAAA"}