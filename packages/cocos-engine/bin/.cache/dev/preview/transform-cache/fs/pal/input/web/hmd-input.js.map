{"version":3,"names":["setters","_cocosInputTypesEventEnumJs","InputEventType","_cocosCoreEventEventTargetJs","EventTarget","_cocosInputTypesIndexJs","EventHMD","_inputSourceJs","InputSourcePosition","InputSourceOrientation","_cocosCoreMathIndexJs","Vec3","Quat","_predefineJs","legacyCC","default","execute","Pose","_export","HMDInputDevice","_this$_webPoseState","_eventTarget","_intervalId","_viewLeftPosition","_viewLeftOrientation","_viewRightPosition","_viewRightOrientation","_headMiddlePosition","_headMiddleOrientation","_webPoseState","VIEW_LEFT","position","ZERO","orientation","IDENTITY","VIEW_RIGHT","HEAD_MIDDLE","_initInputSource","_registerEvent","_proto","prototype","_ensureDirectorDefined","_this","Promise","resolve","setInterval","director","Director","clearInterval","_this2","then","on","EVENT_BEGIN_FRAME","_scanHmd","e","_globalThis$__globalX","infoList","globalThis","__globalXR","webxrHmdPoseInfos","i","length","info","_updateWebPoseState","emit","HMD_POSE_INPUT","_on","eventType","callback","target","code","x","y","z","w","_this3","getValue","_createClass","key","get"],"sources":["../../../../../../../../../pal/input/web/hmd-input.ts"],"mappings":"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"}