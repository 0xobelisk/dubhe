{"version":3,"names":["Color","_coreIndexJs","Mat4","_utilsDynamicAtlasAtlasManagerJs","dynamicAtlasManager","execute","m","tempRenderData","i","push","x","y","z","u","v","color","_export","sliced","createData","sprite","renderData","requestRenderData","dataLength","resize","QUAD_INDICES","Uint16Array","createQuadIndices","chunk","setIndexBuffer","vertexRow","vertexCol","offset","curRow","curCol","vid","updateRenderData","frame","spriteFrame","packToDynamicAtlas","updateUVs","vertDirty","updateVertexData","dataList","data","uiTrans","node","_uiProps","uiTransformComp","width","height","appX","anchorX","appY","anchorY","leftWidth","insetLeft","rightWidth","insetRight","topHeight","insetTop","bottomHeight","insetBottom","sizableWidth","sizableHeight","xScale","yScale","Number","isNaN","curIndex","length","fillBuffers","renderer","_flagChangedVersion","flagChangedVersion","updateWorldVertexData","bid","bufferId","vertexOffset","meshBuffer","ib","iData","indexOffset","r","c","start","getWorldMatrix","stride","floatStride","vData","vb","row","rowD","col","colD","rhw","m03","m07","m15","m00","m04","m12","m01","m05","m13","m02","m06","m14","uv","uvSliced","uvOffset","updateColor","colorOffset","colorR","colorG","g","colorB","b","colorA","opacity"],"sources":["../../../../../../../../../../cocos/2d/assembler/sprite/sliced.ts"],"mappings":"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"}