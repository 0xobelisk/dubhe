{"version":3,"names":["DEBUG","_virtualInternal253AconstantsJs","_coreIndexJs","approx","assertIsTrue","error","_animationGraphContextJs","AnimationGraphUpdateContextGenerator","_instantiationJs","instantiatePoseGraph","execute","StashRecordState","RuntimeStashRecord","_allocator","_state","UNINITIALIZED","_instantiatedPoseGraph","undefined","_maxRequestedUpdateTime","_evaluationCache","_updateContextGenerator","_proto","prototype","set","stash","context","instantiatedPoseGraph","graph","bind","UNSETTLED","settle","SETTLED","reset","OUTDATED","UP_TO_DATE","UPDATED","EVALUATED","destroyPose","reenter","requestUpdate","deltaTime","UPDATING","diffDeltaTime","Math","max","updateContext","generate","indicativeWeight","update","evaluate","EVALUATING","_this$_instantiatedPo","pose","heapPose","allocatePose","transforms","auxiliaryCurves","popPose","pushDuplicatedPose","_export","RuntimeStashManager","allocator","_stashEvaluations","_proto2","bindStash","id","getStash","addStash","setStash","stashId","record"],"sources":["../../../../../../../../../../../cocos/animation/marionette/pose-graph/stash/runtime-stash.ts"],"mappings":"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"}