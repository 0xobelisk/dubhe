{"version":3,"names":["CachedArray","_coreIndexJs","_webgl2CommandsJs","WebGL2CmdBeginRenderPass","WebGL2CmdBindStates","WebGL2CmdBlitTexture","WebGL2CmdCopyBufferToTexture","WebGL2CmdDraw","WebGL2CmdUpdateBuffer","execute","_export","WebGL2CommandPool","Clazz","count","_frees","_freeIdx","_freeCmds","Array","i","_proto","prototype","alloc","size","length","temp","increase","j","cmd","refCount","free","push","freeCmds","cmds","array","release","clear","WebGL2CommandAllocator","beginRenderPassCmdPool","bindStatesCmdPool","drawCmdPool","updateBufferCmdPool","copyBufferToTextureCmdPool","blitTextureCmdPool","_proto2","clearCmds","cmdPackage","beginRenderPassCmds","bindStatesCmds","drawCmds","updateBufferCmds","copyBufferToTextureCmds","blitTextureCmds","releaseCmds"],"sources":["../../../../../../../../../cocos/gfx/webgl2/webgl2-command-allocator.ts"],"mappings":"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"}