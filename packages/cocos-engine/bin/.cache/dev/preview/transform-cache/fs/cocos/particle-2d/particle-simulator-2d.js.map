{"version":3,"names":["getWorldRotation","node","rotation","tempNode","eulerAngles","z","parent","setters","_coreIndexJs","Vec2","Color","js","misc","random","_dRendererVertexFormatJs","vfmtPosUvColor","getComponentPerVertex","_defineJs","PositionType","EmitterMode","START_SIZE_EQUAL_TO_END_SIZE","START_RADIUS_EQUAL_TO_END_RADIUS","execute","ZERO_VEC2","_pos","_tpa","_tpb","_tpc","formatBytes","Particle","pos","startPos","color","deltaColor","r","g","b","a","size","deltaSize","deltaRotation","timeToLive","drawPos","aspectRatio","dir","radialAccel","tangentialAccel","angle","degreesPerSecond","radius","deltaRadius","ParticlePool","_js$Pool","_inheritsLoose","apply","arguments","_proto","prototype","get","_get","Pool","pool","par","set","_val","_export","Simulator","system","particles","active","uvFilled","finished","readyToPlay","elapsed","emitCounter","_worldRotation","sys","_proto2","stop","duration","reset","id","length","put","renderData","resize","emitParticle","psys","particle","push","life","lifeVar","Math","max","x","sourcePos","posVar","y","sr","sg","sb","sa","startColor","startColorVar","endColor","endColorVar","clampf","startS","startSize","startSizeVar","endSize","endS","endSizeVar","startA","startSpin","startSpinVar","endA","endSpin","endSpinVar","degreesToRadians","angleVar","emitterMode","GRAVITY","s","speed","speedVar","cos","sin","multiplyScalar","radialAccelVar","tangentialAccelVar","rotationIsDir","radiansToDegrees","atan2","startRadius","startRadiusVar","endRadius","endRadiusVar","rotatePerS","rotatePerSVar","updateUVs","force","_renderSpriteFrame","vbuf","vData","uv","start","particleCount","i","offset","updateParticleBuffer","buffer","width","height","halfWidth","halfHeight","x1","y1","x2","y2","rad","cr","toArray","step","dt","assembler","maxParticleDeltaTime","updateWorldTransform","positionType","FREE","m","worldMatrix","m12","m13","RELATIVE","position","emissionRate","rate","totalParticles","stopSystem","requestData","particleIdx","tmp","radial","tangential","normalize","newy","add","gravity","newPos","GROUPED","deadParticle","vertexCount","indexCount","material","getRenderMaterial","frame","setRenderDrawInfoAttributes","_finishedSimulation","request","count","iData","vId","initDrawInfo"],"sources":["../../../../../../../../cocos/particle-2d/particle-simulator-2d.ts"],"mappings":"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"}