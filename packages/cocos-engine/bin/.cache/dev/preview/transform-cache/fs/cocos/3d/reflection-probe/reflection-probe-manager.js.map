{"version":3,"names":["setters","_frameworkMeshRendererJs","MeshRenderer","_reflectionProbeEnumJs","ReflectionProbeType","_assetAssetsIndexJs","ImageAsset","Texture2D","_assetAssetsAssetEnumJs","PixelFormat","_coreIndexJs","Vec3","geometry","cclegacy","_renderSceneSceneReflectionProbeJs","ProbeType","_sceneGraphLayersJs","Layers","execute","REFLECTION_PROBE_DEFAULT_MASK","makeMaskExclude","BitMask","UI_2D","UI_3D","GIZMOS","EDITOR","SCENE_GIZMO","PROFILER","Enum","IGNORE_RAYCAST","_export","ReflectionProbeManager","_probes","_useCubeModels","Map","_usePlanarModels","_updateForRuntime","_dataTexture","_registeredEvent","_proto","prototype","registerEvent","director","on","Director","EVENT_BEFORE_UPDATE","onUpdateProbes","length","scene","getScene","renderScene","models","i","model","node","layer","reflectionProbeType","BAKED_CUBEMAP","_isUsedBlending","selectReflectionProbe","PLANAR_REFLECTION","selectPlanarReflectionProbe","filterModelsForPlanarReflection","clearPlanarReflectionMap","probe","_iterator","_createForOfIteratorHelperLoose","entries","_step","done","entry","value","_updatePlanarMapOfModel","register","index","indexOf","push","updateProbeData","unregister","del","splice","_removeDependentModels","exists","probeId","getProbeId","getNewReflectionProbeId","getProbes","getProbeById","clearAll","getProbeByCamera","camera","updateBakedCubemap","_getModelsByProbe","cubemap","_updateCubemapOfModel","needRefresh","_iterator2","_step2","reflectionProbeBlendId","_updateBlendCubemap","updatePlanarMap","texture","previewPlane","meshRender","getComponent","updateProbePlanarMap","worldBounds","probeType","PLANAR","updateWorldBound","intersect","aabbWithAABB","boundingBox","set","has","old","get","realtimePlanarTexture","getGFXTexture","nearest","_getNearestProbe","CUBE","updatePreviewSphere","previewSphere","updateProbeCubemap","updateReflectionProbeId","updatePreviewPlane","maxId","getMaxProbeId","height","dataWidth","destroy","buffer","Float32Array","bufferOffset","worldPosition","x","y","z","size","mipAndUseRGBE","isRGBE","mipmapLevel","up","updateView","Uint8Array","image","_data","_compressed","width","format","RGBA8888","setFilters","Filter","NONE","setMipFilter","setWrapMode","WrapMode","CLAMP_TO_EDGE","uploadData","j","updateReflectionProbeDataMap","sort","a","b","getUsedReflectionProbe","planarReflection","setReflectionProbe","blendProbe","_updateBlendProbeInfo","updateProbeOfModels","nearestProbe","minDistance","Infinity","_iterator3","_step3","validate","distance","_getBlendProbe","temp","aDistance","bDistance","useModels","_iterator4","_step4","_iterator5","keys","_step5","key","p","undefined","_iterator6","_step6","BLEND_PROBES","BLEND_PROBES_AND_SKYBOX","updateReflectionProbeBlendId","updateProbeBlendCubemap","updateReflectionProbeBlendWeight","_calculateBlendWeight","d1","d2","_calculateBlendOfSkybox","aabb1","aabb2","aMin","aMax","bMin","bMax","subtract","center","halfExtents","add","inside","fullSize","multiplyScalar","boundaryXAdd","boundaryXSub","boundaryYAdd","boundaryYSub","boundaryZAdd","boundaryZSub","weights","offset","Math","abs","_createClass","val","probeManager","internal","reflectionProbeManager"],"sources":["../../../../../../../../../cocos/3d/reflection-probe/reflection-probe-manager.ts"],"mappings":"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"}