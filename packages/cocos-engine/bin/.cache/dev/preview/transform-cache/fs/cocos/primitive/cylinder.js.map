{"version":3,"names":["cylinder","radiusTop","radiusBottom","height","opts","halfHeight","radialSegments","heightSegments","capped","undefined","arc","Math","PI","cntCap","vertCount","indexCount","indices","Array","positions","normals","uvs","maxRadius","max","minPos","Vec3","maxPos","boundingRadius","sqrt","index","indexOffset","generateTorso","generateCap","indexArray","r","slope","sign","y","indexRow","v","radius","x","u","theta","sinTheta","sin","cosTheta","cos","normalize","temp1","set","temp2","z","push","i1","i2","i3","i4","top","centerIndexStart","centerIndexEnd","c","i","_export","setters","_coreIndexJs","execute"],"sources":["../../../../../../../../cocos/primitive/cylinder.ts"],"mappings":"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"}