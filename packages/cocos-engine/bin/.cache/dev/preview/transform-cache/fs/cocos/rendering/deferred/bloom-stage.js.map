{"version":3,"names":["ccclass","_coreDataDecoratorsIndexJs","displayOrder","serializable","type","_defineJs","SetIndex","_assetAssetsMaterialJs","Material","_gfxIndexJs","BufferInfo","BufferUsageBit","ClearFlagBit","Color","MemoryUsageBit","Rect","_pipelineStateManagerJs","PipelineStateManager","_renderStageJs","RenderStage","_enumJs","CommonStagePriority","_renderPipelineJs","MAX_BLOOM_FILTER_PASS_NUM","_deferredPipelineSceneDataJs","BLOOM_COMBINEPASS_INDEX","BLOOM_DOWNSAMPLEPASS_INDEX","BLOOM_PREFILTERPASS_INDEX","BLOOM_UPSAMPLEPASS_INDEX","execute","colors","UBOBloom","_class","TEXTURE_SIZE_OFFSET","COUNT","SIZE","_export","BloomStage","_dec","_dec2","_dec3","_class2","_class3","_class4","_RenderStage","_inheritsLoose","_this","call","threshold","intensity","iterations","_bloomMaterial","_initializer","_renderArea","_bloomUBO","_proto","prototype","initialize","info","activate","pipeline","flow","pipelineSceneData","bloomMaterial","destroy","render","camera","_camera$window","_pipeline","generateBloomRenderData","window","swapchain","macros","CC_PIPELINE_TYPE","bloomEnabled","renderObjects","length","passNumber","i","device","createBuffer","UNIFORM","TRANSFER_DST","HOST","DEVICE","clearFlag","COLOR","x","clearColor","y","z","w","_prefilterPass","_downsamplePass","_upsamplePass","_combinePass","generateRenderArea","width","height","cmdBuff","commandBuffers","sceneData","builtinBloomProcess","pass","passes","renderData","getPipelineRenderData","bloomData","bloom","textureSize","Float32Array","updateBuffer","beginRenderPass","renderPass","prefilterFramebuffer","bindDescriptorSet","GLOBAL","descriptorSet","bindBuffer","bindTexture","outputRenderTargets","bindSampler","sampler","update","MATERIAL","inputAssembler","quadIAOffscreen","quadIAOnscreen","pso","shader","getShaderVariant","getOrCreatePipelineState","bindPipelineState","bindInputAssembler","draw","endRenderPass","downsampleFramebuffers","prefiterTex","downsampleTexs","index","upsampleFramebuffers","upsampleTexs","deferredData","uboIndex","combineFramebuffer","initInfo","name","priority","BLOOM","tag","_applyDecoratedInitializer"],"sources":["../../../../../../../../../cocos/rendering/deferred/bloom-stage.ts"],"mappings":"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"}