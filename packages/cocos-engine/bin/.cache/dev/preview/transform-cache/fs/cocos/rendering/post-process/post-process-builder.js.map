{"version":3,"names":["EDITOR","_virtualInternal253AconstantsJs","_renderSceneSceneIndexJs","CameraProjection","CameraUsage","_utilsPassContextJs","passContext","_passesForwardFinalPassJs","ForwardFinalPass","_customDefineJs","getCameraUniqueID","_passesForwardPassJs","ForwardPass","_passesTaaPassJs","TAAPass","_passesFsrPassJs","FSRPass","_passesBlitScreenPassJs","BlitScreenPass","_passesShadowPassJs","ShadowPass","_passesHbaoPassJs","HBAOPass","_componentsPostProcessJs","PostProcess","_gameIndexJs","director","_miscIndexJs","CameraComponent","Camera","_passesIndexJs","BloomPass","ColorGradingPass","DofPass","FloatOutputProcessPass","ForwardTransparencyPass","ForwardTransparencySimplePass","FxaaPass","PostFinalPass","SkinPass","_pipelineEventJs","PipelineEventType","execute","_export","PostProcessBuilder","pipelines","Map","init","_proto","prototype","onGlobalPipelineStateChanged","passes","get","undefined","i","length","pass","forward","forwardFinal","shadowPass","addPass","getPass","passClass","pipelineName","pp","find","p","set","oldIdx","findIndex","name","splice","push","insertPass","idx","initEditor","root","cameraList","forEach","cam","usePostProcess","projectionType","PERSPECTIVE","applyPreviewCamera","camera","node","parent","camComp","getComponent","oriCamera","postProcess","resortEditorCameras","cameras","newCameras","c","indexOf","setup","ppl","forwardPass","depthSlotName","isFinalCamera","isFinalPass","globalPP","all","global","scene","update","cameraUsage","PREVIEW","addBuiltinReflectionProbePass","pipelineEvent","emit","RENDER_CAMERA_BEGIN","renderCamera","getCameraPipelineName","pipeline","getCameraPasses","passPathName","updateViewPort","taaPass","checkEnable","applyCameraJitter","updateSample","floatOutputPass","lastPass","hdrInputName","getHDRInputName","render"],"sources":["../../../../../../../../../cocos/rendering/post-process/post-process-builder.ts"],"mappings":"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"}