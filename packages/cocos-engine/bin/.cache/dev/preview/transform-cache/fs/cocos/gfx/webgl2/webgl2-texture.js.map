{"version":3,"names":["setters","_baseDefineJs","FormatSurfaceSize","TextureInfo","IsPowerOf2","FormatInfos","TextureUsageBit","_baseTextureJs","Texture","_webgl2CommandsJs","WebGL2CmdFuncCreateTexture","WebGL2CmdFuncDestroyTexture","WebGL2CmdFuncResizeTexture","_webgl2DefineJs","WebGL2DeviceManager","execute","_export","WebGL2Texture","_Texture","_inheritsLoose","_this","_len","arguments","length","args","Array","_key","call","apply","concat","_gpuTexture","_gpuTextureView","_proto","prototype","initialize","info","isSwapchainTexture","texInfo","viewInfo","texture","_isTextureView","_info","copy","_isPowerOf2","width","height","_size","format","depth","levelCount","layerCount","type","usage","size","arrayLayer","mipLevel","samples","flags","isPowerOf2","glTarget","glInternalFmt","glFormat","glType","glUsage","glTexture","glRenderbuffer","glWrapS","glWrapT","glMinFilter","glMagFilter","instance","memoryStatus","textureSize","_viewInfo","baseLevel","baseLayer","gpuTexture","_this$_gpuTexture","console","log","destroy","getGLTextureHandle","resize","getLevelCount","Math","min","oldSize","initAsSwapchainTexture","hasDepth","DEPTH_STENCIL_ATTACHMENT","COLOR_ATTACHMENT","_createClass","key","get"],"sources":["../../../../../../../../../cocos/gfx/webgl2/webgl2-texture.ts"],"mappings":"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"}