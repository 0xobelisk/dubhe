{"version":3,"names":["setters","_virtualInternal253AconstantsJs","EDITOR","TEST","_palSystemInfo","systemInfo","_palScreenAdapter","screenAdapter","_cocosCoreMathIndexJs","Rect","Vec2","_cocosCoreEventIndexJs","EventTarget","_cocosInputTypesIndexJs","EventTouch","_touchManagerJs","touchManager","_cocosCorePlatformMacroJs","macro","_cocosInputTypesEventEnumJs","InputEventType","_systemInfoEnumTypeIndexJs","Feature","_cocosCorePlatformDebugJs","warn","execute","_export","TouchInputSource","_canvas","_eventTarget","hasFeature","INPUT_TOUCH","document","getElementById","_registerEvent","_proto","prototype","_this$_canvas","_this$_canvas2","_this$_canvas3","_this$_canvas4","addEventListener","_createCallback","TOUCH_START","TOUCH_MOVE","TOUCH_END","TOUCH_CANCEL","eventType","_this","event","canvasRect","_getCanvasRect","handleTouches","length","changedTouches","i","changedTouch","touchID","identifier","location","_getLocation","touch","getOrCreateTouch","x","y","releaseTouch","push","stopPropagation","target","preventDefault","_this$_canvas5","focus","eventTouch","ENABLE_MULTI_TOUCH","getAllTouches","emit","canvas","box","getBoundingClientRect","width","height","globalThis","__globalXR","ar","isWebXR","clientX","clientY","isFrameRotated","tmp","dpr","devicePixelRatio","on","callback"],"sources":["../../../../../../../../../pal/input/web/touch-input.ts"],"mappings":"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"}