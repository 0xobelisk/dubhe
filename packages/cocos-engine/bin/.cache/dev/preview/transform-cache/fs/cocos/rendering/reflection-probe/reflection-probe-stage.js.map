{"version":3,"names":["ccclass","_coreDataDecoratorsIndexJs","_gfxIndexJs","Color","Rect","ClearFlagBit","_renderStageJs","RenderStage","_enumJs","ForwardStagePriority","_defineJs","SetIndex","_renderReflectionProbeQueueJs","RenderReflectionProbeQueue","_coreIndexJs","Vec3","_coreMathColorJs","packRGBE","execute","colors","_export","ReflectionProbeStage","_dec","_class","_class2","_RenderStage","_inheritsLoose","_this","_len","arguments","length","args","Array","_key","call","apply","concat","_frameBuffer","_renderArea","_probe","_probeRenderQueue","_rgbeColor","_proto","prototype","setUsageInfo","probe","frameBuffer","destroy","_this$_probeRenderQue","clear","clearFramebuffer","camera","w","clearColor","pipeline","_pipeline","pipelineSceneData","shadingScale","vp","viewport","size","resolution","x","y","width","height","cmdBuff","commandBuffers","renderPass","beginRenderPass","clearDepth","clearStencil","endRenderPass","render","gatherRenderObjects","pipelineUBO","updateCameraUBO","renderArea","clearFlag","COLOR","z","rgbe","device","bindDescriptorSet","GLOBAL","descriptorSet","recordCommandBuffer","activate","flow","initInfo","name","priority","FORWARD","tag"],"sources":["../../../../../../../../../cocos/rendering/reflection-probe/reflection-probe-stage.ts"],"mappings":"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"}