{"version":3,"names":["EDITOR","_virtualInternal253AconstantsJs","_coreDataDecoratorsIndexJs","ccclass","help","executeInEditMode","executionOrder","menu","tooltip","type","visible","override","serializable","editable","_animationTransformUtilsJs","getWorldTransformUntilRoot","_assetAssetsAssetEnumJs","Filter","PixelFormat","_assetAssetsMaterialJs","Material","_assetsMeshJs","Mesh","_assetsSkeletonJs","Skeleton","_assetAssetsTexture2dJs","Texture2D","_coreIndexJs","CCString","Mat4","Vec2","Vec3","cclegacy","_gfxIndexJs","AttributeName","FormatInfos","Format","Type","Attribute","BufferTextureCopy","_miscBufferJs","mapBuffer","readBuffer","writeBuffer","_skinnedMeshRendererJs","SkinnedMeshRenderer","execute","repeat","n","Math","floor","batch_id","ATTR_BATCH_ID","R32F","batch_uv","ATTR_BATCH_UV","RG32F","batch_extras_size","format","size","_export","SkinnedMeshUnit","_dec","_dec2","_dec3","_dec4","_dec5","_class","_class2","mesh","_initializer","skeleton","_initializer2","material","_initializer3","_localTransform","_initializer4","_offset","_initializer5","_size","_initializer6","_createClass","key","get","set","offset","copy","comp","getSharedMaterial","skinningRoot","node","_applyDecoratedInitializer","prototype","_applyDecoratedDescriptor","Object","getOwnPropertyDescriptor","m4_local","m4_1","v3_1","SkinnedMeshBatchRenderer","_dec6","_dec7","_dec8","_dec9","_dec10","_dec11","_dec12","_dec13","_dec14","_dec15","_dec16","_class4","_class5","_SkinnedMeshRenderer","_inheritsLoose","_this","_len","arguments","length","args","Array","_key","call","apply","concat","atlasSize","_initializer7","batchableTextureNames","_initializer8","units","_initializer9","_textures","_batchMaterial","_proto","onLoad","cook","onDestroy","tex","destroy","_mesh","_onMaterialModified","idx","cookMaterials","getMaterialInstance","cookSkeletons","cookMeshes","_this2","mat","effectAsset","console","warn","resizeAtlases","tech","techniques","technique","_loop","i","pass","passes","properties","_loop2","prop","SAMPLER1D","find","createTexture","cookTextures","some","u","getProperty","setProperty","value","unit","push","slice","_this3","_skinningRoot","joints","bindposes","partial","invert","_loop3","path","findIndex","p","multiply","equals","name","IDENTITY","idxMap","from","keys","sort","a","b","map","_","arr","_skeleton","_this4","isValid","destroyRenderingMesh","posOffset","posFormat","UNKNOWN","normalOffset","normalFormat","tangentOffset","tangentFormat","uvOffset","uvFormat","jointOffset","jointFormat","jointIndexMap","unitLen","j","ref","_loop4","data","newMesh","_createUnitMesh","dataView","DataView","buffer","transpose","_loop5","bundle","struct","vertexBundles","view","attributes","attr","ATTR_POSITION","pos","stride","fromArray","transformMat4","toArray","ATTR_NORMAL","normal","transformMat4Normal","ATTR_TANGENT","tangent","cur","ATTR_JOINTS","merge","_onMeshChanged","_updateModels","target","passIdx","texImages","texImageRegions","texBuffers","texBufferRegions","image","region","texOffset","x","y","texExtent","width","height","ArrayBuffer","isView","gfxTex","getGFXTexture","_ref","director","root","device","copyBuffersToTexture","copyTexImagesToTexture","setFilters","LINEAR","setMipFilter","NEAREST","reset","RGBA8888","unitIdx","newMeshStruct","JSON","parse","stringify","modifiedBundles","primitives","primitive","bundleIdx","vertexBundelIndices","ATTR_TEX_COORD","undefined","newBundle","count","totalLength","pm","indexView","newMeshData","Uint8Array","oldMeshData","newDataView","oldDataView","isLittleEndian","sys","oldBundle","_modifiedBundles$_b","uvs","oldView","newView","oldStride","newStride","oldOffset","newOffset","srcVertex","subarray","setFloat32","k","oldPrimitive","newPrimitive","srcIndices","val"],"sources":["../../../../../../../../../cocos/3d/skinned-mesh-renderer/skinned-mesh-batch-renderer.ts"],"mappings":"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"}