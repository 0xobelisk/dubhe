{"version":3,"names":["setters","_pipelineStateManagerJs","PipelineStateManager","_defineJs","SetIndex","execute","_export","RenderInstancedQueue","queue","Set","_renderQueue","_proto","prototype","clear","it","values","res","next","done","value","length","sort","pass","blendState","targets","blend","push","uploadBuffers","cmdBuff","hasPendingModels","recordCommandBuffer","device","renderPass","descriptorSet","dynamicOffsets","Symbol","iterator","_res$value","instances","bindDescriptorSet","MATERIAL","lastPSO","b","instance","count","shader","pso","getOrCreatePipelineState","ia","bindPipelineState","GLOBAL","LOCAL","bindInputAssembler","draw"],"sources":["../../../../../../../../cocos/rendering/render-instanced-queue.ts"],"mappings":"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"}