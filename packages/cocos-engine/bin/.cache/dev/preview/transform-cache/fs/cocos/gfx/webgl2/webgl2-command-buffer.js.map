{"version":3,"names":["setters","_baseCommandBufferJs","CommandBuffer","_baseDefineJs","BufferUsageBit","CommandBufferType","StencilFace","DynamicStates","_webgl2CommandAllocatorJs","WebGL2CommandAllocator","_webgl2CommandsJs","WebGL2Cmd","WebGL2CmdBeginRenderPass","WebGL2CmdBindStates","WebGL2CmdBlitTexture","WebGL2CmdCopyBufferToTexture","WebGL2CmdDraw","WebGL2CmdPackage","WebGL2CmdUpdateBuffer","_webgl2DefineJs","WebGL2DeviceManager","execute","_export","WebGL2CommandBuffer","_CommandBuffer","_inheritsLoose","_this","_len","arguments","length","args","Array","_key","call","apply","concat","cmdPackage","_cmdAllocator","_isInRenderPass","_curGPUPipelineState","_curGPUDescriptorSets","_curGPUInputAssembler","_curDynamicOffsets","fill","_curDynamicStates","_isStateInvalied","_proto","prototype","initialize","info","_type","type","_queue","queue","setCount","instance","bindingMappings","blockOffsets","i","push","destroy","clearCmds","begin","renderPass","subpass","frameBuffer","_numDrawCalls","_numInstances","_numTris","end","bindStates","beginRenderPass","framebuffer","renderArea","clearColors","clearDepth","clearStencil","cmd","beginRenderPassCmdPool","alloc","gpuRenderPass","gpuFramebuffer","copy","beginRenderPassCmds","cmds","BEGIN_RENDER_PASS","endRenderPass","bindPipelineState","pipelineState","gpuPipelineState","bindDescriptorSet","set","descriptorSet","dynamicOffsets","gpuDescriptorSets","gpuDescriptorSet","_this$_curGPUPipeline","gpuPipelineLayout","offsets","idx","dynamicOffsetOffsets","bindInputAssembler","inputAssembler","gpuInputAssembler","setViewport","viewport","cache","left","top","width","height","minDepth","maxDepth","setScissor","scissor","x","y","setLineWidth","lineWidth","setDepthBias","depthBiasConstantFactor","depthBiasClamp","depthBiasSlopeFactor","depthBiasConstant","depthBiasSlope","setBlendConstants","blendConstants","blendConstant","z","w","setDepthBound","minDepthBounds","maxDepthBounds","depthMinBounds","depthMaxBounds","setStencilWriteMask","face","writeMask","front","stencilStatesFront","back","stencilStatesBack","FRONT","BACK","setStencilCompareMask","reference","compareMask","draw","infoOrAssembler","PRIMARY","SECONDARY","drawInfo","drawCmdPool","drawCmds","DRAW","instanceCount","indexCount","vertexCount","glPrimitive","Math","max","console","error","updateBuffer","buffer","data","size","gpuBuffer","updateBufferCmdPool","buffSize","buff","usage","INDIRECT","undefined","byteLength","offset","updateBufferCmds","UPDATE_BUFFER","copyBuffersToTexture","buffers","texture","regions","gpuTexture","copyBufferToTextureCmdPool","copyBufferToTextureCmds","COPY_BUFFER_TO_TEXTURE","cmdBuffs","count","webGL2CmdBuff","c","array","refCount","bindStatesCmds","blitTextureCmds","pipelineBarrier","GeneralBarrier","bufferBarriers","textureBarriers","textures","bindStatesCmd","bindStatesCmdPool","dynamicStates","BIND_STATES","blitTexture","srcTexture","dstTexture","filter","blitTextureCmd","blitTextureCmdPool","BLIT_TEXTURE"],"sources":["../../../../../../../../../cocos/gfx/webgl2/webgl2-command-buffer.ts"],"mappings":"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"}