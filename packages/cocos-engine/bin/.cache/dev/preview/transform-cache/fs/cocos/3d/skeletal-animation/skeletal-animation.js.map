{"version":3,"names":["collectRecursively","node","prefix","out","i","children","length","child","path","name","push","setters","_coreDataDecoratorsIndexJs","ccclass","executeInEditMode","executionOrder","help","menu","type","serializable","editable","_virtualInternal253AconstantsJs","EDITOR_NOT_IN_PREVIEW","_skinnedMeshRendererIndexJs","SkinnedMeshRenderer","_coreIndexJs","Mat4","cclegacy","js","assertIsTrue","warn","_sceneGraphNodeJs","Node","_animationAnimationComponentJs","Animation","_skeletalAnimationDataHubJs","SkelAnimDataHub","_skeletalAnimationStateJs","SkeletalAnimationState","_animationTransformUtilsJs","getWorldTransformUntilRoot","_animationGlobalAnimationManagerJs","getGlobalAnimationManager","execute","FORCE_BAN_BAKED_ANIMATION","_export","Socket","_dec","_dec2","_class","_class2","target","_initializer","_initializer2","_applyDecoratedInitializer","prototype","setClassAlias","m4_1","m4_2","SkeletalAnimation","_dec3","_dec4","_dec5","_dec6","_dec7","_dec8","_class4","_class5","_class6","_Animation","_inheritsLoose","_this","_len","arguments","args","Array","_key","call","apply","concat","_useBakedAnimation","_initializer3","_sockets","_initializer4","_users","Set","_currentBakedState","_proto","onLoad","comps","getComponentsInChildren","comp","skinningRoot","notifySkinnedMeshAdded","onDestroy","director","root","dataPoolManager","jointAnimationInfo","destroy","uuid","removeSockets","_removeAllUsers","onEnable","_this$_currentBakedSt","resume","onDisable","_this$_currentBakedSt2","pause","start","sockets","_applyBakeFlagChange","_useBakedEffectively","_this$_currentBakedSt3","_this$_currentBakedSt4","stop","querySockets","animPaths","_defaultClip","Object","keys","getOrExtract","joints","sort","reduce","acc","cur","startsWith","getChildByPath","rebuildSocketAnimations","_iterator","_createForOfIteratorHelperLoose","_step","done","socket","value","joint","substring","lastIndexOf","parent","fromRTS","rotation","position","scale","equals","matrix","_i","_Object$keys","_nameToState","stateName","state","rebuildSocketCurves","createSocket","find","s","skinnedMeshRenderer","formerBound","associatedAnimation","setUseBakedAnimation","playingState","uploadAnimation","clip","add","notifySkinnedMeshRemoved","getUsers","_createState","_doCreateState","doPlayOrCrossFade","duration","skeletalAnimationState","play","_this2","from","forEach","user","useBakedEffectively","setUseBaked","addSockets","_createClass","key","get","set","val","animMgr","_applyDecoratedDescriptor","getOwnPropertyDescriptor"],"sources":["../../../../../../../../../cocos/3d/skeletal-animation/skeletal-animation.ts"],"mappings":"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"}