{"version":3,"names":["ccclass","_coreDataDecoratorsIndexJs","help","menu","executionOrder","requireComponent","tooltip","serializable","_virtualInternal253AconstantsJs","EDITOR","WECHAT","WECHAT_MINI_PROGRAM","_palMinigame","minigame","_palScreenAdapter","screenAdapter","_sceneGraphComponentJs","Component","_viewJs","view","_dComponentsSpriteJs","Sprite","_sceneGraphIndexJs","Node","_dFrameworkUiTransformJs","UITransform","_dAssetsIndexJs","SpriteFrame","_assetAssetsImageAssetJs","ImageAsset","_coreMathIndexJs","Size","_coreGlobalExportsJs","legacyCC","_sceneGraphNodeEventJs","NodeEventType","_coreIndexJs","CCObject","_assetAssetsIndexJs","Texture2D","execute","_export","SubContextView","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_class","_class2","_Component","_inheritsLoose","_this","call","_fps","_initializer","_sprite","_imageAsset","_texture","_updatedTime","_updateInterval","_openDataContext","_content","_designResolutionSize","_initializer2","hideFlags","Flags","DontSave","HideInHierarchy","performance","now","_proto","prototype","onLoad","getOpenDataContext","_initSharedCanvas","_initContentNode","_updateSubContextView","_updateContentLayer","enabled","onEnable","_registerNodeEvent","onDisable","_unregisterNodeEvent","sharedCanvas","canvas","designWidth","width","designHeight","height","minimumSize","scaleWidth","scaleHeight","targetScale","image","reset","create","getComponent","addComponent","spriteFrame","texture","sp","parent","node","nodeTrans","contentTrans","scaleX","scaleY","scale","viewportRect","getViewportRect","box","getBoundingBoxToWorld","visibleSize","getVisibleSize","dpr","devicePixelRatio","x","y","postMessage","fromEngine","type","event","_updateSubContextTexture","img","uploadData","on","TRANSFORM_CHANGED","SIZE_CHANGED","LAYER_CHANGED","off","layer","update","dt","calledUpdateManually","undefined","deltaTime","onDestroy","destroy","_createClass","key","get","set","value","equals","_applyDecoratedDescriptor","Object","getOwnPropertyDescriptor","_applyDecoratedInitializer"],"sources":["../../../../../../../../cocos/ui/sub-context-view.ts"],"mappings":"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"}