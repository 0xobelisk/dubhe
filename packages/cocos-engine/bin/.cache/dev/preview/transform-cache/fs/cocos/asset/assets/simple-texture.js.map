{"version":3,"names":["getMipLevel","width","height","size","Math","max","level","isPOT","n","canGenerateMipmap","device","w","h","needCheckPOT","gfxAPI","API","WEBGL","setters","_coreDataDecoratorsIndexJs","ccclass","_virtualInternal253AconstantsJs","DEV","_gfxIndexJs","TextureFlagBit","TextureUsageBit","BufferTextureCopy","_coreIndexJs","assertID","error","js","macro","cclegacy","_assetEnumJs","Filter","_textureBaseJs","TextureBase","_assetManagerDependUtilJs","dependUtil","default","execute","_regions","_export","SimpleTexture","_dec","_class","_TextureBase","_inheritsLoose","_this","_len","arguments","length","args","Array","_key","call","apply","concat","_gfxTexture","_gfxTextureView","_mipmapLevel","_textureWidth","_textureHeight","_baseLevel","_maxLevel","_proto","prototype","getGFXTexture","destroy","_tryDestroyTextureView","_tryDestroyTexture","updateImage","updateMipmaps","firstLevel","count","uploadData","source","arrayIndex","gfxDevice","_getGFXDevice","region","texExtent","texSubres","mipLevel","baseArrayLayer","HTMLElement","name","ArrayBuffer","isView","copyBuffersToTexture","copyTexImagesToTexture","_assignImage","image","data","_checkTextureLoaded","CLEANUP_IMAGE_CACHE","deps","getDeps","_uuid","index","indexOf","array","fastRemoveAt","decRef","_textureReady","loaded","emit","_setMipmapLevel","value","_setMipRange","baseLevel","maxLevel","setMipRange","textureView","_createTextureView","_getGfxTextureCreateInfo","presumed","_getGfxTextureViewCreateInfo","_tryReset","_createTexture","isUsingOfflineMipmaps","_width","_height","flags","NONE","_mipFilter","isCompressed","GEN_MIPMAP","textureCreateInfo","usage","SAMPLED","TRANSFER_DST","COLOR_ATTACHMENT","format","_getGFXFormat","levelCount","texture","createTexture","textureViewCreateInfo","_createClass","key","get"],"sources":["../../../../../../../../../cocos/asset/assets/simple-texture.ts"],"mappings":"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"}