{"version":3,"names":["removeLinearKeys","keys","values","maxDiff","nKeys","length","slice","removeFlags","Array","fill","iLastKey","iKey","iPrevious","iNext","previousKey","currentKey","nextKey","previousValue","currentValue","nextValue","alpha","expectedValue","approx","filterFromRemoveFlags","removeTrivialKeys","nRemovals","reduce","n","removeFlag","nNewKeyframes","newKeys","newValues","iNewKeys","_export","setters","_coreIndexJs","execute"],"sources":["../../../../../../../../cocos/animation/compression.ts"],"mappings":"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"}