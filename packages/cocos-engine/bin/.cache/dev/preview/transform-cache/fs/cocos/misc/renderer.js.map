{"version":3,"names":["EDITOR","_virtualInternal253AconstantsJs","_assetAssetsMaterialJs","Material","_sceneGraphIndexJs","Component","_renderSceneCoreMaterialInstanceJs","MaterialInstance","_coreIndexJs","warnID","_decorator","errorID","execute","_matInsInfo","parent","owner","subModelIdx","ccclass","serializable","disallowMultiple","type","displayOrder","displayName","_export","Renderer","_dec","_dec2","_dec3","_dec4","_dec5","_class","_class2","_Component","_inheritsLoose","_this","_len","arguments","length","args","Array","_key","call","apply","concat","_materials","_initializer","_materialInstances","_proto","prototype","getMaterial","idx","getSharedMaterial","setMaterial","material","index","setSharedMaterial","inst","destroy","_onMaterialModified","getMaterialInstance","mat","instantiated","setMaterialInstance","matInst","temp","curInst","getRenderMaterial","_onRebuildPSO","_clearMaterials","_createClass","key","get","slice","set","val","i","splice","newLength","oldLength","_applyDecoratedDescriptor","Object","getOwnPropertyDescriptor","_applyDecoratedInitializer"],"sources":["../../../../../../../../cocos/misc/renderer.ts"],"mappings":"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"}