{"version":3,"names":["ColorTemperatureToRGB","rgb","kelvin","kSqr","u","v","d","x","y","z","X","Z","_export","LightType","setters","_coreIndexJs","Vec3","_sceneGraphNodeEnumJs","TransformBit","_renderingDefineJs","CAMERA_DEFAULT_MASK","execute","nt2lm","size","Math","PI","Light","_baked","_color","_colorTemp","_colorTempRGB","_finalColor","_scene","_node","_name","_useColorTemperature","_type","UNKNOWN","_visibility","_proto","prototype","initialize","color","colorTemperature","attachToScene","scene","detachFromScene","destroy","update","_createClass","key","get","set","val","multiply","enable","vis","n","hasChangedFlags","ROTATION"],"sources":["../../../../../../../../../cocos/render-scene/scene/light.ts"],"mappings":"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"}