{"version":3,"names":["editorExtrasTag","_coreIndexJs","_decorator","editable","serializable","_animationClipJs","AnimationClip","_animationGraphEditorExtrasCloneHelperJs","cloneAnimationGraphEditorExtrasFrom","_createEvalJs","createEval","_graphDebugJs","getMotionRuntimeID","RUNTIME_ID_ENABLED","_motionJs","Motion","_wrapJs","wrap","_typesJs","WrappedInfo","_coreGeometryIndexJs","WrapModeMask","_animationGraphAnimationClipBindingJs","createAnimationAGEvaluation","execute","ccclass","type","_export","ClipMotion","_dec","_dec2","_class","_class2","_Motion","_inheritsLoose","_this","_len","arguments","length","args","Array","_key","call","apply","concat","clip","_initializer","_proto","prototype","context","ignoreEmbeddedPlayers","clipMotionEval","ClipMotionEval","runtimeId","clone","that","_applyDecoratedInitializer","evaluatePortTag","Symbol","_context$clipOverride","_context$clipOverride2","_clipEmbeddedPlayerEval","_frameEventEval","_wrapInfo","_duration","_ignoreEmbeddedPlayers","_originalClip","overriding","clipOverrides","get","_setClip","_proto2","createPort","ClipMotionPort","getClipStatuses","baseWeight","_this2","got","next","done","value","undefined","__DEBUG_ID__","__DEBUG__ID__","_clip","weight","progress","_this$_frameEventEval","_this$_clipEmbeddedPl","duration","clipDuration","clipEval","_clipEval","elapsedTime","wrapMode","repeatCount","Loop","Infinity","wrapInfo","clipTime","ratio","pose","evaluate","sample","direction","iterations","Math","trunc","overrideClips","_context$clipOverride3","originalClip","reenter","_this$_frameEventEval2","reset","_this$_clipEval","destroy","speed","createEventEvaluator","origin","containsAnyEmbeddedPlayer","createEmbeddedPlayerEvaluator","_createClass","key","host","_eval","_proto3"],"sources":["../../../../../../../../../../cocos/animation/marionette/motion/clip-motion.ts"],"mappings":"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"}