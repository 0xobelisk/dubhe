{"version":3,"names":["setters","_gfxIndexJs","deviceManager","Feature","_modelsParticleBatchModelJs","ParticleBatchModel","default","_enumJs","RenderMode","_coreIndexJs","cclegacy","execute","_export","ParticleSystemRendererBase","info","_particleSystem","_model","_renderInfo","_vertAttrs","_useInstance","gfxDevice","hasFeature","INSTANCED_ARRAYS","_proto","prototype","getUseInstance","getInfo","onInit","ps","onEnable","attachToScene","model","node","transform","onDisable","detachFromScene","onDestroy","director","root","destroyModel","_this$_particleSystem","scene","_getRenderScene","addModel","removeModel","setVertexAttributes","updateVertexAttrib","renderMode","Mesh","mesh","clear","enabled","getModel","_initModel","createModel","setCapacity","capacity","visFlags","visibility","updateTrailMaterial","getDefaultTrailMaterial","_createClass","key","get"],"sources":["../../../../../../../../../cocos/particle/renderer/particle-system-renderer-base.ts"],"mappings":"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"}