{"version":3,"names":["setters","_assetsImageAssetJs","ImageAsset","_coreIndexJs","js","_cacheJs","Cache","default","_deserializeJs","deserialize","_helperJs","isScene","_plistParserJs","plistParser","_sharedJs","files","parsed","execute","_export","Parser","_parsing","_parsers","parseImage","parsePVRTex","parsePKMTex","parseASTCTex","parsePlist","parseImport","_proto","prototype","file","options","onComplete","HTMLImageElement","createImageBitmap","premultiplyAlpha","then","result","err","out","parseCompressedTextures","e","console","warn","parse","Error","__uuid__","init","clear","register","type","handler","mixin","id","_this","parsedAsset","get","parsing","push","parseHandler","add","data","remove","callbacks","i","l","length","_createClass","key","_instance","instance"],"sources":["../../../../../../../../../cocos/asset/asset-manager/parser.ts"],"mappings":"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"}