{"version":3,"names":["setters","_baseDefineJs","FormatSurfaceSize","TextureInfo","IsPowerOf2","TextureUsageBit","FormatInfos","_baseTextureJs","Texture","_webglCommandsJs","WebGLCmdFuncCreateTexture","WebGLCmdFuncDestroyTexture","WebGLCmdFuncResizeTexture","_webglDefineJs","WebGLDeviceManager","execute","_export","WebGLTexture","_Texture","_inheritsLoose","_this","_len","arguments","length","args","Array","_key","call","apply","concat","_gpuTexture","_lodLevel","_proto","prototype","initialize","info","isSwapchainTexture","texInfo","viewInfo","texture","_isTextureView","_info","copy","_isPowerOf2","width","height","_size","format","depth","levelCount","layerCount","type","usage","size","arrayLayer","mipLevel","samples","flags","isPowerOf2","glTarget","glInternalFmt","glFormat","glType","glUsage","glTexture","glRenderbuffer","glWrapS","glWrapT","glMinFilter","glMagFilter","instance","memoryStatus","textureSize","_viewInfo","baseLevel","baseLayer","destroy","getGLTextureHandle","gpuTexture","resize","getLevelCount","Math","min","oldSize","initAsSwapchainTexture","hasDepth","DEPTH_STENCIL_ATTACHMENT","COLOR_ATTACHMENT","_createClass","key","get"],"sources":["../../../../../../../../../cocos/gfx/webgl/webgl-texture.ts"],"mappings":"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"}