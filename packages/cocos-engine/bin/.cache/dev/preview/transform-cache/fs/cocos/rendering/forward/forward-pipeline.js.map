{"version":3,"names":["createDefaultPipeline","rppl","ForwardPipeline","initialize","flows","_export","setters","_coreDataDecoratorsIndexJs","ccclass","displayOrder","type","serializable","_virtualInternal253AconstantsJs","EDITOR","_renderPipelineJs","RenderPipeline","_forwardFlowJs","ForwardFlow","_pipelineSerializationJs","RenderTextureConfig","_shadowShadowFlowJs","ShadowFlow","_defineJs","UBOGlobal","UBOShadow","UBOCamera","UNIFORM_SHADOWMAP_BINDING","UNIFORM_SPOT_SHADOW_MAP_TEXTURE_BINDING","_assetAssetManagerBuiltinResMgrJs","builtinResMgr","_corePlatformDebugJs","errorID","_pipelineSceneDataJs","PipelineSceneData","_reflectionProbeReflectionProbeFlowJs","ReflectionProbeFlow","execute","PIPELINE_TYPE","_dec","_dec2","_dec3","_class","_class2","_RenderPipeline","_inheritsLoose","_this","_len","arguments","length","args","Array","_key","call","apply","concat","renderTextures","_initializer","_postRenderPass","_proto","prototype","info","_flows","shadowFlow","initInfo","push","reflectionFlow","forwardFlow","activate","swapchain","console","_macros","CC_PIPELINE_TYPE","_pipelineSceneData","_activeRenderer","_ensureEnoughSize","cameras","newWidth","_width","newHeight","_height","i","window","Math","max","width","height","destroy","_destroyUBOs","_destroyQuadInputAssembler","rpIter","_renderPasses","values","rpRes","next","done","value","_commandBuffers","device","commandBuffer","shadowMapSampler","globalDSManager","pointSampler","_descriptorSet","bindSampler","bindTexture","get","getGFXTexture","update","getBuffer","BINDING","getTexture","_createClass","key","_applyDecoratedInitializer"],"sources":["../../../../../../../../../cocos/rendering/forward/forward-pipeline.ts"],"mappings":"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"}