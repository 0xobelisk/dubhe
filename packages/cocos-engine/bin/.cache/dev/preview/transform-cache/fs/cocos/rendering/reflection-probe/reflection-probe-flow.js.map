{"version":3,"names":["EDITOR","_virtualInternal253AconstantsJs","_coreDataDecoratorsIndexJs","ccclass","_renderFlowJs","RenderFlow","_reflectionProbeStageJs","ReflectionProbeStage","_pipelineSerializationJs","RenderFlowTag","_renderSceneSceneReflectionProbeJs","ProbeType","_coreIndexJs","cclegacy","execute","_export","ReflectionProbeFlow","_dec","_class","_class2","_RenderFlow","_inheritsLoose","apply","arguments","_proto","prototype","initialize","info","call","_stages","length","probeStage","initInfo","push","activate","pipeline","render","camera","internal","reflectionProbeManager","probes","getProbes","i","needRender","probeType","PLANAR","_renderStage","destroy","probe","updatePlanarMap","setUsageInfo","realtimePlanarTexture","window","framebuffer","getGFXTexture","faceIdx","renderTexture","bakedCubeTextures","updateCameraDir","name","priority","tag","SCENE","stages"],"sources":["../../../../../../../../../cocos/rendering/reflection-probe/reflection-probe-flow.ts"],"mappings":"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"}