{"version":3,"names":["fetch","task","done","firstTask","progress","finish","total","input","length","canInvoke","options","depends","exclude","__exclude__","Object","create","output","forEach","item","cb","isNative","assets","has","uuid","asset","get","content","addRef","push","dispatch","packManager","load","err","data","isFinished","cclegacy","assetManager","force","error","message","stack","file","getDepends","config","clear","subTask","Task","onProgress","onError","prototype","recycle","onComplete","_task$output","apply","decreaseRef","fetchPipeline","async","i","l","decRef","_export","setters","_coreIndexJs","_packManagerJs","default","_sharedJs","_taskJs","_utilitiesJs","execute"],"sources":["../../../../../../../../../cocos/asset/asset-manager/fetch.ts"],"mappings":"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"}