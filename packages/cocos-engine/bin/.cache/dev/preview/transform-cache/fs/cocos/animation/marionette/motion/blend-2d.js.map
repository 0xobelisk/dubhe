{"version":3,"names":["validateSimpleDirectionalSamples","samples","nSamples","length","issues","sameDirectionValidationFlag","Array","fill","forEach","sample","iSample","sameDirectionSamples","iCheckSample","checkSample","Vec2","equals","_sameDirectionSamples","push","unshift","SimpleDirectionalIssueSameDirection","sampleFreeformCartesian","weights","thresholds","value","sampleFreeform","getGradientBandCartesianCoords","getGradientBandCoords","pIpInput","pIJ","sumInfluence","influence","Number","MAX_VALUE","outsideHull","jSample","t","dot","lengthSqr","Math","min","index","solveBarycentric","a","b","p","resolutions","det","cross","wA","wB","signedAngle","v1","v2","angle","determinate","x","y","_export","setters","_coreIndexJs","approx","assertIsTrue","execute","blendSimpleDirectional","CACHE_NORMALIZED_SAMPLE","CACHE_BARYCENTRIC_SOLUTIONS","input","strictEquals","ZERO","iCenter","findIndex","iSectorStart","iSectorEnd","lhsCosAngle","NEGATIVE_INFINITY","rhsCosAngle","inputX","inputY","sampleNormalized","normalize","cosAngle","sign","centerWeight","_solveBarycentric","w1","w2","sum","average","i","_DEV_NOTE","pI","pJ","pIpJ","subtract","PRECOMPUTED_VIJ_DATA_STRIDE","PolarSpaceGradientBandInterpolator2D","examples","angleMultiplier","_ANGLE_MULTIPLIER","nExamples","exampleMagnitudes","_exampleMagnitudes","exampleDirections","_exampleDirections","map","example","iExample","direction","copy","magnitude","len","multiplyScalar","precomputedVIJs","_precomputedVIJs","Float32Array","magnitudeI","directionI","jExample","magnitudeJ","directionJ","averagedMagnitude","pOutput","_cacheVIXAngles","_proto","prototype","interpolate","cacheVIXAngles","cacheInputDirection","_CACHE_INPUT_DIRECTION","cacheVIJ","_CACHE_VIJ","cacheVIX","_CACHE_VIX","vX","magnitudeX","vIXAngles","directionX","totalWeight","minInfluence","POSITIVE_INFINITY","precomputedDataIndex","vIJMag","vIJAnglePrecomputed","vIJAngle","vIXAngle","vIJ","set","vIX","averaged"],"sources":["../../../../../../../../../../cocos/animation/marionette/motion/blend-2d.ts"],"mappings":";;;;;;4XAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EA2GA;AACA;AACA;AACA;AACA;EACO,SAASA,gCAAgCA,CAAEC,OAA4B,EAAkC;IAC5G,IAAMC,QAAQ,GAAGD,OAAO,CAACE,MAAM;IAC/B,IAAMC,MAAsC,GAAG,EAAE;IACjD,IAAMC,2BAA2B,GAAG,IAAIC,KAAK,CAAUL,OAAO,CAACE,MAAM,CAAC,CAACI,IAAI,CAAC,KAAK,CAAC;IAClFN,OAAO,CAACO,OAAO,CAAC,UAACC,MAAM,EAAEC,OAAO,EAAK;MACjC,IAAIL,2BAA2B,CAACK,OAAO,CAAC,EAAE;QACtC;MACJ;MACA,IAAIC,oBAA0C;MAC9C,KAAK,IAAIC,YAAY,GAAG,CAAC,EAAEA,YAAY,GAAGV,QAAQ,EAAE,EAAEU,YAAY,EAAE;QAChE,IAAMC,WAAW,GAAGZ,OAAO,CAACW,YAAY,CAAC;QACzC,IAAIE,IAAI,CAACC,MAAM,CAACN,MAAM,EAAEI,WAAW,EAAE,IAAI,CAAC,EAAE;UAAA,IAAAG,qBAAA;UACxC,EAAAA,qBAAA,GAACL,oBAAoB,cAAAK,qBAAA,cAAAA,qBAAA,GAApBL,oBAAoB,GAAK,EAAE,EAAEM,IAAI,CAACL,YAAY,CAAC;UAChDP,2BAA2B,CAACO,YAAY,CAAC,GAAG,IAAI;QACpD;MACJ;MACA,IAAID,oBAAoB,EAAE;QACtBA,oBAAoB,CAACO,OAAO,CAACR,OAAO,CAAC;QACrCN,MAAM,CAACa,IAAI,CAAC,IAAIE,mCAAmC,CAACR,oBAAoB,CAAC,CAAC;MAC9E;IACJ,CAAC,CAAC;IACF,OAAOP,MAAM;EACjB;EA6BA;;EAEA;AACA;AACA;AACA;AACA;AACA;EACO,SAASgB,uBAAuBA,CAAEC,OAAiB,EAAEC,UAA2B,EAAEC,KAAqB,EAAQ;IAClHC,cAAc,CAACH,OAAO,EAAEC,UAAU,EAAEC,KAAK,EAAEE,8BAA8B,CAAC;EAC9E;EAEA,SAASD,cAAcA,CAAEH,OAAiB,EAAEpB,OAAwB,EAAEsB,KAAqB,EAAEG,qBAA4C,EAAQ;IAC7IL,OAAO,CAACd,IAAI,CAAC,GAAG,CAAC;IACjB,IAAMoB,QAAQ,GAAG,IAAIb,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;IAC/B,IAAMc,GAAG,GAAG,IAAId,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;IAC1B,IAAIe,YAAY,GAAG,GAAG;IACtB,IAAM3B,QAAQ,GAAGD,OAAO,CAACE,MAAM;IAC/B,KAAK,IAAIO,OAAO,GAAG,CAAC,EAAEA,OAAO,GAAGR,QAAQ,EAAE,EAAEQ,OAAO,EAAE;MACjD,IAAIoB,SAAS,GAAGC,MAAM,CAACC,SAAS;MAChC,IAAIC,WAAW,GAAG,KAAK;MACvB,KAAK,IAAIC,OAAO,GAAG,CAAC,EAAEA,OAAO,GAAGhC,QAAQ,EAAE,EAAEgC,OAAO,EAAE;QACjD,IAAIxB,OAAO,KAAKwB,OAAO,EAAE;UACrB;QACJ;QACAR,qBAAqB,CAACzB,OAAO,CAACS,OAAO,CAAC,EAAET,OAAO,CAACiC,OAAO,CAAC,EAAEX,KAAK,EAAEI,QAAQ,EAAEC,GAAG,CAAC;QAC/E,IAAMO,CAAC,GAAG,CAAC,GAAGrB,IAAI,CAACsB,GAAG,CAACT,QAAQ,EAAEC,GAAG,CAAC,GAAGd,IAAI,CAACuB,SAAS,CAACT,GAAG,CAAC;QAC3D,IAAIO,CAAC,GAAG,CAAC,EAAE;UACPF,WAAW,GAAG,IAAI;UAClB;QACJ;QACAH,SAAS,GAAGQ,IAAI,CAACC,GAAG,CAACT,SAAS,EAAEK,CAAC,CAAC;MACtC;MACA,IAAI,CAACF,WAAW,EAAE;QACdZ,OAAO,CAACX,OAAO,CAAC,GAAGoB,SAAS;QAC5BD,YAAY,IAAIC,SAAS;MAC7B;IACJ;IACA,IAAID,YAAY,GAAG,CAAC,EAAE;MAClBR,OAAO,CAACb,OAAO,CAAC,UAACsB,SAAS,EAAEU,KAAK;QAAA,OAAKnB,OAAO,CAACmB,KAAK,CAAC,GAAGV,SAAS,GAAGD,YAAY;MAAA,EAAC;IACpF;EACJ;EAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACA,SAASY,gBAAgBA,CACrBC,CAAiB,EACjBC,CAAiB,EACjBC,CAAiB,EACjBC,WAAgC,EACb;IACnB;IACA;IACA;IACA,IAAMC,GAAG,GAAGhC,IAAI,CAACiC,KAAK,CAACL,CAAC,EAAEC,CAAC,CAAC;IAC5B,IAAI,CAACG,GAAG,EAAE;MACND,WAAW,CAACG,EAAE,GAAG,GAAG;MACpBH,WAAW,CAACI,EAAE,GAAG,GAAG;IACxB,CAAC,MAAM;MACHJ,WAAW,CAACG,EAAE,GAAGlC,IAAI,CAACiC,KAAK,CAACH,CAAC,EAAED,CAAC,CAAC,GAAGG,GAAG;MACvCD,WAAW,CAACI,EAAE,GAAGnC,IAAI,CAACiC,KAAK,CAACH,CAAC,EAAEF,CAAC,CAAC,GAAG,CAACI,GAAG;IAC5C;IACA,OAAOD,WAAW;EACtB;EAqMA,SAASK,WAAWA,CAAEC,EAAkB,EAAEC,EAAkB,EAAU;IAClE,IAAMC,KAAK,GAAGvC,IAAI,CAACuC,KAAK,CAACF,EAAE,EAAEC,EAAE,CAAC;IAChC,IAAME,WAAW,GAAGH,EAAE,CAACI,CAAC,GAAGH,EAAE,CAACI,CAAC,GAAGL,EAAE,CAACK,CAAC,GAAGJ,EAAE,CAACG,CAAC;IAC7C,OAAOD,WAAW,GAAG,CAAC,GAAG,CAACD,KAAK,GAAGA,KAAK;EAC3C;EAACI,OAAA;IAAAzD,gCAAA,EAtUeA,gCAAgC;IAAAoB,uBAAA,EA2DhCA;EAAuB;EAAA;IAAAsC,OAAA,aAAAC,YAAA;MAzK9BC,MAAM,GAAAD,YAAA,CAANC,MAAM;MAAEC,YAAY,GAAAF,YAAA,CAAZE,YAAY;MAAE/C,IAAI,GAAA6C,YAAA,CAAJ7C,IAAI;IAAA;IAAAgD,OAAA,WAAAA,CAAA;MAEnC;AACA;AACA;AACA;AACA;AACA;MALAL,OAAA,2BAMaM,sBAAsB,GAAI,YAAoF;QACvH,IAAMC,uBAAuB,GAAG,IAAIlD,IAAI,CAAC,CAAC;QAE1C,IAAMmD,2BAAgD,GAAG;UAAEjB,EAAE,EAAE,CAAC;UAAEC,EAAE,EAAE;QAAE,CAAC;QAEzE,OAAO,SAASc,sBAAsBA,CAAE1C,OAAiB,EAAEpB,OAAwB,EAAEiE,KAAqB,EAAQ;UAC9GL,YAAY,CAACxC,OAAO,CAAClB,MAAM,KAAKF,OAAO,CAACE,MAAM,CAAC;UAE/C,IAAIF,OAAO,CAACE,MAAM,KAAK,CAAC,EAAE;YACtB;UACJ;UAEA,IAAIF,OAAO,CAACE,MAAM,KAAK,CAAC,EAAE;YACtBkB,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG;YAChB;UACJ;UAEA,IAAIP,IAAI,CAACqD,YAAY,CAACD,KAAK,EAAEpD,IAAI,CAACsD,IAAI,CAAC,EAAE;YACrC,IAAMC,QAAO,GAAGpE,OAAO,CAACqE,SAAS,CAAC,UAAC7D,MAAM;cAAA,OAAKK,IAAI,CAACqD,YAAY,CAAC1D,MAAM,EAAEK,IAAI,CAACsD,IAAI,CAAC;YAAA,EAAC;YACnF,IAAIC,QAAO,IAAI,CAAC,EAAE;cACdhD,OAAO,CAACgD,QAAO,CAAC,GAAG,GAAG;YAC1B,CAAC,MAAM;cACHhD,OAAO,CAACd,IAAI,CAAC,GAAG,GAAGN,OAAO,CAACE,MAAM,CAAC;YACtC;YACA;UACJ;;UAEA;UACA,IAAIoE,YAAY,GAAG,CAAC,CAAC;UACrB,IAAIC,UAAU,GAAG,CAAC,CAAC;UACnB,IAAIH,OAAO,GAAG,CAAC,CAAC;UAChB,IAAII,WAAW,GAAG1C,MAAM,CAAC2C,iBAAiB;UAC1C,IAAIC,WAAW,GAAG5C,MAAM,CAAC2C,iBAAiB;UAC1C,IAAWE,MAAM,GAAgBV,KAAK,CAA9BX,CAAC;YAAasB,MAAM,GAAKX,KAAK,CAAnBV,CAAC;UACpB,KAAK,IAAI9C,OAAO,GAAG,CAAC,EAAEA,OAAO,GAAGT,OAAO,CAACE,MAAM,EAAE,EAAEO,OAAO,EAAE;YACvD,IAAMD,MAAM,GAAGR,OAAO,CAACS,OAAO,CAAC;YAC/B,IAAII,IAAI,CAACC,MAAM,CAACN,MAAM,EAAEK,IAAI,CAACsD,IAAI,CAAC,EAAE;cAChCC,OAAO,GAAG3D,OAAO;cACjB;YACJ;YAEA,IAAMoE,gBAAgB,GAAGhE,IAAI,CAACiE,SAAS,CAACf,uBAAuB,EAAEvD,MAAM,CAAC;YACxE,IAAMuE,QAAQ,GAAGlE,IAAI,CAACsB,GAAG,CAAC0C,gBAAgB,EAAEZ,KAAK,CAAC;YAClD,IAAMe,IAAI,GAAGH,gBAAgB,CAACvB,CAAC,GAAGsB,MAAM,GAAGC,gBAAgB,CAACtB,CAAC,GAAGoB,MAAM;YACtE,IAAIK,IAAI,GAAG,CAAC,EAAE;cACV,IAAID,QAAQ,IAAIL,WAAW,EAAE;gBACzBA,WAAW,GAAGK,QAAQ;gBACtBT,YAAY,GAAG7D,OAAO;cAC1B;YACJ,CAAC,MAAM,IAAIsE,QAAQ,IAAIP,WAAW,EAAE;cAChCA,WAAW,GAAGO,QAAQ;cACtBR,UAAU,GAAG9D,OAAO;YACxB;UACJ;UAEA,IAAIwE,YAAY,GAAG,GAAG;UACtB,IAAIX,YAAY,GAAG,CAAC,IAAIC,UAAU,GAAG,CAAC,EAAE;YACpC;YACAU,YAAY,GAAG,GAAG;UACtB,CAAC,MAAM;YACH,IAAAC,iBAAA,GAAmB1C,gBAAgB,CAACxC,OAAO,CAACsE,YAAY,CAAC,EAAEtE,OAAO,CAACuE,UAAU,CAAC,EAAEN,KAAK,EAAED,2BAA2B,CAAC;cAA3GjB,EAAE,GAAAmC,iBAAA,CAAFnC,EAAE;cAAEC,EAAE,GAAAkC,iBAAA,CAAFlC,EAAE;YACd,IAAImC,EAAE,GAAG,GAAG;YACZ,IAAIC,EAAE,GAAG,GAAG;YACZ,IAAMC,GAAG,GAAGtC,EAAE,GAAGC,EAAE;YACnB,IAAIqC,GAAG,GAAG,CAAC,EAAE;cACT;cACAF,EAAE,GAAGpC,EAAE,GAAGsC,GAAG;cACbD,EAAE,GAAGpC,EAAE,GAAGqC,GAAG;YACjB,CAAC,MAAM,IAAIA,GAAG,GAAG,CAAC,EAAE;cAChB;cACAF,EAAE,GAAG,GAAG;cACRC,EAAE,GAAG,GAAG;cACRH,YAAY,GAAG,GAAG;YACtB,CAAC,MAAM;cACH;cACAE,EAAE,GAAGpC,EAAE;cACPqC,EAAE,GAAGpC,EAAE;cACPiC,YAAY,GAAG,GAAG,GAAGI,GAAG;YAC5B;YACAjE,OAAO,CAACkD,YAAY,CAAC,GAAGa,EAAE;YAC1B/D,OAAO,CAACmD,UAAU,CAAC,GAAGa,EAAE;UAC5B;;UAEA;UACA,IAAIH,YAAY,GAAG,GAAG,EAAE;YACpB,IAAIb,OAAO,IAAI,CAAC,EAAE;cACdhD,OAAO,CAACgD,OAAO,CAAC,GAAGa,YAAY;YACnC,CAAC,MAAM;cACH,IAAMK,OAAO,GAAGL,YAAY,GAAG7D,OAAO,CAAClB,MAAM;cAC7C,KAAK,IAAIqF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGnE,OAAO,CAAClB,MAAM,EAAE,EAAEqF,CAAC,EAAE;gBACrCnE,OAAO,CAACmE,CAAC,CAAC,IAAID,OAAO;cACzB;YACJ;UACJ;QACJ,CAAC;MACL,CAAC,CAAE,CAAC;MAiCJ;AACA;AACA;MAFA9B,OAAA,wCAGatC,mCAAmC,GAC5C,SAAAA,oCAA2BlB,OAA0B,EAAE;QAAA,KAA5BA,OAA0B,GAA1BA,OAA0B;MAAI,CAAC,GAG9D;MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACMwF,SAAS,GAAG,KAAK;MAgFjBhE,8BAAqD,GAAG,SAAxDA,8BAAqDA,CAAIiE,EAAE,EAAEC,EAAE,EAAEzB,KAAK,EAAEvC,QAAQ,EAAEiE,IAAI,EAAK;QAC7F9E,IAAI,CAAC+E,QAAQ,CAAClE,QAAQ,EAAEuC,KAAK,EAAEwB,EAAE,CAAC;QAClC5E,IAAI,CAAC+E,QAAQ,CAACD,IAAI,EAAED,EAAE,EAAED,EAAE,CAAC;MAC/B,CAAC;MAEKI,2BAA2B,GAAG,CAAC;MAErC;AACA;AACA;AACA;AACA;AACA;AACA;MANArC,OAAA,yCAOasC,oCAAoC;QAS7C,SAAAA,qCAAaC,QAAmC,EAAE;UAC9C,IACuBC,eAAe,GAClCF,oCAAoC,CADpCG,iBAAiB;UAGrB,IAAMC,SAAS,GAAGH,QAAQ,CAAC7F,MAAM;UAEjC,IAAMiG,iBAAiB,GAAG,IAAI,CAACC,kBAAkB,GAAG,IAAI/F,KAAK,CAAS6F,SAAS,CAAC,CAAC5F,IAAI,CAAC,GAAG,CAAC;UAC1F,IAAM+F,iBAAiB,GAAG,IAAI,CAACC,kBAAkB,GAAGP,QAAQ,CAACQ,GAAG,CAAC,UAACC,OAAO,EAAEC,QAAQ,EAAK;YACpF,IAAMC,SAAS,GAAG7F,IAAI,CAAC8F,IAAI,CAAC,IAAI9F,IAAI,CAAC,CAAC,EAAE2F,OAAO,CAAC;YAChD,IAAMI,SAAS,GAAG/F,IAAI,CAACgG,GAAG,CAACH,SAAS,CAAC;YACrCP,iBAAiB,CAACM,QAAQ,CAAC,GAAGG,SAAS;YACvC,IAAI,CAACjD,MAAM,CAACiD,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,EAAE;cAC/B/F,IAAI,CAACiG,cAAc,CAACJ,SAAS,EAAEA,SAAS,EAAE,GAAG,GAAGE,SAAS,CAAC;YAC9D;YACA,OAAOF,SAAS;UACpB,CAAC,CAAC;UAEF,IAAMK,eAAe,GAAG,IAAI,CAACC,gBAAgB,GAAG,IAAIC,YAAY,CAACpB,2BAA2B,GAAGK,SAAS,GAAGA,SAAS,CAAC;UACrH,KAAK,IAAIO,QAAQ,GAAG,CAAC,EAAEA,QAAQ,GAAGP,SAAS,EAAE,EAAEO,QAAQ,EAAE;YACrD,IAAMS,UAAU,GAAGf,iBAAiB,CAACM,QAAQ,CAAC;YAC9C,IAAMU,UAAU,GAAGd,iBAAiB,CAACI,QAAQ,CAAC;YAC9C,KAAK,IAAIW,QAAQ,GAAG,CAAC,EAAEA,QAAQ,GAAGlB,SAAS,EAAE,EAAEkB,QAAQ,EAAE;cACrD,IAAIX,QAAQ,KAAKW,QAAQ,EAAE;gBACvB;cACJ;cACA,IAAMC,UAAU,GAAGlB,iBAAiB,CAACiB,QAAQ,CAAC;cAC9C,IAAME,UAAU,GAAGjB,iBAAiB,CAACe,QAAQ,CAAC;cAC9C,IAAMG,iBAAiB,GAAG,CAACL,UAAU,GAAGG,UAAU,IAAI,CAAC;cACvD,IAAMG,OAAO,GAAG3B,2BAA2B,IAAIK,SAAS,GAAGO,QAAQ,GAAGW,QAAQ,CAAC;cAC/EL,eAAe,CAACS,OAAO,GAAG,CAAC,CAAC,GAAG,CAACH,UAAU,GAAGH,UAAU,IAAIK,iBAAiB;cAC5ER,eAAe,CAACS,OAAO,GAAG,CAAC,CAAC,GAAGvE,WAAW,CAACkE,UAAU,EAAEG,UAAU,CAAC,GAAGtB,eAAe;cACpFe,eAAe,CAACS,OAAO,GAAG,CAAC,CAAC,GAAGD,iBAAiB;YACpD;UACJ;UAEA,IAAI,CAACE,eAAe,GAAG,IAAIR,YAAY,CAACf,SAAS,CAAC;QACtD;QAAC,IAAAwB,MAAA,GAAA5B,oCAAA,CAAA6B,SAAA;QAAAD,MAAA,CAEME,WAAW,GAAlB,SAAAA,YAAoBxG,OAAiB,EAAE6C,KAAqB,EAAQ;UAChE,IACwBoC,iBAAiB,GAIrC,IAAI,CAJJC,kBAAkB;YACEH,iBAAiB,GAGrC,IAAI,CAHJC,kBAAkB;YACAW,eAAe,GAEjC,IAAI,CAFJC,gBAAgB;YACCa,cAAc,GAC/B,IAAI,CADJJ,eAAe;UAGnB,IAC4BK,mBAAmB,GAI3ChC,oCAAoC,CAJpCiC,sBAAsB;YACVC,QAAQ,GAGpBlC,oCAAoC,CAHpCmC,UAAU;YACEC,QAAQ,GAEpBpC,oCAAoC,CAFpCqC,UAAU;YACSnC,eAAe,GAClCF,oCAAoC,CADpCG,iBAAiB;UAGrB,IAAMC,SAAS,GAAGG,iBAAiB,CAACnG,MAAM;UAC1C0D,YAAY,CAACxC,OAAO,CAAClB,MAAM,KAAKgG,SAAS,CAAC;;UAE1C;UACA,IAAIA,SAAS,KAAK,CAAC,EAAE;YACjB;UACJ,CAAC,MAAM,IAAIA,SAAS,KAAK,CAAC,EAAE;YACxB9E,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG;YAChB;UACJ;UAEA,IAAMgH,EAAE,GAAGnE,KAAK;UAChB,IAAMoE,UAAU,GAAGxH,IAAI,CAACgG,GAAG,CAACuB,EAAE,CAAC;;UAE/B;UACA;UACA,IAAME,SAAS,GAAGT,cAAc;UAChC,IAAIhH,IAAI,CAACC,MAAM,CAACsH,EAAE,EAAEvH,IAAI,CAACsD,IAAI,CAAC,EAAE;YAC5B,KAAK,IAAIsC,QAAQ,GAAG,CAAC,EAAEA,QAAQ,GAAGP,SAAS,EAAE,EAAEO,QAAQ,EAAE;cACrD6B,SAAS,CAAC7B,QAAQ,CAAC,GAAG,GAAG;YAC7B;UACJ,CAAC,MAAM;YACH,IAAM8B,UAAU,GAAG1H,IAAI,CAACiG,cAAc,CAACgB,mBAAmB,EAAEM,EAAE,EAAE,GAAG,GAAGC,UAAU,CAAC;YACjF,KAAK,IAAI5B,SAAQ,GAAG,CAAC,EAAEA,SAAQ,GAAGP,SAAS,EAAE,EAAEO,SAAQ,EAAE;cACrD,IAAMU,UAAU,GAAGd,iBAAiB,CAACI,SAAQ,CAAC;cAC9C,IAAI5F,IAAI,CAACC,MAAM,CAACqG,UAAU,EAAEtG,IAAI,CAACsD,IAAI,CAAC,EAAE;gBACpCmE,SAAS,CAAC7B,SAAQ,CAAC,GAAG,GAAG;cAC7B,CAAC,MAAM;gBACH6B,SAAS,CAAC7B,SAAQ,CAAC,GAAGxD,WAAW,CAACkE,UAAU,EAAEoB,UAAU,CAAC,GAAGvC,eAAe;cAC/E;YACJ;UACJ;;UAEA;UACA,IAAIwC,WAAW,GAAG,GAAG;UACrB,KAAK,IAAI/B,UAAQ,GAAG,CAAC,EAAEA,UAAQ,GAAGP,SAAS,EAAE,EAAEO,UAAQ,EAAE;YACrD,IAAMS,UAAU,GAAGf,iBAAiB,CAACM,UAAQ,CAAC;YAC9C,IAAMU,WAAU,GAAGd,iBAAiB,CAACI,UAAQ,CAAC;YAC9C,IAAIgC,YAAY,GAAG3G,MAAM,CAAC4G,iBAAiB,CAAC,CAAC;YAC7C,KAAK,IAAItB,QAAQ,GAAG,CAAC,EAAEA,QAAQ,GAAGlB,SAAS,EAAE,EAAEkB,QAAQ,EAAE;cACrD,IAAIX,UAAQ,KAAKW,QAAQ,EAAE;gBACvB;cACJ;cAEA,IAAME,UAAU,GAAGjB,iBAAiB,CAACe,QAAQ,CAAC;cAE9C,IAAMuB,oBAAoB,GAAG9C,2BAA2B,IAAIK,SAAS,GAAGO,UAAQ,GAAGW,QAAQ,CAAC;cAC5F,IACgCwB,MAAM,GAGlC7B,eAAe,CAHd4B,oBAAoB,GAAG,CAAC;gBACGE,mBAAmB,GAE/C9B,eAAe,CAFd4B,oBAAoB,GAAG,CAAC;gBACGpB,iBAAiB,GAC7CR,eAAe,CADd4B,oBAAoB,GAAG,CAAC;cAG7B,IAAIG,QAAQ,GAAGD,mBAAmB;cAClC,IAAIE,QAAQ,GAAGT,SAAS,CAAC7B,UAAQ,CAAC;;cAElC;cACA;cACA;cACA;cACA;cACA,IAAI5F,IAAI,CAACC,MAAM,CAACqG,WAAU,EAAEtG,IAAI,CAACsD,IAAI,CAAC,EAAE;gBACpC2E,QAAQ,GAAGR,SAAS,CAAClB,QAAQ,CAAC;gBAC9B;cACJ,CAAC,MAAM,IAAIvG,IAAI,CAACC,MAAM,CAACwG,UAAU,EAAEzG,IAAI,CAACsD,IAAI,CAAC,EAAE;gBAC3C2E,QAAQ,GAAGR,SAAS,CAAC7B,UAAQ,CAAC;cAClC,CAAC,MAAM,IAAI5F,IAAI,CAACC,MAAM,CAACsH,EAAE,EAAEvH,IAAI,CAACsD,IAAI,CAAC,EAAE;gBACnC4E,QAAQ,GAAGD,QAAQ;cACvB;cAEA,IAAME,GAAG,GAAGnI,IAAI,CAACoI,GAAG,CAACjB,QAAQ,EAAEY,MAAM,EAAEE,QAAQ,CAAC;cAChD,IAAMI,GAAG,GAAGrI,IAAI,CAACoI,GAAG,CAChBf,QAAQ,EACR,CAACG,UAAU,GAAGnB,UAAU,IAAIK,iBAAiB,EAC7CwB,QACJ,CAAC;;cAED;cACA;cACA,IAAMlH,SAAS,GAAG,GAAG,GAAGhB,IAAI,CAACsB,GAAG,CAAC+G,GAAG,EAAEF,GAAG,CAAC,GAAGnI,IAAI,CAACuB,SAAS,CAAC4G,GAAG,CAAC;cAChE,IAAInH,SAAS,IAAI,CAAC,EAAE;gBAAE;gBAClB4G,YAAY,GAAG,GAAG;gBAClB,MAAM,CAAC;cACX;;cACAA,YAAY,GAAGpG,IAAI,CAACC,GAAG,CAACmG,YAAY,EAAE5G,SAAS,CAAC;YACpD;YACAT,OAAO,CAACqF,UAAQ,CAAC,GAAGgC,YAAY;YAChCD,WAAW,IAAIC,YAAY;UAC/B;;UAEA;UACA,IAAID,WAAW,GAAG,CAAC,EAAE;YACjB,KAAK,IAAI/B,UAAQ,GAAG,CAAC,EAAEA,UAAQ,GAAGP,SAAS,EAAE,EAAEO,UAAQ,EAAE;cACrDrF,OAAO,CAACqF,UAAQ,CAAC,IAAI+B,WAAW;YACpC;UACJ,CAAC,MAAM;YACH;YACA;YACA,IAAMW,QAAQ,GAAG,GAAG,GAAGjD,SAAS;YAChC,KAAK,IAAIO,UAAQ,GAAG,CAAC,EAAEA,UAAQ,GAAGP,SAAS,EAAE,EAAEO,UAAQ,EAAE;cACrDrF,OAAO,CAACqF,UAAQ,CAAC,GAAG0C,QAAQ;YAChC;UACJ;QACJ;;QAKA;AACJ;AACA,WAFI;QAAA,OAAArD,oCAAA;MAAA;MA3KSA,oCAAoC,CAC9BiC,sBAAsB,GAAG,IAAIlH,IAAI,CAAC,CAAC;MADzCiF,oCAAoC,CAG9BmC,UAAU,GAAG,IAAIpH,IAAI,CAAC,CAAC;MAH7BiF,oCAAoC,CAK9BqC,UAAU,GAAG,IAAItH,IAAI,CAAC,CAAC;MAL7BiF,oCAAoC,CAO9BG,iBAAiB,GAAG,GAAG;IAAA;EAAA;AAAA"}