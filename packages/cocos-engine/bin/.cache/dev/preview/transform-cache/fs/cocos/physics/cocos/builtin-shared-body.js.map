{"version":3,"names":["Mat4","_coreIndexJs","Quat","Vec3","js","geometry","_objectBuiltinObjectJs","BuiltinObject","_frameworkIndexJs","PhysicsSystem","_frameworkPhysicsEnumJs","PhysicsGroup","execute","m4_0","v3_0","v3_1","quat_0","_export","BuiltinSharedBody","_BuiltinObject","_inheritsLoose","getSharedBody","node","wrappedWorld","wrappedBody","key","uuid","newSB","sharedBodesMap","has","get","g","DEFAULT","m","instance","collisionMatrix","collisionFilterGroup","collisionFilterMask","set","rigidBody","group","world","_this","call","_id","index","ref","shapes","idCounter","_proto","prototype","intersects","body","i","length","shapeA","j","shapeB","collider","needTriggerEvent","intersect","resolve","worldShape","shapeArr","push","addShape","shape","indexOf","removeShape","array","fastRemoveAt","syncSceneToPhysics","hasChangedFlags","getWorldMatrix","worldPosition","worldRotation","worldScale","transform","syncInitial","destroy","_createClass","v","bodies","addSharedBody","isRemove","removeSharedBody","_class","Map"],"sources":["../../../../../../../../../cocos/physics/cocos/builtin-shared-body.ts"],"mappings":"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"}