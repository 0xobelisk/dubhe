{"version":3,"names":["rayAABB2","ray","min","max","o","d","ix","x","iy","y","iz","z","t1","t2","t3","t4","t5","t6","tmin","Math","tmax","setters","_coreIndexJs","Vec3","Mat4","geometry","_gfxIndexJs","PrimitiveMode","execute","raySubMesh","tri","Triangle","create","deOpt","distance","Infinity","doubleSided","mode","ERaycastMode","ANY","minDis","fillResult","m","i0","i1","i2","r","CLOSEST","length","push","vertexIndex0","vertexIndex1","vertexIndex2","narrowphase","vb","ib","pm","opt","TRIANGLE_LIST","cnt","j","set","a","b","c","dist","intersect","rayTriangle","result","TRIANGLE_STRIP","rev","TRIANGLE_FAN","submesh","options","geometricInfo","positions","undefined","boundingBox","primitiveMode","_submesh$geometricInf","indices","rayMesh","mesh","renderingSubMeshes","struct","minPosition","maxPosition","i","sm","dis","subIndices","rayModel","modelRay","Ray","m4","model","wb","worldBounds","rayAABB","copy","node","invert","getWorldMatrix","transformMat4","transformMat4Normal","subModels","subMesh"],"sources":["../../../../../../../../cocos/misc/intersect.ts"],"mappings":"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"}