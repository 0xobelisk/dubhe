{"version":3,"names":["setters","_coreDataDecoratorsIndexJs","ccclass","displayOrder","type","serializable","_virtualInternal253AconstantsJs","EDITOR","_assetAssetManagerBuiltinResMgrJs","builtinResMgr","_renderPipelineJs","RenderPipeline","PipelineRenderData","PipelineInputAssemblerData","_mainFlowJs","MainFlow","_pipelineSerializationJs","RenderTextureConfig","_shadowShadowFlowJs","ShadowFlow","_gfxIndexJs","Format","StoreOp","ColorAttachment","DepthStencilAttachment","LoadOp","RenderPassInfo","AccessFlagBit","TextureInfo","TextureType","TextureUsageBit","FramebufferInfo","GeneralBarrierInfo","_defineJs","UBOGlobal","UBOCamera","UBOShadow","UNIFORM_SHADOWMAP_BINDING","UNIFORM_SPOT_SHADOW_MAP_TEXTURE_BINDING","_corePlatformDebugJs","errorID","_deferredPipelineSceneDataJs","DeferredPipelineSceneData","_pipelineEventJs","PipelineEventType","execute","PIPELINE_TYPE","_export","DeferredRenderData","_PipelineRenderData","_inheritsLoose","_this","_len","arguments","length","args","Array","_key","call","apply","concat","gbufferFrameBuffer","gbufferRenderTargets","DeferredPipeline","_dec","_dec2","_dec3","_class2","_class3","_RenderPipeline","_this2","_len2","_key2","_gbufferRenderPass","_lightingRenderPass","renderTextures","_initializer","_proto","prototype","initialize","info","_flows","shadowFlow","initInfo","push","mainFlow","activate","swapchain","console","_macros","CC_PIPELINE_TYPE","_pipelineSceneData","_activeRenderer","destroy","_destroyUBOs","_destroyQuadInputAssembler","_destroyDeferredData","rpIter","_renderPasses","values","rpRes","next","done","value","_commandBuffers","onGlobalPipelineStateChanged","pipelineSceneData","updatePipelineSceneData","getPipelineRenderData","_pipelineRenderData","_generateDeferredRenderData","device","commandBuffer","sampler","globalDSManager","pointSampler","_descriptorSet","bindSampler","bindTexture","get","getGFXTexture","update","inputAssemblerDataOffscreen","_createQuadInputAssembler","quadIB","quadVB","quadIA","_quadIB","_quadVBOffscreen","_quadIAOffscreen","inputAssemblerDataOnscreen","_quadVBOnscreen","_quadIAOnscreen","colorAttachment0","format","RGBA16F","loadOp","CLEAR","storeOp","STORE","colorAttachment1","colorAttachment2","depthStencilAttachment","DEPTH_STENCIL","depthLoadOp","depthStoreOp","stencilLoadOp","stencilStoreOp","renderPassInfo","createRenderPass","colorAttachment","RGBA8","barrier","getGeneralBarrier","NONE","COLOR_ATTACHMENT_WRITE","LOAD","DISCARD","DEPTH_STENCIL_ATTACHMENT_WRITE","_width","width","_height","height","getBuffer","BINDING","getTexture","deferredData","outputFrameBuffer","outputDepth","i","outputRenderTargets","_destroyBloomData","_ensureEnoughSize","cameras","newWidth","newHeight","window","Math","max","_this3","data","sceneData","createTexture","TEX2D","COLOR_ATTACHMENT","SAMPLED","shadingScale","DEPTH_STENCIL_ATTACHMENT","createFramebuffer","on","ATTACHMENT_SCALE_CAHNGED","val","linearSampler","newFramebufferByRatio","_applyDecoratedInitializer"],"sources":["../../../../../../../../../cocos/rendering/deferred/deferred-pipeline.ts"],"mappings":"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"}