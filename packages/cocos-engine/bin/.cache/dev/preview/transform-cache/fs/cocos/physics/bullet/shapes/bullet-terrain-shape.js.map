{"version":3,"names":["setters","_bulletShapeJs","BulletShape","_coreIndexJs","Vec3","warn","_bulletUtilsJs","cocos2BulletVec3","_bulletCacheJs","CC_V3_0","BulletCache","_instantiatedJs","bt","execute","_export","BulletTerrainShape","_BulletShape","_inheritsLoose","_this","_len","arguments","length","args","Array","_key","call","apply","concat","_bufPtr","_tileSize","_localOffset","_proto","prototype","setTerrain","v","_isInitialized","_impl","isNotEmptyShape","terrain","tileSize","sizeI","getVertexCountI","sizeJ","getVertexCountJ","_malloc","offset","min","Number","MAX_SAFE_INTEGER","max","MIN_SAFE_INTEGER","j","i","getHeight","_write_f32","set","TerrainShape_new","bt_v3","instance","BT_V3_0","Vec3_set","CollisionShape_setLocalScaling","setCompound","_compound","updateByReAdd","setWrapper","EmptyShape_static","onComponentSet","collider","onDestroy","_free","setCenter","copy","add","Transform_getOrigin","transform","updateCompoundTransform","_createClass","key","get","_collider"],"sources":["../../../../../../../../../../cocos/physics/bullet/shapes/bullet-terrain-shape.ts"],"mappings":"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"}