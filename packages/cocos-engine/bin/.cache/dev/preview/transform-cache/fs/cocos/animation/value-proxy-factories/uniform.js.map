{"version":3,"names":["isUniformArray","pass","name","_iterator","_createForOfIteratorHelperLoose","shaderInfo","blocks","_step","done","block","value","_iterator2","members","_step2","uniform","count","setters","_coreDataDecoratorsIndexJs","ccclass","float","serializable","_assetAssetManagerIndexJs","builtinResMgr","_assetAssetsMaterialJs","Material","_assetAssetsTextureBaseJs","TextureBase","_gfxIndexJs","deviceManager","Type","_renderSceneCorePassJs","Pass","_renderSceneCorePassUtilsJs","getDefaultFromType","getStringFromType","_coreIndexJs","warn","warnID","execute","_export","UniformProxyFactory","_dec","_class","_class2","uniformName","passIndex","_initializer","_initializer2","_initializerDefineProperty","_descriptor","_proto","prototype","forTarget","target","undefined","channelIndex","passes","length","handle","getHandle","type","getTypeFromHandle","SAMPLER1D","realHandle","FLOAT","set","setUniformArray","setUniform","binding","getBindingFromHandle","prop","properties","texName","dftTex","get","texture","getGFXTexture","width","height","bindTexture","bindSampler","gfxDevice","getSampler","getSamplerInfo","_applyDecoratedInitializer","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sources":["../../../../../../../../../cocos/animation/value-proxy-factories/uniform.ts"],"mappings":"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"}