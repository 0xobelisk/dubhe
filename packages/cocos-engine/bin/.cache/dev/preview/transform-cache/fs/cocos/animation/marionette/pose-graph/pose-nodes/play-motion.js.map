{"version":3,"names":["EDITOR","_virtualInternal253AconstantsJs","_coreDataDecoratorsIndexJs","ccclass","editable","serializable","unit","_defineJs","CLASS_NAME_PREFIX_ANIM","_motionClipMotionJs","ClipMotion","_createEvalJs","createEval","_poseNodeJs","PoseNode","_decoratorInputJs","input","_foundationTypeSystemJs","PoseGraphType","_motionSyncMotionSyncInfoJs","MotionSyncInfo","_decoratorNodeJs","poseGraphCreateNodeFactory","poseGraphNodeAppearance","poseGraphNodeCategory","_menuCommonJs","POSE_GRAPH_NODE_MENU_PREFIX_POSE","_playOrSampleMotionPoseNodeSharedJs","getEnterInfo","getTileBase","makeCreateNodeFactory","_coreIndexJs","clamp01","execute","ZERO_DURATION_THRESHOLD","_export","PoseNodePlayMotion","_dec","_dec2","_dec3","motion","node","_dec4","themeColor","_dec5","type","FLOAT","_dec6","_dec7","_class","_class2","_PoseNode","_inheritsLoose","_this","_len","arguments","length","args","Array","_key","call","apply","concat","_initializer","syncInfo","_initializer2","_initializerDefineProperty","_descriptor","_assertThisInitialized","_descriptor2","_workspace","_runtimeSyncRecord","undefined","_proto","prototype","bind","context","motionEval","Workspace","createPort","group","motionSyncManager","register","settle","reenter","runtimeSyncRecord","duration","_forceEvaluateEvaluation","startTimeNormalized","startTime","notifyRenter","normalizedTime","lastIndicativeWeight","doUpdate","deltaTime","normalizedDeltaTime","speedMultiplier","notifyUpdate","indicativeWeight","doEvaluate","pushDefaultedPose","getSyncedEnterTime","motionEvalPort","evaluate","_createClass","key","get","_this$_workspace$last","_this$_workspace","_this$_workspace$norm","_this$_workspace2","_applyDecoratedInitializer","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer","getTitle"],"sources":["../../../../../../../../../../../cocos/animation/marionette/pose-graph/pose-nodes/play-motion.ts"],"mappings":"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"}